This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.env.example
.firebase/hosting.ZnJvbnRlbmRcZGlzdA.cache
.firebaserc
.github/workflows/firebase-hosting-merge.yml
.github/workflows/firebase-hosting-pull-request.yml
.gitignore
9gag_urls.csv
aE0jr5o
aE0jr5o_460sv
backend/.env.example
backend/.gitignore
backend/package.json
backend/prisma.config.ts
backend/prisma/migrations/20251204221945_init/migration.sql
backend/prisma/migrations/20251204233504_add_friends_reactions/migration.sql
backend/prisma/migrations/20251205005345_notifications_chat_preferences/migration.sql
backend/prisma/migrations/20251205030205_themes_gamification/migration.sql
backend/prisma/migrations/20251206053730_add_squads_projects_badges_feedback/migration.sql
backend/prisma/migrations/20251206054900_add_squads_projects_badges_feedback_v2/migration.sql
backend/prisma/migrations/20251206071154_add_onboarding_flag/migration.sql
backend/prisma/migrations/20251206071220_add_onboarding_flag/migration.sql
backend/prisma/migrations/20251206073138_add_project_progress/migration.sql
backend/prisma/migrations/20251206073204_add_project_progress/migration.sql
backend/prisma/migrations/20251206074116_add_profile_video_cover/migration.sql
backend/prisma/migrations/20251206080653_add_cover_video/migration.sql
backend/prisma/migrations/20251206174818_add_hashtag_stats/migration.sql
backend/prisma/migrations/20251206203340_add_unique_usertermstats/migration.sql
backend/prisma/migrations/20251206232135_add_term_and_relation_models/migration.sql
backend/prisma/migrations/20251207173539_add_post_hashtags/migration.sql
backend/prisma/migrations/migration_lock.toml
backend/prisma/schema.prisma
backend/prisma/seed.js
backend/src/config/tagCategories.js
backend/src/config/topics.js
backend/src/middleware/auth.js
backend/src/prisma.js
backend/src/routes/auth.js
backend/src/routes/chat.js
backend/src/routes/feedback.js
backend/src/routes/friends.js
backend/src/routes/hashtags.js
backend/src/routes/notifications.js
backend/src/routes/posts.js
backend/src/routes/preferences.js
backend/src/routes/reels.js
backend/src/routes/shop.js
backend/src/routes/squads.js
backend/src/routes/theme.js
backend/src/routes/users.js
backend/src/server.js
backend/src/services/aiClient.js
backend/src/services/aiPostAnalyzer.js
backend/src/services/cloudinaryService.js
backend/src/services/gamificationService.js
backend/src/services/themeSuggestionService.js
backend/src/utils/ambiguousReferencesAI.js
backend/src/utils/hashtags.js
backend/src/utils/notify.js
backend/src/utils/terms.js
backend/src/utils/termStatsUpdater.js
backend/src/utils/topicDetection.js
backend/src/utils/userRelations.js
background.jsx
error.txt
firebase.json
frontend/.env.example
frontend/.gitignore
frontend/docs/assets/index-D7InCHiI.css
frontend/docs/assets/index-DQhyzxGP.js
frontend/docs/index.html
frontend/docs/vite.svg
frontend/eslint.config.js
frontend/index.html
frontend/package.json
frontend/postcss.config.js
frontend/public/MacanudosLogo.png
frontend/public/MacanudosLogonew.svg
frontend/public/sfx-office-keyboard3.mp3
frontend/public/vite.svg
frontend/README.md
frontend/src/api/client.js
frontend/src/App.css
frontend/src/App.jsx
frontend/src/assets/react.svg
frontend/src/components/Avatar.jsx
frontend/src/components/Burst.jsx
frontend/src/components/feed/FeedTabs.tsx
frontend/src/components/FeedTabs.jsx
frontend/src/components/FriendRequests.jsx
frontend/src/components/icons/Icons.jsx
frontend/src/components/layout/Header.tsx
frontend/src/components/layout/RightSidebar.tsx
frontend/src/components/Lightbox.jsx
frontend/src/components/LoginBackground.jsx
frontend/src/components/MacanudosLogo.jsx
frontend/src/components/MobileBottomNav.jsx
frontend/src/components/MobileHeader.jsx
frontend/src/components/NavBar.jsx
frontend/src/components/NotificationBell.jsx
frontend/src/components/OnboardingWizard.jsx
frontend/src/components/PostCard.jsx
frontend/src/components/PostComposer.jsx
frontend/src/components/ProtectedRoute.jsx
frontend/src/components/SplashLogo.jsx
frontend/src/components/SuggestedUsers.jsx
frontend/src/components/ThemeToggle.jsx
frontend/src/components/TrendingHashtags.jsx
frontend/src/components/UserSearch.jsx
frontend/src/constants/reactions.js
frontend/src/context/AuthContext.jsx
frontend/src/context/LightboxContext.jsx
frontend/src/context/PreferencesContext.jsx
frontend/src/context/ThemeContext.jsx
frontend/src/context/UserThemeContext.jsx
frontend/src/features/highlights/HighlightsRow.jsx
frontend/src/features/highlights/HighlightViewer.jsx
frontend/src/features/highlights/MobileHighlightsSection.jsx
frontend/src/features/highlights/ModeConfig.js
frontend/src/features/highlights/ModePicker.jsx
frontend/src/features/highlights/ModePickerButton.jsx
frontend/src/features/highlights/reelData.js
frontend/src/features/highlights/reelService.js
frontend/src/features/highlights/ReelsModeProvider.jsx
frontend/src/features/highlights/useHighlights.js
frontend/src/hooks/useCardStyle.js
frontend/src/index.css
frontend/src/lib/firebase.js
frontend/src/main.jsx
frontend/src/pages/Chat.jsx
frontend/src/pages/EditProfile.jsx
frontend/src/pages/Feed.jsx
frontend/src/pages/Feedback.jsx
frontend/src/pages/Login.jsx
frontend/src/pages/Profile.jsx
frontend/src/pages/Register.jsx
frontend/src/pages/Settings.jsx
frontend/src/pages/Shop.jsx
frontend/src/pages/SquadDetail.jsx
frontend/src/pages/Squads.jsx
frontend/src/pages/TagFeed.jsx
frontend/src/theme/decorations/NatureDecorations.jsx
frontend/src/theme/decorations/RacingDecorations.jsx
frontend/src/theme/themesConfig.js
frontend/src/types/Post.ts
frontend/src/utils/formatTextWithHashtags.jsx
frontend/tailwind.config.js
frontend/temp_edit.js
frontend/vite.config.js
Hastags.txt
MacanudosLogo.jsx
MacanudosLogonew.txt
package.json
procedimiento.txt
prompts_tags.txt
public/index.html
README.md
render.yaml
sfx-office-keyboard3.mp3
SocialNetwork-c4565de5e99263fbe97eeb12d65f53b3ef7637b5.zip
urlscralepr.py
urlsfinales.csv
videosurls.py
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".firebase/hosting.ZnJvbnRlbmRcZGlzdA.cache">
vite.svg,1764903550000,699a02e0e68a579f687d364bbbe7633161244f35af068220aee37b1b33dfb3c7
index.html,1765245187698,99b55660088d627e23195e27c84b39cbfaea1caf5057acd2cb4a5f27440f2818
assets/index-D7InCHiI.css,1765245187698,71e8a096ad719916e1f5d0ff3ce90168eb69e98db4a70de3634218ce11de260a
assets/index-Cy4i5hq1.js,1765245187698,7fea60dd38ec57d98aa92f8f93f26020c64d00301acc103a2e25ffe9bf0970e0
</file>

<file path=".firebaserc">
{
  "projects": {
    "default": "socialnetwork-ed0ab"
  }
}
</file>

<file path=".github/workflows/firebase-hosting-merge.yml">
# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on merge
on:
  push:
    branches:
      - main
jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build
        run: |
          cd frontend
          npm ci
          npm run build
      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: ${{ secrets.GITHUB_TOKEN }}
          firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_SOCIALNETWORK_ED0AB }}
          channelId: live
          projectId: socialnetwork-ed0ab
</file>

<file path=".github/workflows/firebase-hosting-pull-request.yml">
# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on PR
on: pull_request
permissions:
  checks: write
  contents: read
  pull-requests: write
jobs:
  build_and_preview:
    if: ${{ github.event.pull_request.head.repo.full_name == github.repository }}
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build
        run: |
          cd frontend
          npm ci
          npm run build
      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: ${{ secrets.GITHUB_TOKEN }}
          firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_SOCIALNETWORK_ED0AB }}
          projectId: socialnetwork-ed0ab
</file>

<file path=".gitignore">
node_modules
backend/node_modules
frontend/node_modules
backend/uploads
.env
backend/.env
frontend/.env
</file>

<file path="9gag_urls.csv">
https://img-9gag-fun.9cache.com/photo/aGyrPRn_460svav1.mp4,oldmeme,2025-12-15T21:39:54.219522
https://img-9gag-fun.9cache.com/photo/a0eDmbz_460svav1.mp4,oldmeme,2025-12-15T21:39:54.221519
https://img-9gag-fun.9cache.com/photo/aoyGBZw_460svav1.mp4,oldmeme,2025-12-15T21:39:56.689902
https://img-9gag-fun.9cache.com/photo/awy9R61_460svav1.mp4,oldmeme,2025-12-15T21:40:03.672786
https://img-9gag-fun.9cache.com/photo/adBWZZ2_460svav1.mp4,oldmeme,2025-12-15T21:40:03.672786
https://img-9gag-fun.9cache.com/photo/a34z9re_460svav1.mp4,oldmeme,2025-12-15T21:40:09.980733
https://img-9gag-fun.9cache.com/photo/aE0jr5o_460svav1.mp4,oldmeme,2025-12-15T21:40:16.027545
https://img-9gag-fun.9cache.com/photo/axyexQM_460sv.mp4,oldmeme,2025-12-15T21:40:23.227436
https://img-9gag-fun.9cache.com/photo/agmpM6g_460sv.mp4,oldmeme,2025-12-15T21:40:23.228431
https://img-9gag-fun.9cache.com/photo/ayNmgL8_460sv.mp4,oldmeme,2025-12-15T21:40:30.833705
https://img-9gag-fun.9cache.com/photo/avyBY2b_460sv.mp4,oldmeme,2025-12-15T21:40:39.674521
https://img-9gag-fun.9cache.com/photo/aVv9nXw_460sv.mp4,oldmeme,2025-12-15T21:40:39.674521
https://img-9gag-fun.9cache.com/photo/axyeXwW_460sv.mp4,oldmeme,2025-12-15T21:40:47.030529
https://img-9gag-fun.9cache.com/photo/an70LAn_460sv.mp4,oldmeme,2025-12-15T21:40:47.031527
https://img-9gag-fun.9cache.com/photo/avyB3X5_460svav1.mp4,oldmeme,2025-12-15T21:40:54.330191
https://img-9gag-fun.9cache.com/photo/amoOEMy_460svav1.mp4,oldmeme,2025-12-15T21:40:54.330191
https://img-9gag-fun.9cache.com/photo/aMV03zW_460sv.mp4,oldmeme,2025-12-15T21:40:54.331189
https://img-9gag-fun.9cache.com/photo/aE0jLq9_460svav1.mp4,oldmeme,2025-12-15T21:41:01.341728
https://img-9gag-fun.9cache.com/photo/a0eD2vv_460sv.mp4,oldmeme,2025-12-15T21:41:07.501680
https://img-9gag-fun.9cache.com/photo/axyeXjL_460sv.mp4,oldmeme,2025-12-15T21:41:07.502676
https://img-9gag-fun.9cache.com/photo/amoO3Qo_460sv.mp4,oldmeme,2025-12-15T21:41:14.982790
https://img-9gag-fun.9cache.com/photo/aMV0gxG_460sv.mp4,oldmeme,2025-12-15T21:41:31.384401
https://img-9gag-fun.9cache.com/photo/amoO32d_460sv.mp4,oldmeme,2025-12-15T21:41:31.385396
https://img-9gag-fun.9cache.com/photo/aAyLjRE_460sv.mp4,oldmeme,2025-12-15T21:41:38.412898
https://img-9gag-fun.9cache.com/photo/ayNmbOq_460svav1.mp4,oldmeme,2025-12-15T21:41:45.712608
https://img-9gag-fun.9cache.com/photo/axyeLA1_460sv.mp4,oldmeme,2025-12-15T21:41:52.464825
https://img-9gag-fun.9cache.com/photo/awy9EO1_460sv.mp4,oldmeme,2025-12-15T21:41:58.837065
https://img-9gag-fun.9cache.com/photo/aGyrmLw_460svav1.mp4,oldmeme,2025-12-15T21:41:58.837065
https://img-9gag-fun.9cache.com/photo/aLnOZz5_460sv.mp4,oldmeme,2025-12-15T21:41:58.838062
https://img-9gag-fun.9cache.com/photo/ae9q8vB_460sv.mp4,oldmeme,2025-12-15T21:42:04.904861
https://img-9gag-fun.9cache.com/photo/an70Pmz_460sv.mp4,oldmeme,2025-12-15T21:42:04.905858
https://img-9gag-fun.9cache.com/photo/a87vxNZ_460sv.mp4,oldmeme,2025-12-15T21:42:10.828022
https://img-9gag-fun.9cache.com/photo/an70PW5_460sv.mp4,oldmeme,2025-12-15T21:42:10.829019
https://img-9gag-fun.9cache.com/photo/aGyr4nX_460sv.mp4,oldmeme,2025-12-15T21:42:26.818310
https://img-9gag-fun.9cache.com/photo/aO8nLZM_460sv.mp4,oldmeme,2025-12-15T21:42:26.818310
https://img-9gag-fun.9cache.com/photo/aW4e3G6_460svav1.mp4,oldmeme,2025-12-15T21:42:33.458976
https://img-9gag-fun.9cache.com/photo/a6ZeYOe_460svav1.mp4,oldmeme,2025-12-15T21:42:33.458976
https://img-9gag-fun.9cache.com/photo/aoyGQMA_460sv.mp4,oldmeme,2025-12-15T21:42:33.458976
https://img-9gag-fun.9cache.com/photo/aMV0MBx_460sv.mp4,oldmeme,2025-12-15T21:42:33.459973
https://img-9gag-fun.9cache.com/photo/aZZ4OLn_460sv.mp4,oldmeme,2025-12-15T21:42:40.492054
https://img-9gag-fun.9cache.com/photo/aXPm69D_460svav1.mp4,oldmeme,2025-12-15T21:42:40.496042
https://img-9gag-fun.9cache.com/photo/aXPm60P_460sv.mp4,oldmeme,2025-12-15T21:42:40.497040
https://img-9gag-fun.9cache.com/photo/axyeqNb_460sv.mp4,oldmeme,2025-12-15T21:42:48.339111
https://img-9gag-fun.9cache.com/photo/aRB8qwM_460sv.mp4,oldmeme,2025-12-15T21:42:48.339111
https://img-9gag-fun.9cache.com/photo/aAyL9zR_460sv.mp4,oldmeme,2025-12-15T21:42:55.140690
https://img-9gag-fun.9cache.com/photo/aLnOEVA_460sv.mp4,oldmeme,2025-12-15T21:42:55.141689
https://img-9gag-fun.9cache.com/photo/aGyrQAZ_460sv.mp4,oldmeme,2025-12-15T21:42:55.141689
https://img-9gag-fun.9cache.com/photo/azxv3jq_460sv.mp4,oldmeme,2025-12-15T21:43:19.892059
https://img-9gag-fun.9cache.com/photo/a9y4GYK_460sv.mp4,oldmeme,2025-12-15T21:43:19.893056
https://img-9gag-fun.9cache.com/photo/abALwNp_460svav1.mp4,oldmeme,2025-12-15T21:43:26.427411
https://img-9gag-fun.9cache.com/photo/amoOD26_460svav1.mp4,anime,2025-12-15T21:43:58.684584
https://img-9gag-fun.9cache.com/photo/abALj3v_460svav1.mp4,anime,2025-12-15T21:43:58.684584
https://img-9gag-fun.9cache.com/photo/abALPPb_460svav1.mp4,anime,2025-12-15T21:44:01.048266
https://img-9gag-fun.9cache.com/photo/aPAVN5K_460sv.mp4,anime,2025-12-15T21:44:01.048266
https://img-9gag-fun.9cache.com/photo/aLnOyyx_460sv.mp4,anime,2025-12-15T21:44:26.386402
https://img-9gag-fun.9cache.com/photo/adBWZNZ_460sv.mp4,anime,2025-12-15T21:44:26.386402
https://img-9gag-fun.9cache.com/photo/aD2qEr7_460svav1.mp4,anime,2025-12-15T21:44:41.913082
https://img-9gag-fun.9cache.com/photo/adBWEmZ_460svav1.mp4,anime,2025-12-15T21:45:09.425297
https://img-9gag-fun.9cache.com/photo/aVv9AKy_460sv.mp4,anime,2025-12-15T21:45:35.534321
https://img-9gag-fun.9cache.com/photo/an706nE_460sv.mp4,anime,2025-12-15T21:45:42.301750
https://img-9gag-fun.9cache.com/photo/aO8nw02_460svav1.mp4,anime,2025-12-15T21:45:49.659303
https://img-9gag-fun.9cache.com/photo/aMV0g4V_460sv.mp4,anime,2025-12-15T21:45:49.659303
https://img-9gag-fun.9cache.com/photo/awy9wo4_460sv.mp4,anime,2025-12-15T21:45:55.696840
https://img-9gag-fun.9cache.com/photo/an706qz_460svav1.mp4,anime,2025-12-15T21:46:11.445478
https://img-9gag-fun.9cache.com/photo/abAL7yb_460sv.mp4,anime,2025-12-15T21:46:11.446475
https://img-9gag-fun.9cache.com/photo/aryDY45_460sv.mp4,anime,2025-12-15T21:46:11.446475
https://img-9gag-fun.9cache.com/photo/aYQv31m_460svav1.mp4,anime,2025-12-15T21:46:28.915269
https://img-9gag-fun.9cache.com/photo/a9y4x6m_460sv.mp4,anime,2025-12-15T21:46:44.812258
https://img-9gag-fun.9cache.com/photo/aO8nM4y_460sv.mp4,anime,2025-12-15T21:46:51.569604
https://img-9gag-fun.9cache.com/photo/agmpDBg_460sv.mp4,anime,2025-12-15T21:46:51.569604
https://img-9gag-fun.9cache.com/photo/agmpDnv_460sv.mp4,anime,2025-12-15T21:46:58.098124
https://img-9gag-fun.9cache.com/photo/a7omYdb_460svav1.mp4,anime,2025-12-15T21:46:58.098124
https://img-9gag-fun.9cache.com/photo/aGyr4Xz_460svav1.mp4,anime,2025-12-15T21:47:05.780653
https://img-9gag-fun.9cache.com/photo/aE0jm5x_460sv.mp4,anime,2025-12-15T21:47:05.780653
https://img-9gag-fun.9cache.com/photo/azxvpoB_460svav1.mp4,anime,2025-12-15T21:47:05.781651
https://img-9gag-fun.9cache.com/photo/aQzDW2q_460svav1.mp4,anime,2025-12-15T21:47:13.239311
https://img-9gag-fun.9cache.com/photo/a34zXq7_460svav1.mp4,anime,2025-12-15T21:47:20.131689
https://img-9gag-fun.9cache.com/photo/aD2qeGO_460sv.mp4,anime,2025-12-15T21:47:27.334638
https://img-9gag-fun.9cache.com/photo/ae9q8pO_460sv.mp4,anime,2025-12-15T21:47:27.335633
https://img-9gag-fun.9cache.com/photo/a4PB0em_460sv.mp4,anime,2025-12-15T21:47:35.257449
https://img-9gag-fun.9cache.com/photo/aNDGbVb_460svav1.mp4,anime,2025-12-15T21:47:49.968103
https://img-9gag-fun.9cache.com/photo/a9y4Gzo_460svav1.mp4,anime,2025-12-15T21:47:49.968103
https://img-9gag-fun.9cache.com/photo/apRnMD5_460sv.mp4,anime,2025-12-15T21:47:56.044195
https://img-9gag-fun.9cache.com/photo/aXPmOj2_460sv.mp4,anime,2025-12-15T21:48:03.895453
https://img-9gag-fun.9cache.com/photo/aO8nWzy_460sv.mp4,anime,2025-12-15T21:48:03.895453
https://img-9gag-fun.9cache.com/photo/axyerZY_460sv.mp4,anime,2025-12-15T21:48:09.104315
https://img-9gag-fun.9cache.com/photo/adBWwEd_460sv.mp4,anime,2025-12-15T21:48:14.564687
https://img-9gag-fun.9cache.com/photo/ayNmwrr_460sv.mp4,anime,2025-12-15T21:48:21.927147
https://img-9gag-fun.9cache.com/photo/aoyGwYA_460sv.mp4,anime,2025-12-15T21:48:27.896164
https://img-9gag-fun.9cache.com/photo/aE0j5yp_460sv.mp4,anime,2025-12-15T21:48:27.896164
https://img-9gag-fun.9cache.com/photo/ae9qw3m_460svav1.mp4,anime,2025-12-15T21:48:54.223260
https://img-9gag-fun.9cache.com/photo/aqyVw5L_460sv.mp4,anime,2025-12-15T21:48:54.223260
https://img-9gag-fun.9cache.com/photo/aByb5Kx_460sv.mp4,anime,2025-12-15T21:49:01.768290
https://img-9gag-fun.9cache.com/photo/apRn7wb_460sv.mp4,anime,2025-12-15T21:49:07.484479
https://img-9gag-fun.9cache.com/photo/aRB8W52_460sv.mp4,anime,2025-12-15T21:49:07.484479
https://img-9gag-fun.9cache.com/photo/a0eDgzd_460svav1.mp4,anime,2025-12-15T21:49:14.292151
https://img-9gag-fun.9cache.com/photo/a7omgem_460sv.mp4,anime,2025-12-15T21:49:30.639662
https://img-9gag-fun.9cache.com/photo/aO8nEP3_460sv.mp4,anime,2025-12-15T21:49:30.640659
https://img-9gag-fun.9cache.com/photo/amoOQGV_460sv.mp4,anime,2025-12-15T21:49:30.640659
https://img-9gag-fun.9cache.com/photo/aAyLAyo_460sv.mp4,anime,2025-12-15T21:49:38.052762
https://img-9gag-fun.9cache.com/photo/aGyrPwn_460sv.mp4,news,2025-12-15T21:50:28.385623
https://img-9gag-fun.9cache.com/photo/a1m8zyR_460svav1.mp4,news,2025-12-15T21:50:45.941742
https://img-9gag-fun.9cache.com/photo/aAyLWAo_460sv.mp4,news,2025-12-15T21:51:11.594344
https://img-9gag-fun.9cache.com/photo/avyBYVZ_460sv.mp4,news,2025-12-15T21:51:11.595343
https://img-9gag-fun.9cache.com/photo/ajP3pZR_460sv.mp4,cosplay,2025-12-15T21:52:26.839630
https://img-9gag-fun.9cache.com/photo/a4PBv5d_460sv.mp4,cosplay,2025-12-15T21:52:34.783028
https://img-9gag-fun.9cache.com/photo/aW4ezW6_460sv.mp4,cosplay,2025-12-15T21:52:34.783028
https://img-9gag-fun.9cache.com/photo/aD2qKXB_460sv.mp4,cosplay,2025-12-15T21:52:41.026805
https://img-9gag-fun.9cache.com/photo/awy9jD4_460sv.mp4,cosplay,2025-12-15T21:52:55.847371
https://img-9gag-fun.9cache.com/photo/a87vNx1_460sv.mp4,cosplay,2025-12-15T21:52:55.848367
https://img-9gag-fun.9cache.com/photo/aKGXZ6W_460svav1.mp4,cosplay,2025-12-15T21:53:02.056516
https://img-9gag-fun.9cache.com/photo/azxvyMB_460svav1.mp4,cosplay,2025-12-15T21:53:09.781538
https://img-9gag-fun.9cache.com/photo/aqyVVVY_460svav1.mp4,cosplay,2025-12-15T21:53:16.915208
https://img-9gag-fun.9cache.com/photo/a5Q9AeE_460sv.mp4,cosplay,2025-12-15T21:53:16.915208
https://img-9gag-fun.9cache.com/photo/abALm9X_460sv.mp4,cosplay,2025-12-15T21:53:32.955538
https://img-9gag-fun.9cache.com/photo/a4PBr0Q_460svav1.mp4,cosplay,2025-12-15T21:53:32.956532
https://img-9gag-fun.9cache.com/photo/axyeAe2_460sv.mp4,cosplay,2025-12-15T21:53:48.278947
https://img-9gag-fun.9cache.com/photo/aO8nGK6_460sv.mp4,cosplay,2025-12-15T21:53:48.279943
https://img-9gag-fun.9cache.com/photo/an70VZz_460sv.mp4,cosplay,2025-12-15T21:53:48.279943
https://img-9gag-fun.9cache.com/photo/a1m8OQY_460svav1.mp4,cosplay,2025-12-15T21:53:55.381057
https://img-9gag-fun.9cache.com/photo/aE0jXLo_460sv.mp4,cosplay,2025-12-15T21:54:10.257423
https://img-9gag-fun.9cache.com/photo/aXPm2Ov_460sv.mp4,cosplay,2025-12-15T21:54:16.135105
https://img-9gag-fun.9cache.com/photo/aO8nPVr_460svav1.mp4,cosplay,2025-12-15T21:54:16.135105
https://img-9gag-fun.9cache.com/photo/aLnOX2z_460sv.mp4,cosplay,2025-12-15T21:54:16.135105
https://img-9gag-fun.9cache.com/photo/a87v2W1_460svav1.mp4,cosplay,2025-12-15T21:54:23.386430
https://img-9gag-fun.9cache.com/photo/ajP32Q1_460sv.mp4,politics,2025-12-15T21:55:52.348565
https://img-9gag-fun.9cache.com/photo/aPAVOMR_460svav1.mp4,memes,2025-12-15T21:56:43.698542
https://img-9gag-fun.9cache.com/photo/azxv6EZ_460svav1.mp4,memes,2025-12-15T21:57:04.631145
https://img-9gag-fun.9cache.com/photo/aNDGyAb_460svav1.mp4,memes,2025-12-15T21:57:11.572112
https://img-9gag-fun.9cache.com/photo/azxv6Ap_460svav1.mp4,memes,2025-12-15T21:57:11.573109
https://img-9gag-fun.9cache.com/photo/aAyLnp2_460sv.mp4,memes,2025-12-15T21:57:11.573109
https://img-9gag-fun.9cache.com/photo/avyBbgX_460svav1.mp4,memes,2025-12-15T21:57:28.917307
https://img-9gag-fun.9cache.com/photo/an70ppL_460sv.mp4,memes,2025-12-15T21:57:28.917307
https://img-9gag-fun.9cache.com/photo/ayNmgyW_460sv.mp4,memes,2025-12-15T21:57:54.187156
https://img-9gag-fun.9cache.com/photo/aNDGymG_460sv.mp4,memes,2025-12-15T21:57:54.187156
https://img-9gag-fun.9cache.com/photo/amoOjE4_460sv.mp4,memes,2025-12-15T21:58:09.668320
https://img-9gag-fun.9cache.com/photo/aPAVNqg_460svav1.mp4,memes,2025-12-15T21:58:26.454192
https://img-9gag-fun.9cache.com/photo/aLnOYog_460svav1.mp4,memes,2025-12-15T21:58:48.160708
https://img-9gag-fun.9cache.com/photo/a0eDADQ_460sv.mp4,memes,2025-12-15T21:58:54.786360
https://img-9gag-fun.9cache.com/photo/aVv9nnn_460sv.mp4,memes,2025-12-15T21:59:11.103758
https://img-9gag-fun.9cache.com/photo/a2vABnD_460sv.mp4,games,2025-12-15T22:00:09.798003
https://img-9gag-fun.9cache.com/photo/a6ZevQb_460sv.mp4,games,2025-12-15T22:00:16.258580
https://img-9gag-fun.9cache.com/photo/aVv9n3P_460sv.mp4,games,2025-12-15T22:00:16.258580
https://img-9gag-fun.9cache.com/photo/aryDjrd_460sv.mp4,games,2025-12-15T22:00:24.002951
https://img-9gag-fun.9cache.com/photo/avyB3wM_460svav1.mp4,games,2025-12-15T22:00:24.003949
https://img-9gag-fun.9cache.com/photo/apRnW6b_460sv.mp4,games,2025-12-15T22:00:30.766787
https://img-9gag-fun.9cache.com/photo/amoOEG2_460sv.mp4,games,2025-12-15T22:00:30.766787
https://img-9gag-fun.9cache.com/photo/aZZ4Gb6_460svav1.mp4,games,2025-12-15T22:00:37.162515
https://img-9gag-fun.9cache.com/photo/aW4ez5K_460sv.mp4,games,2025-12-15T22:00:51.301479
https://img-9gag-fun.9cache.com/photo/aAyLjNR_460sv.mp4,games,2025-12-15T22:00:57.402675
https://img-9gag-fun.9cache.com/photo/amoO36X_460sv.mp4,games,2025-12-15T22:00:57.402675
https://img-9gag-fun.9cache.com/photo/aoyGvB3_460svav1.mp4,games,2025-12-15T22:01:13.162590
https://img-9gag-fun.9cache.com/photo/a6Ze04q_460sv.mp4,games,2025-12-15T22:01:20.618938
https://img-9gag-fun.9cache.com/photo/a4PBX6w_460svav1.mp4,games,2025-12-15T22:01:27.424424
https://img-9gag-fun.9cache.com/photo/aGyrm2X_460sv.mp4,games,2025-12-15T22:01:27.425421
https://img-9gag-fun.9cache.com/photo/a9y4x1j_460sv.mp4,games,2025-12-15T22:01:35.160140
https://img-9gag-fun.9cache.com/photo/aAyL8Dp_460sv.mp4,games,2025-12-15T22:01:35.160140
https://img-9gag-fun.9cache.com/photo/ae9q885_460sv.mp4,games,2025-12-15T22:01:41.264902
https://img-9gag-fun.9cache.com/photo/aW4erB4_460sv.mp4,games,2025-12-15T22:01:41.265899
https://img-9gag-fun.9cache.com/photo/axyeqn2_460svav1.mp4,games,2025-12-15T22:01:48.121960
https://img-9gag-fun.9cache.com/photo/azxv68j_460svav1.mp4,wtf,2025-12-15T22:02:38.691529
https://img-9gag-fun.9cache.com/photo/aPAVO4V_460svav1.mp4,wtf,2025-12-15T22:02:41.022717
https://img-9gag-fun.9cache.com/photo/aQzDY6e_460sv.mp4,wtf,2025-12-15T22:02:46.171275
https://img-9gag-fun.9cache.com/photo/ayNmy5r_460svav1.mp4,wtf,2025-12-15T22:02:46.171275
https://img-9gag-fun.9cache.com/photo/ajP320Q_460sv.mp4,wtf,2025-12-15T22:02:46.172272
https://img-9gag-fun.9cache.com/photo/aMV0p1X_460sv.mp4,wtf,2025-12-15T22:02:51.954425
https://img-9gag-fun.9cache.com/photo/aE0jrLG_460sv.mp4,wtf,2025-12-15T22:02:57.526270
https://img-9gag-fun.9cache.com/photo/aLnOYZ5_460sv.mp4,wtf,2025-12-15T22:02:57.527269
https://img-9gag-fun.9cache.com/photo/ajP3bvg_460sv.mp4,wtf,2025-12-15T22:03:13.193431
https://img-9gag-fun.9cache.com/photo/aKGX0bQ_460sv.mp4,wtf,2025-12-15T22:03:13.193431
https://img-9gag-fun.9cache.com/photo/awy9RPy_460svav1.mp4,wtf,2025-12-15T22:03:20.084094
https://img-9gag-fun.9cache.com/photo/azxvNBx_460svav1.mp4,wtf,2025-12-15T22:03:27.051775
https://img-9gag-fun.9cache.com/photo/a9y4QDW_460sv.mp4,wtf,2025-12-15T22:03:33.975112
https://img-9gag-fun.9cache.com/photo/ayNmgvY_460svav1.mp4,wtf,2025-12-15T22:03:33.976109
https://img-9gag-fun.9cache.com/photo/amoOjry_460sv.mp4,wtf,2025-12-15T22:03:51.396200
https://img-9gag-fun.9cache.com/photo/aBybq8D_460svav1.mp4,wtf,2025-12-15T22:03:51.397195
https://img-9gag-fun.9cache.com/photo/ayNmgey_460sv.mp4,wtf,2025-12-15T22:03:51.397195
https://img-9gag-fun.9cache.com/photo/avyBYLE_460sv.mp4,wtf,2025-12-15T22:03:58.310939
https://img-9gag-fun.9cache.com/photo/aryD6R7_460sv.mp4,wtf,2025-12-15T22:04:05.372111
https://img-9gag-fun.9cache.com/photo/a5Q9mKr_460sv.mp4,wtf,2025-12-15T22:04:05.372111
https://img-9gag-fun.9cache.com/photo/aD2qp3d_460sv.mp4,wtf,2025-12-15T22:04:05.373110
https://img-9gag-fun.9cache.com/photo/aAyLojg_460svav1.mp4,wtf,2025-12-15T22:04:12.938035
https://img-9gag-fun.9cache.com/photo/a9y493D_460svav1.mp4,wtf,2025-12-15T22:04:12.938035
https://img-9gag-fun.9cache.com/photo/a9y49w0_460svav1.mp4,wtf,2025-12-15T22:04:18.825181
https://img-9gag-fun.9cache.com/photo/a34zVgQ_460sv.mp4,wtf,2025-12-15T22:04:25.876745
https://img-9gag-fun.9cache.com/photo/avyB3NW_460sv.mp4,wtf,2025-12-15T22:04:25.877745
https://img-9gag-fun.9cache.com/photo/an70L3V_460sv.mp4,wtf,2025-12-15T22:04:32.242315
https://img-9gag-fun.9cache.com/photo/aXPm5mb_460svav1.mp4,wtf,2025-12-15T22:04:32.243311
https://img-9gag-fun.9cache.com/photo/ayNmOvq_460svav1.mp4,wtf,2025-12-15T22:04:38.876362
https://img-9gag-fun.9cache.com/photo/agmpPEg_460sv.mp4,wtf,2025-12-15T22:04:38.876362
https://img-9gag-fun.9cache.com/photo/a87vBmY_460sv.mp4,wtf,2025-12-15T22:04:55.388343
https://img-9gag-fun.9cache.com/photo/aE0jL6n_460sv.mp4,wtf,2025-12-15T22:05:02.793244
https://img-9gag-fun.9cache.com/photo/aQzD0gq_460sv.mp4,wtf,2025-12-15T22:05:02.794241
https://img-9gag-fun.9cache.com/photo/ayNmOqM_460svav1.mp4,wtf,2025-12-15T22:05:02.794241
https://img-9gag-fun.9cache.com/photo/ae9qv1v_460svav1.mp4,wtf,2025-12-15T22:05:09.328787
https://img-9gag-fun.9cache.com/photo/aD2qExB_460sv.mp4,wtf,2025-12-15T22:05:09.329785
https://img-9gag-fun.9cache.com/photo/aLnOyM5_460sv.mp4,wtf,2025-12-15T22:05:25.393590
https://img-9gag-fun.9cache.com/photo/avyB3nd_460svav1.mp4,wtf,2025-12-15T22:05:25.393590
https://img-9gag-fun.9cache.com/photo/amoOE8X_460svav1.mp4,wtf,2025-12-15T22:05:32.177334
https://img-9gag-fun.9cache.com/photo/aW4ew16_460sv.mp4,wtf,2025-12-15T22:05:32.177334
https://img-9gag-fun.9cache.com/photo/aoyGb02_460sv.mp4,wtf,2025-12-15T22:05:38.929653
https://img-9gag-fun.9cache.com/photo/aGyrW95_460sv.mp4,wtf,2025-12-15T22:05:38.930649
https://img-9gag-fun.9cache.com/photo/a34zVY7_460svav1.mp4,wtf,2025-12-15T22:05:46.503442
https://img-9gag-fun.9cache.com/photo/ayNmGGY_460svav1.mp4,wtf,2025-12-15T22:05:53.091274
https://img-9gag-fun.9cache.com/photo/aD2qyK9_460sv.mp4,wtf,2025-12-15T22:05:53.091274
https://img-9gag-fun.9cache.com/photo/abAL7Np_460svav1.mp4,wtf,2025-12-15T22:05:59.187184
https://img-9gag-fun.9cache.com/photo/a87vZgO_460svav1.mp4,wtf,2025-12-15T22:06:06.265658
https://img-9gag-fun.9cache.com/photo/a6ZeP32_460sv.mp4,wtf,2025-12-15T22:06:13.414711
https://img-9gag-fun.9cache.com/photo/aVv9A4n_460sv.mp4,wtf,2025-12-15T22:06:13.415709
https://img-9gag-fun.9cache.com/photo/azxvnQz_460sv.mp4,wtf,2025-12-15T22:06:13.416705
https://img-9gag-fun.9cache.com/photo/aW4eKAx_460svav1.mp4,relationship,2025-12-15T22:06:48.107140
https://img-9gag-fun.9cache.com/photo/azxvNEx_460sv.mp4,relationship,2025-12-15T22:06:54.465419
https://img-9gag-fun.9cache.com/photo/aryDjPp_460sv.mp4,relationship,2025-12-15T22:07:01.125651
https://img-9gag-fun.9cache.com/photo/aNDG626_460sv.mp4,relationship,2025-12-15T22:07:08.852024
https://img-9gag-fun.9cache.com/photo/aGyrWqz_460sv.mp4,relationship,2025-12-15T22:07:08.852024
https://img-9gag-fun.9cache.com/photo/aPAVKoR_460svav1.mp4,relationship,2025-12-15T22:07:14.705904
https://img-9gag-fun.9cache.com/photo/aKGXrOW_460sv.mp4,relationship,2025-12-15T22:07:14.705904
https://img-9gag-fun.9cache.com/photo/a1m8GvD_460svav1.mp4,relationship,2025-12-15T22:07:31.797169
https://img-9gag-fun.9cache.com/photo/aGyrXoX_460sv.mp4,relationship,2025-12-15T22:07:47.839556
https://img-9gag-fun.9cache.com/photo/aoyGXx3_460sv.mp4,relationship,2025-12-15T22:07:47.839556
https://img-9gag-fun.9cache.com/photo/aW4ezed_460sv.mp4,relationship,2025-12-15T22:07:47.840554
https://img-9gag-fun.9cache.com/photo/aAyLjGp_460sv.mp4,relationship,2025-12-15T22:08:03.788556
https://img-9gag-fun.9cache.com/photo/aGyrXjn_460svav1.mp4,relationship,2025-12-15T22:08:03.788556
https://img-9gag-fun.9cache.com/photo/apRnO55_460sv.mp4,relationship,2025-12-15T22:08:03.788556
https://img-9gag-fun.9cache.com/photo/aO8nMEN_460svav1.mp4,relationship,2025-12-15T22:08:18.390446
https://img-9gag-fun.9cache.com/photo/an70mw5_460sv.mp4,relationship,2025-12-15T22:08:18.390446
https://img-9gag-fun.9cache.com/photo/aVv9AjP_460sv.mp4,relationship,2025-12-15T22:08:18.391443
https://img-9gag-fun.9cache.com/photo/ae9qndW_460svav1.mp4,relationship,2025-12-15T22:08:24.544913
https://img-9gag-fun.9cache.com/photo/aNDG7Vv_460sv.mp4,relationship,2025-12-15T22:08:24.544913
https://img-9gag-fun.9cache.com/photo/aE0j9oG_460sv.mp4,relationship,2025-12-15T22:08:31.304470
https://img-9gag-fun.9cache.com/photo/awy9EmQ_460svav1.mp4,relationship,2025-12-15T22:08:31.305468
https://img-9gag-fun.9cache.com/photo/aE0j90o_460svav1.mp4,relationship,2025-12-15T22:08:37.468674
https://img-9gag-fun.9cache.com/photo/aAyLzWL_460svav1.mp4,relationship,2025-12-15T22:08:37.468674
https://img-9gag-fun.9cache.com/photo/aMV0oex_460sv.mp4,relationship,2025-12-15T22:08:43.835271
https://img-9gag-fun.9cache.com/photo/aRB8q5B_460svav1.mp4,relationship,2025-12-15T22:08:43.836269
https://img-9gag-fun.9cache.com/photo/ayNmjby_460sv.mp4,relationship,2025-12-15T22:08:49.604781
https://img-9gag-fun.9cache.com/photo/aPAVboP_460svav1.mp4,relationship,2025-12-15T22:08:57.375230
https://img-9gag-fun.9cache.com/photo/aLnO7XM_460svav1.mp4,relationship,2025-12-15T22:08:57.376226
https://img-9gag-fun.9cache.com/photo/aNDGEVr_460sv.mp4,relationship,2025-12-15T22:08:57.376226
https://img-9gag-fun.9cache.com/photo/an70Pgz_460sv.mp4,relationship,2025-12-15T22:09:03.459293
https://img-9gag-fun.9cache.com/photo/a0eDy7L_460svav1.mp4,relationship,2025-12-15T22:09:03.459293
https://img-9gag-fun.9cache.com/photo/aXPmO89_460sv.mp4,relationship,2025-12-15T22:09:10.594595
https://img-9gag-fun.9cache.com/photo/aKGXMr3_460sv.mp4,relationship,2025-12-15T22:09:10.595590
https://img-9gag-fun.9cache.com/photo/aVv96nM_460sv.mp4,relationship,2025-12-15T22:09:10.595590
https://img-9gag-fun.9cache.com/photo/aO8nWpr_460svav1.mp4,relationship,2025-12-15T22:09:18.107109
https://img-9gag-fun.9cache.com/photo/aNDGbjw_460sv.mp4,relationship,2025-12-15T22:09:25.489929
https://img-9gag-fun.9cache.com/photo/avyBjxE_460sv.mp4,relationship,2025-12-15T22:09:25.490926
https://img-9gag-fun.9cache.com/photo/aoyG7gx_460svav1.mp4,relationship,2025-12-15T22:09:25.490926
https://img-9gag-fun.9cache.com/photo/ajP34AR_460svav1.mp4,relationship,2025-12-15T22:09:32.657342
https://img-9gag-fun.9cache.com/photo/aByb5BO_460sv.mp4,relationship,2025-12-15T22:09:32.657342
https://img-9gag-fun.9cache.com/photo/aRB8d9y_460svav1.mp4,relationship,2025-12-15T22:09:40.271933
https://img-9gag-fun.9cache.com/photo/a7omXGL_460sv.mp4,relationship,2025-12-15T22:09:40.271933
https://img-9gag-fun.9cache.com/photo/a6Ze68m_460svav1.mp4,relationship,2025-12-15T22:09:40.272930
https://img-9gag-fun.9cache.com/photo/aW4e503_460sv.mp4,relationship,2025-12-15T22:09:47.176698
https://img-9gag-fun.9cache.com/photo/ae9qw9O_460sv.mp4,relationship,2025-12-15T22:09:53.691720
https://img-9gag-fun.9cache.com/photo/adBWw6V_460svav1.mp4,relationship,2025-12-15T22:09:53.691720
https://img-9gag-fun.9cache.com/photo/aMV0516_460sv.mp4,relationship,2025-12-15T22:09:53.692716
https://img-9gag-fun.9cache.com/photo/a34zr3v_460svav1.mp4,relationship,2025-12-15T22:09:53.692716
https://img-9gag-fun.9cache.com/photo/aE0j5do_460sv.mp4,relationship,2025-12-15T22:10:00.531566
https://img-9gag-fun.9cache.com/photo/aGyrv35_460sv.mp4,relationship,2025-12-15T22:10:00.532564
https://img-9gag-fun.9cache.com/photo/aoyGBp0_460sv.mp4,music,2025-12-15T22:10:25.247431
https://img-9gag-fun.9cache.com/photo/aW4eK52_460sv.mp4,music,2025-12-15T22:10:33.840122
https://img-9gag-fun.9cache.com/photo/a7om4GA_460svav1.mp4,music,2025-12-15T22:10:40.704293
https://img-9gag-fun.9cache.com/photo/a34z9z7_460sv.mp4,music,2025-12-15T22:10:40.704293
https://img-9gag-fun.9cache.com/photo/ajP3ozG_460sv.mp4,music,2025-12-15T22:10:47.911021
https://img-9gag-fun.9cache.com/photo/agmpMrx_460sv.mp4,music,2025-12-15T22:10:47.912017
https://img-9gag-fun.9cache.com/photo/aAyLWr0_460sv.mp4,music,2025-12-15T22:10:47.912017
https://img-9gag-fun.9cache.com/photo/aqyVqoR_460svav1.mp4,music,2025-12-15T22:10:55.564934
https://img-9gag-fun.9cache.com/photo/aQzD0Kw_460sv.mp4,music,2025-12-15T22:10:55.565930
https://img-9gag-fun.9cache.com/photo/aByb7jx_460sv.mp4,music,2025-12-15T22:10:55.565930
https://img-9gag-fun.9cache.com/photo/a7omzPm_460svav1.mp4,music,2025-12-15T22:10:55.566928
https://img-9gag-fun.9cache.com/photo/amoOEv9_460sv.mp4,music,2025-12-15T22:11:02.830604
https://img-9gag-fun.9cache.com/photo/ayNmO4Y_460sv.mp4,music,2025-12-15T22:11:02.830604
https://img-9gag-fun.9cache.com/photo/aD2qEDx_460sv.mp4,music,2025-12-15T22:11:02.831600
https://img-9gag-fun.9cache.com/photo/aPAVKRB_460sv.mp4,music,2025-12-15T22:11:09.262781
https://img-9gag-fun.9cache.com/photo/an70LNB_460sv.mp4,music,2025-12-15T22:11:09.262781
https://img-9gag-fun.9cache.com/photo/amoOE8v_460sv.mp4,music,2025-12-15T22:11:15.490188
https://img-9gag-fun.9cache.com/photo/amoOE0X_460svav1.mp4,music,2025-12-15T22:11:15.490188
https://img-9gag-fun.9cache.com/photo/aByb7rx_460sv.mp4,music,2025-12-15T22:11:15.491187
https://img-9gag-fun.9cache.com/photo/aYQv2xw_460sv.mp4,music,2025-12-15T22:11:15.491187
https://img-9gag-fun.9cache.com/photo/abAL7D9_460sv.mp4,music,2025-12-15T22:11:23.355322
https://img-9gag-fun.9cache.com/photo/aZZ4Gxp_460sv.mp4,music,2025-12-15T22:11:23.355322
https://img-9gag-fun.9cache.com/photo/axye5qb_460sv.mp4,music,2025-12-15T22:11:23.356319
https://img-9gag-fun.9cache.com/photo/aRB8ndj_460svav1.mp4,music,2025-12-15T22:11:23.356319
https://img-9gag-fun.9cache.com/photo/a2vAejp_460sv.mp4,music,2025-12-15T22:11:30.857064
https://img-9gag-fun.9cache.com/photo/an706wn_460sv.mp4,music,2025-12-15T22:11:30.858060
https://img-9gag-fun.9cache.com/photo/ae9qLPp_460sv.mp4,music,2025-12-15T22:11:30.859057
https://img-9gag-fun.9cache.com/photo/ae9qLLb_460sv.mp4,music,2025-12-15T22:11:30.859057
https://img-9gag-fun.9cache.com/photo/aKGXRNQ_460sv.mp4,music,2025-12-15T22:11:37.646837
https://img-9gag-fun.9cache.com/photo/aoyGXdm_460svav1.mp4,music,2025-12-15T22:11:37.647834
https://img-9gag-fun.9cache.com/photo/amoO3R4_460sv.mp4,music,2025-12-15T22:11:37.647834
https://img-9gag-fun.9cache.com/photo/ayNmG6q_460sv.mp4,music,2025-12-15T22:11:44.280958
https://img-9gag-fun.9cache.com/photo/aPAV58G_460sv.mp4,music,2025-12-15T22:11:44.280958
https://img-9gag-fun.9cache.com/photo/aNDGNOA_460svav1.mp4,music,2025-12-15T22:11:44.280958
https://img-9gag-fun.9cache.com/photo/aVv9AbO_460svav1.mp4,music,2025-12-15T22:11:51.712461
https://img-9gag-fun.9cache.com/photo/awy9wyx_460sv.mp4,music,2025-12-15T22:11:51.713459
https://img-9gag-fun.9cache.com/photo/aLnOxpz_460svav1.mp4,music,2025-12-15T22:11:51.713459
https://img-9gag-fun.9cache.com/photo/ae9qLQb_460svav1.mp4,music,2025-12-15T22:11:51.714457
https://img-9gag-fun.9cache.com/photo/a6ZePbR_460sv.mp4,music,2025-12-15T22:11:58.635583
https://img-9gag-fun.9cache.com/photo/aNDGNg4_460sv.mp4,music,2025-12-15T22:11:58.635583
https://img-9gag-fun.9cache.com/photo/aRB8nm5_460svav1.mp4,music,2025-12-15T22:11:58.635583
https://img-9gag-fun.9cache.com/photo/avyBN5O_460svav1.mp4,music,2025-12-15T22:11:58.636580
https://img-9gag-fun.9cache.com/photo/a34zmLQ_460svav1.mp4,music,2025-12-15T22:12:06.491010
https://img-9gag-fun.9cache.com/photo/a0eDBLZ_460sv.mp4,music,2025-12-15T22:12:06.492008
https://img-9gag-fun.9cache.com/photo/aO8nM6E_460sv.mp4,music,2025-12-15T22:12:14.324593
https://img-9gag-fun.9cache.com/photo/amoO3Nv_460svav1.mp4,music,2025-12-15T22:12:14.324593
https://img-9gag-fun.9cache.com/photo/a9y4xeW_460sv.mp4,music,2025-12-15T22:12:20.568051
https://img-9gag-fun.9cache.com/photo/aZZ46Ap_460sv.mp4,music,2025-12-15T22:12:20.569048
https://img-9gag-fun.9cache.com/photo/aVv9pA2_460sv.mp4,music,2025-12-15T22:12:20.569048
https://img-9gag-fun.9cache.com/photo/aXPmymP_460svav1.mp4,music,2025-12-15T22:12:20.570046
https://img-9gag-fun.9cache.com/photo/avyBYEX_460svav1.mp4,motorvehicles,2025-12-15T22:12:45.607346
https://img-9gag-fun.9cache.com/photo/aNDG66r_460sv.mp4,motorvehicles,2025-12-15T22:12:48.479187
https://img-9gag-fun.9cache.com/photo/aQzD0y8_460svav1.mp4,motorvehicles,2025-12-15T22:12:55.723077
https://img-9gag-fun.9cache.com/photo/a87vB7e_460sv.mp4,motorvehicles,2025-12-15T22:12:55.723077
https://img-9gag-fun.9cache.com/photo/aLnOyez_460sv.mp4,motorvehicles,2025-12-15T22:12:55.723077
https://img-9gag-fun.9cache.com/photo/aBybpAA_460svav1.mp4,motorvehicles,2025-12-15T22:13:02.434302
https://img-9gag-fun.9cache.com/photo/aryDjmp_460sv.mp4,motorvehicles,2025-12-15T22:13:02.435299
https://img-9gag-fun.9cache.com/photo/apRnOZ5_460sv.mp4,motorvehicles,2025-12-15T22:13:10.311618
https://img-9gag-fun.9cache.com/photo/aRB8nNy_460sv.mp4,motorvehicles,2025-12-15T22:13:10.312617
https://img-9gag-fun.9cache.com/photo/aGyrX8G_460sv.mp4,motorvehicles,2025-12-15T22:13:10.312617
https://img-9gag-fun.9cache.com/photo/aKGXRvZ_460sv.mp4,motorvehicles,2025-12-15T22:13:16.510033
https://img-9gag-fun.9cache.com/photo/aKGXR6b_460svav1.mp4,motorvehicles,2025-12-15T22:13:16.511030
https://img-9gag-fun.9cache.com/photo/aAyLjrL_460svav1.mp4,motorvehicles,2025-12-15T22:13:16.511030
https://img-9gag-fun.9cache.com/photo/aD2qynO_460svav1.mp4,motorvehicles,2025-12-15T22:13:16.512028
https://img-9gag-fun.9cache.com/photo/avyBNPn_460svav1.mp4,motorvehicles,2025-12-15T22:13:16.512028
https://img-9gag-fun.9cache.com/photo/aVv9AOv_460svav1.mp4,motorvehicles,2025-12-15T22:13:22.624209
https://img-9gag-fun.9cache.com/photo/aVv9pny_460sv.mp4,motorvehicles,2025-12-15T22:13:22.624209
https://img-9gag-fun.9cache.com/photo/amoOeKj_460sv.mp4,motorvehicles,2025-12-15T22:13:22.625206
https://img-9gag-fun.9cache.com/photo/azxvWyj_460svav1.mp4,motorvehicles,2025-12-15T22:13:22.625206
https://img-9gag-fun.9cache.com/photo/aAyLznL_460svav1.mp4,motorvehicles,2025-12-15T22:13:28.387332
https://img-9gag-fun.9cache.com/photo/aW4e3Dq_460sv.mp4,motorvehicles,2025-12-15T22:13:34.999125
https://img-9gag-fun.9cache.com/photo/a0eDymZ_460sv.mp4,motorvehicles,2025-12-15T22:13:34.999125
https://img-9gag-fun.9cache.com/photo/aoyGQDg_460sv.mp4,motorvehicles,2025-12-15T22:13:35.000121
https://img-9gag-fun.9cache.com/photo/abALn1v_460svav1.mp4,motorvehicles,2025-12-15T22:13:41.647431
https://img-9gag-fun.9cache.com/photo/a7omRLb_460svav1.mp4,motorvehicles,2025-12-15T22:13:41.647431
https://img-9gag-fun.9cache.com/photo/aqyVEEL_460svav1.mp4,motorvehicles,2025-12-15T22:13:48.547990
https://img-9gag-fun.9cache.com/photo/amoOZKv_460sv.mp4,motorvehicles,2025-12-15T22:13:48.548986
https://img-9gag-fun.9cache.com/photo/aVv96z2_460sv.mp4,motorvehicles,2025-12-15T22:13:54.789960
https://img-9gag-fun.9cache.com/photo/aD2qvdx_460sv.mp4,motorvehicles,2025-12-15T22:13:54.789960
https://img-9gag-fun.9cache.com/photo/azxv3qK_460sv.mp4,motorvehicles,2025-12-15T22:13:54.790957
https://img-9gag-fun.9cache.com/photo/aKGX5NO_460svav1.mp4,motorvehicles,2025-12-15T22:14:01.554993
https://img-9gag-fun.9cache.com/photo/a2vApxD_460sv.mp4,motorvehicles,2025-12-15T22:14:01.554993
https://img-9gag-fun.9cache.com/photo/apRnMoB_460sv.mp4,motorvehicles,2025-12-15T22:14:01.555989
https://img-9gag-fun.9cache.com/photo/a2vAgQ9_460sv.mp4,motorvehicles,2025-12-15T22:14:08.989352
https://img-9gag-fun.9cache.com/photo/a1m8gyb_460sv.mp4,motorvehicles,2025-12-15T22:14:08.990349
https://img-9gag-fun.9cache.com/photo/awy92my_460sv.mp4,motorvehicles,2025-12-15T22:14:08.990349
https://img-9gag-fun.9cache.com/photo/aryDE0V_460svav1.mp4,motorvehicles,2025-12-15T22:14:15.575888
https://img-9gag-fun.9cache.com/photo/ajP3vj8_460svav1.mp4,motorvehicles,2025-12-15T22:14:15.575888
https://img-9gag-fun.9cache.com/photo/aLnOorW_460svav1.mp4,motorvehicles,2025-12-15T22:14:21.153128
https://img-9gag-fun.9cache.com/photo/aQzDKYw_460sv.mp4,motorvehicles,2025-12-15T22:14:28.963834
https://img-9gag-fun.9cache.com/photo/abALoNB_460sv.mp4,motorvehicles,2025-12-15T22:14:28.963834
https://img-9gag-fun.9cache.com/photo/a0eDG3n_460sv.mp4,motorvehicles,2025-12-15T22:14:28.964832
https://img-9gag-fun.9cache.com/photo/a0eDGZL_460sv.mp4,motorvehicles,2025-12-15T22:14:36.658926
https://img-9gag-fun.9cache.com/photo/aVv98Yy_460svav1.mp4,motorvehicles,2025-12-15T22:14:36.659923
https://img-9gag-fun.9cache.com/photo/agmppz1_460sv.mp4,motorvehicles,2025-12-15T22:14:42.952736
https://img-9gag-fun.9cache.com/photo/aqyVVAZ_460svav1.mp4,motorvehicles,2025-12-15T22:14:42.953733
https://img-9gag-fun.9cache.com/photo/aE0jjjo_460svav1.mp4,motorvehicles,2025-12-15T22:14:42.953733
https://img-9gag-fun.9cache.com/photo/ae9qENv_460sv.mp4,motorvehicles,2025-12-15T22:14:42.954731
https://img-9gag-fun.9cache.com/photo/aAyLLAE_460svav1.mp4,motorvehicles,2025-12-15T22:14:42.954731
https://img-9gag-fun.9cache.com/photo/apRnnL8_460svav1.mp4,motorvehicles,2025-12-15T22:14:49.608813
https://img-9gag-fun.9cache.com/photo/aYQvzwx_460svav1.mp4,animals,2025-12-15T22:15:28.775545
https://img-9gag-fun.9cache.com/photo/avyBbZX_460sv.mp4,animals,2025-12-15T22:15:34.582195
https://img-9gag-fun.9cache.com/photo/a2vAQEp_460sv.mp4,animals,2025-12-15T22:15:34.582195
https://img-9gag-fun.9cache.com/photo/aRB8xeM_460sv.mp4,animals,2025-12-15T22:15:41.387627
https://img-9gag-fun.9cache.com/photo/aBybqDQ_460svav1.mp4,animals,2025-12-15T22:15:47.547527
https://img-9gag-fun.9cache.com/photo/aNDGxxv_460sv.mp4,animals,2025-12-15T22:15:53.990373
https://img-9gag-fun.9cache.com/photo/aNDGx6v_460sv.mp4,animals,2025-12-15T22:16:01.063674
https://img-9gag-fun.9cache.com/photo/aD2qp5G_460sv.mp4,animals,2025-12-15T22:16:01.064671
https://img-9gag-fun.9cache.com/photo/a6Zev0m_460sv.mp4,animals,2025-12-15T22:16:09.022018
https://img-9gag-fun.9cache.com/photo/aKGX0ZZ_460sv.mp4,animals,2025-12-15T22:16:16.524313
https://img-9gag-fun.9cache.com/photo/aVv9nyv_460sv.mp4,animals,2025-12-15T22:16:22.622753
https://img-9gag-fun.9cache.com/photo/a9y4Q0j_460sv.mp4,animals,2025-12-15T22:16:28.898481
https://img-9gag-fun.9cache.com/photo/a9y4Q51_460svav1.mp4,animals,2025-12-15T22:16:36.447962
https://img-9gag-fun.9cache.com/photo/a4PBeRw_460sv.mp4,animals,2025-12-15T22:16:43.288972
https://img-9gag-fun.9cache.com/photo/a5Q9mZV_460sv.mp4,animals,2025-12-15T22:16:49.335612
https://img-9gag-fun.9cache.com/photo/a2vAB5w_460svav1.mp4,animals,2025-12-15T22:16:49.336608
https://img-9gag-fun.9cache.com/photo/a9y4QL6_460sv.mp4,animals,2025-12-15T22:16:57.604701
https://img-9gag-fun.9cache.com/photo/a1m8zYb_460svav1.mp4,animals,2025-12-15T22:16:57.605699
https://img-9gag-fun.9cache.com/photo/amoOjqj_460sv.mp4,animals,2025-12-15T22:17:04.321307
https://img-9gag-fun.9cache.com/photo/an70pe0_460sv.mp4,animals,2025-12-15T22:17:04.321307
https://img-9gag-fun.9cache.com/photo/avyB33X_460sv.mp4,animals,2025-12-15T22:17:11.941805
https://img-9gag-fun.9cache.com/photo/azxv00m_460sv.mp4,animals,2025-12-15T22:17:19.410251
https://img-9gag-fun.9cache.com/photo/amoOEEo_460svav1.mp4,animals,2025-12-15T22:17:19.411247
https://img-9gag-fun.9cache.com/photo/a2vAngD_460sv.mp4,animals,2025-12-15T22:17:26.019045
https://img-9gag-fun.9cache.com/photo/aD2qE5B_460sv.mp4,animals,2025-12-15T22:17:32.213672
https://img-9gag-fun.9cache.com/photo/aPAVKVn_460svav1.mp4,animals,2025-12-15T22:17:32.213672
https://img-9gag-fun.9cache.com/photo/a9y494m_460svav1.mp4,animals,2025-12-15T22:17:32.214667
https://img-9gag-fun.9cache.com/photo/aLnOyV5_460svav1.mp4,animals,2025-12-15T22:17:32.214667
https://img-9gag-fun.9cache.com/photo/agmpPpq_460sv.mp4,animals,2025-12-15T22:17:39.108656
https://img-9gag-fun.9cache.com/photo/a6ZeAxe_460sv.mp4,animals,2025-12-15T22:17:46.681986
https://img-9gag-fun.9cache.com/photo/avyB345_460sv.mp4,animals,2025-12-15T22:17:53.468309
https://img-9gag-fun.9cache.com/photo/aMV03vR_460svav1.mp4,animals,2025-12-15T22:17:53.469307
https://img-9gag-fun.9cache.com/photo/aGyrWNw_460sv.mp4,animals,2025-12-15T22:17:53.469307
https://img-9gag-fun.9cache.com/photo/aqyVqAj_460sv.mp4,animals,2025-12-15T22:17:59.355698
https://img-9gag-fun.9cache.com/photo/aE0jLVM_460svav1.mp4,animals,2025-12-15T22:18:06.688173
https://img-9gag-fun.9cache.com/photo/aryDjAB_460sv.mp4,animals,2025-12-15T22:18:06.689167
https://img-9gag-fun.9cache.com/photo/an70Lv5_460svav1.mp4,animals,2025-12-15T22:18:06.689167
https://img-9gag-fun.9cache.com/photo/aNDG64K_460sv.mp4,animals,2025-12-15T22:18:06.689167
https://img-9gag-fun.9cache.com/photo/aE0jLMn_460sv.mp4,animals,2025-12-15T22:18:13.029817
https://img-9gag-fun.9cache.com/photo/a5Q98QE_460svav1.mp4,animals,2025-12-15T22:18:13.030815
https://img-9gag-fun.9cache.com/photo/ajP3oOx_460sv.mp4,animals,2025-12-15T22:18:13.030815
https://img-9gag-fun.9cache.com/photo/agmpP56_460sv.mp4,animals,2025-12-15T22:18:31.206345
https://img-9gag-fun.9cache.com/photo/aMV03Yx_460svav1.mp4,animals,2025-12-15T22:18:31.206345
https://img-9gag-fun.9cache.com/photo/aZZ4Gm9_460svav1.mp4,animals,2025-12-15T22:18:31.207342
https://img-9gag-fun.9cache.com/photo/aPAVKBK_460svav1.mp4,animals,2025-12-15T22:18:38.838169
https://img-9gag-fun.9cache.com/photo/aD2qEoG_460svav1.mp4,animals,2025-12-15T22:18:55.138089
https://img-9gag-fun.9cache.com/photo/aXPm5qb_460sv.mp4,animals,2025-12-15T22:18:55.139089
https://img-9gag-fun.9cache.com/photo/agmpPrv_460svav1.mp4,animals,2025-12-15T22:19:02.351276
https://img-9gag-fun.9cache.com/photo/awy967R_460sv.mp4,animals,2025-12-15T22:19:02.351276
https://img-9gag-fun.9cache.com/photo/aD2qyBd_460svav1.mp4,animals,2025-12-15T22:19:09.378766
https://img-9gag-fun.9cache.com/photo/avyBbLX_460svav1.mp4,science,2025-12-15T22:19:36.471702
https://img-9gag-fun.9cache.com/photo/an70AeL_460sv.mp4,science,2025-12-15T22:19:39.229592
https://img-9gag-fun.9cache.com/photo/azxvNDB_460sv.mp4,science,2025-12-15T22:20:04.092479
https://img-9gag-fun.9cache.com/photo/ae9qodO_460sv.mp4,science,2025-12-15T22:20:11.290692
https://img-9gag-fun.9cache.com/photo/aByb772_460svav1.mp4,science,2025-12-15T22:20:25.414004
https://img-9gag-fun.9cache.com/photo/a5Q988N_460sv.mp4,science,2025-12-15T22:20:25.415000
https://img-9gag-fun.9cache.com/photo/aVv9NGK_460sv.mp4,science,2025-12-15T22:20:25.415000
https://img-9gag-fun.9cache.com/photo/a7omzRw_460sv.mp4,science,2025-12-15T22:20:32.820761
https://img-9gag-fun.9cache.com/photo/a5Q98Yg_460svav1.mp4,science,2025-12-15T22:20:32.820761
https://img-9gag-fun.9cache.com/photo/a87vBxd_460svav1.mp4,science,2025-12-15T22:20:41.085592
https://img-9gag-fun.9cache.com/photo/ayNmOwX_460sv.mp4,science,2025-12-15T22:20:41.085592
https://img-9gag-fun.9cache.com/photo/a4PBDx1_460sv.mp4,science,2025-12-15T22:20:48.941753
https://img-9gag-fun.9cache.com/photo/a4PBDr1_460sv.mp4,science,2025-12-15T22:20:48.942748
https://img-9gag-fun.9cache.com/photo/a9y496o_460sv.mp4,science,2025-12-15T22:20:48.942748
https://img-9gag-fun.9cache.com/photo/aO8nXxv_460sv.mp4,science,2025-12-15T22:20:55.387535
https://img-9gag-fun.9cache.com/photo/aO8nX7M_460svav1.mp4,science,2025-12-15T22:20:55.387535
https://img-9gag-fun.9cache.com/photo/a34zVwr_460svav1.mp4,science,2025-12-15T22:21:02.198968
https://img-9gag-fun.9cache.com/photo/aVv9Nqv_460sv.mp4,science,2025-12-15T22:21:07.960398
https://img-9gag-fun.9cache.com/photo/adBWmXN_460sv.mp4,science,2025-12-15T22:21:07.960398
https://img-9gag-fun.9cache.com/photo/aPAV5NQ_460sv.mp4,science,2025-12-15T22:21:24.138370
https://img-9gag-fun.9cache.com/photo/a7omQ2e_460sv.mp4,science,2025-12-15T22:21:49.208395
https://img-9gag-fun.9cache.com/photo/amoO3xv_460sv.mp4,science,2025-12-15T22:21:55.718051
https://img-9gag-fun.9cache.com/photo/amoO3Vv_460sv.mp4,science,2025-12-15T22:22:01.988610
https://img-9gag-fun.9cache.com/photo/a6ZePqA_460svav1.mp4,science,2025-12-15T22:22:01.988610
https://img-9gag-fun.9cache.com/photo/aO8nwQN_460svav1.mp4,science,2025-12-15T22:22:08.186926
https://img-9gag-fun.9cache.com/photo/aE0j3gn_460svav1.mp4,science,2025-12-15T22:22:08.187922
https://img-9gag-fun.9cache.com/photo/aXPmBx9_460sv.mp4,science,2025-12-15T22:22:15.797842
https://img-9gag-fun.9cache.com/photo/aoyGXzA_460sv.mp4,science,2025-12-15T22:22:33.047118
https://img-9gag-fun.9cache.com/photo/aE0j37p_460sv.mp4,science,2025-12-15T22:22:33.048115
https://img-9gag-fun.9cache.com/photo/azxvWwx_460sv.mp4,science,2025-12-15T22:22:48.600029
https://img-9gag-fun.9cache.com/photo/a9y4x0W_460sv.mp4,science,2025-12-15T22:22:48.601027
https://img-9gag-fun.9cache.com/photo/aO8nMPR_460sv.mp4,science,2025-12-15T22:22:48.602023
https://img-9gag-fun.9cache.com/photo/aLnOZoz_460svav1.mp4,science,2025-12-15T22:22:48.603019
https://img-9gag-fun.9cache.com/photo/avyBM1d_460svav1.mp4,science,2025-12-15T22:22:55.496305
https://img-9gag-fun.9cache.com/photo/axyeL6D_460svav1.mp4,science,2025-12-15T22:22:55.496305
https://img-9gag-fun.9cache.com/photo/aE0j9WG_460svav1.mp4,science,2025-12-15T22:22:55.497300
https://img-9gag-fun.9cache.com/photo/a87vxPQ_460svav1.mp4,science,2025-12-15T22:23:02.667448
https://img-9gag-fun.9cache.com/photo/a34zXmv_460sv.mp4,science,2025-12-15T22:23:09.237496
https://img-9gag-fun.9cache.com/photo/aQzDWLr_460svav1.mp4,science,2025-12-15T22:23:09.237496
https://img-9gag-fun.9cache.com/photo/apRnZ8b_460svav1.mp4,science,2025-12-15T22:23:26.250148
https://img-9gag-fun.9cache.com/photo/avyBK9O_460svav1.mp4,science,2025-12-15T22:23:26.250148
https://img-9gag-fun.9cache.com/photo/a87vxKO_460sv.mp4,science,2025-12-15T22:23:32.973427
https://img-9gag-fun.9cache.com/photo/ajP3exQ_460sv.mp4,science,2025-12-15T22:23:38.758557
https://img-9gag-fun.9cache.com/photo/aAyLzxo_460svav1.mp4,science,2025-12-15T22:23:45.747248
https://img-9gag-fun.9cache.com/photo/an70Pbo_460svav1.mp4,science,2025-12-15T22:23:45.748243
https://img-9gag-fun.9cache.com/photo/aLnO71P_460sv.mp4,science,2025-12-15T22:23:45.748243
https://img-9gag-fun.9cache.com/photo/aE0j45G_460sv.mp4,science,2025-12-15T22:24:10.849849
https://img-9gag-fun.9cache.com/photo/aryDLD6_460svav1.mp4,science,2025-12-15T22:24:10.849849
https://img-9gag-fun.9cache.com/photo/aAyL9jg_460sv.mp4,science,2025-12-15T22:24:10.850846
https://img-9gag-fun.9cache.com/photo/axyer8D_460svav1.mp4,science,2025-12-15T22:24:10.850846
https://img-9gag-fun.9cache.com/photo/aKGXb4Q_460sv.mp4,comic,2025-12-15T22:24:33.524528
https://img-9gag-fun.9cache.com/photo/aXPm5g6_460svav1.mp4,comic,2025-12-15T22:24:59.290203
https://img-9gag-fun.9cache.com/photo/aVv9ArM_460sv.mp4,comic,2025-12-15T22:25:16.583305
https://img-9gag-fun.9cache.com/photo/ajP3eeR_460sv.mp4,comic,2025-12-15T22:25:32.789257
https://img-9gag-fun.9cache.com/photo/abALnmL_460svav1.mp4,comic,2025-12-15T22:25:39.500320
https://img-9gag-fun.9cache.com/photo/aRB8xAM_460svav1.mp4,wholesome,2025-12-15T22:26:39.044531
https://img-9gag-fun.9cache.com/photo/aE0jeG9_460sv.mp4,wholesome,2025-12-15T22:26:39.044531
https://img-9gag-fun.9cache.com/photo/axyexxW_460svav1.mp4,wholesome,2025-12-15T22:26:46.538044
https://img-9gag-fun.9cache.com/photo/aVv9nnd_460sv.mp4,wholesome,2025-12-15T22:26:52.397593
https://img-9gag-fun.9cache.com/photo/apRnyZW_460svav1.mp4,wholesome,2025-12-15T22:26:58.974662
https://img-9gag-fun.9cache.com/photo/aO8ngOD_460sv.mp4,wholesome,2025-12-15T22:27:06.483967
https://img-9gag-fun.9cache.com/photo/aO8ngm6_460svav1.mp4,wholesome,2025-12-15T22:27:12.273879
https://img-9gag-fun.9cache.com/photo/a2vAQNY_460svav1.mp4,sports,2025-12-15T22:28:14.022309
https://img-9gag-fun.9cache.com/photo/a87vPLO_460sv.mp4,sports,2025-12-15T22:28:31.727199
https://img-9gag-fun.9cache.com/photo/aKGXrKZ_460svav1.mp4,sports,2025-12-15T22:28:38.870854
https://img-9gag-fun.9cache.com/photo/aYQv2mq_460sv.mp4,sports,2025-12-15T22:28:45.735100
https://img-9gag-fun.9cache.com/photo/a5Q98Mg_460sv.mp4,sports,2025-12-15T22:28:51.394765
https://img-9gag-fun.9cache.com/photo/a0eDBBz_460svav1.mp4,sports,2025-12-15T22:28:58.087861
https://img-9gag-fun.9cache.com/photo/ae9qLdB_460sv.mp4,sports,2025-12-15T22:29:05.985178
https://img-9gag-fun.9cache.com/photo/axye5nn_460svav1.mp4,sports,2025-12-15T22:29:05.985178
https://img-9gag-fun.9cache.com/photo/azxvndB_460sv.mp4,sports,2025-12-15T22:29:13.034206
https://img-9gag-fun.9cache.com/photo/a7omQqA_460svav1.mp4,sports,2025-12-15T22:29:20.414584
https://img-9gag-fun.9cache.com/photo/aGyrXzK_460sv.mp4,sports,2025-12-15T22:29:20.414584
https://img-9gag-fun.9cache.com/photo/aGyrXYw_460svav1.mp4,sports,2025-12-15T22:29:26.764500
https://img-9gag-fun.9cache.com/photo/aGyrmN6_460sv.mp4,sports,2025-12-15T22:29:44.137903
https://img-9gag-fun.9cache.com/photo/azxvWzj_460svav1.mp4,sports,2025-12-15T22:29:44.137903
https://img-9gag-fun.9cache.com/photo/aO8nMwr_460sv.mp4,sports,2025-12-15T22:29:44.138900
https://img-9gag-fun.9cache.com/photo/a34z6Ge_460sv.mp4,sports,2025-12-15T22:29:52.680685
https://img-9gag-fun.9cache.com/photo/aRB8bZA_460sv.mp4,sports,2025-12-15T22:30:00.605022
https://img-9gag-fun.9cache.com/photo/aryDQ5B_460svav1.mp4,sports,2025-12-15T22:30:00.606019
https://img-9gag-fun.9cache.com/photo/a9y4xp6_460svav1.mp4,sports,2025-12-15T22:30:00.606019
https://img-9gag-fun.9cache.com/photo/a34zXVv_460sv.mp4,sports,2025-12-15T22:30:06.662144
https://img-9gag-fun.9cache.com/photo/azxvpQj_460sv.mp4,sports,2025-12-15T22:30:12.744364
https://img-9gag-fun.9cache.com/photo/aZZ4OyV_460sv.mp4,sports,2025-12-15T22:30:19.992405
https://img-9gag-fun.9cache.com/photo/aBybBxD_460svav1.mp4,sports,2025-12-15T22:30:19.993401
https://img-9gag-fun.9cache.com/photo/agmpznW_460sv.mp4,sports,2025-12-15T22:30:19.993401
https://img-9gag-fun.9cache.com/photo/adBWzmj_460svav1.mp4,sports,2025-12-15T22:30:26.965936
https://img-9gag-fun.9cache.com/photo/aO8nWXM_460sv.mp4,sports,2025-12-15T22:30:33.720511
https://img-9gag-fun.9cache.com/photo/a87vgzZ_460svav1.mp4,sports,2025-12-15T22:30:33.720511
https://img-9gag-fun.9cache.com/photo/azxv3nb_460sv.mp4,sports,2025-12-15T22:30:33.721507
https://img-9gag-fun.9cache.com/photo/azxv35p_460sv.mp4,sports,2025-12-15T22:30:41.171739
https://img-9gag-fun.9cache.com/photo/aE0j47o_460svav1.mp4,sports,2025-12-15T22:30:56.869226
https://img-9gag-fun.9cache.com/photo/aoyG702_460sv.mp4,sports,2025-12-15T22:30:56.869226
https://img-9gag-fun.9cache.com/photo/aLnOED5_460sv.mp4,sports,2025-12-15T22:30:56.870224
https://img-9gag-fun.9cache.com/photo/aqyVwqQ_460sv.mp4,sports,2025-12-15T22:31:04.555762
https://img-9gag-fun.9cache.com/photo/aVv96Wy_460sv.mp4,sports,2025-12-15T22:31:04.555762
https://img-9gag-fun.9cache.com/photo/aMV05vP_460svav1.mp4,sports,2025-12-15T22:31:11.298044
https://img-9gag-fun.9cache.com/photo/ae9qwMQ_460svav1.mp4,sports,2025-12-15T22:31:18.732239
https://img-9gag-fun.9cache.com/photo/aKGXZYQ_460sv.mp4,sports,2025-12-15T22:31:24.994654
https://img-9gag-fun.9cache.com/photo/aW4eywZ_460svav1.mp4,sports,2025-12-15T22:31:24.994654
https://img-9gag-fun.9cache.com/photo/aRB8WvB_460sv.mp4,sports,2025-12-15T22:31:32.284943
https://img-9gag-fun.9cache.com/photo/a87vNz3_460svav1.mp4,sports,2025-12-15T22:31:32.284943
https://img-9gag-fun.9cache.com/photo/aQzDbgz_460sv.mp4,sports,2025-12-15T22:31:32.285942
https://img-9gag-fun.9cache.com/photo/aYQv6yN_460sv.mp4,sports,2025-12-15T22:31:39.289499
https://img-9gag-fun.9cache.com/photo/aryDEgB_460svav1.mp4,sports,2025-12-15T22:31:39.290497
https://img-9gag-fun.9cache.com/photo/axye8XD_460sv.mp4,sports,2025-12-15T22:31:46.746057
https://img-9gag-fun.9cache.com/photo/ae9qEqq_460sv.mp4,sports,2025-12-15T22:31:52.785906
https://img-9gag-fun.9cache.com/photo/aGyrqbK_460svav1.mp4,sports,2025-12-15T22:31:52.785906
https://img-9gag-fun.9cache.com/photo/apRnXM9_460sv.mp4,sports,2025-12-15T22:31:52.786903
https://img-9gag-fun.9cache.com/photo/axye8AK_460sv.mp4,sports,2025-12-15T22:31:52.786903
https://img-9gag-fun.9cache.com/photo/aMV06wR_460sv.mp4,sports,2025-12-15T22:32:01.217143
https://img-9gag-fun.9cache.com/photo/aD2qLgG_460sv.mp4,sports,2025-12-15T22:32:01.218139
https://img-9gag-fun.9cache.com/photo/an70pyo_460sv.mp4,food,2025-12-15T22:34:18.234171
https://img-9gag-fun.9cache.com/photo/azxv0em_460sv.mp4,food,2025-12-15T22:34:42.935291
https://img-9gag-fun.9cache.com/photo/avyB32q_460svav1.mp4,food,2025-12-15T22:34:59.355645
https://img-9gag-fun.9cache.com/photo/aNDGN8G_460svav1.mp4,food,2025-12-15T22:35:15.397439
https://img-9gag-fun.9cache.com/photo/a1m89w2_460svav1.mp4,food,2025-12-15T22:35:22.371617
https://img-9gag-fun.9cache.com/photo/aPAV5oG_460svav1.mp4,food,2025-12-15T22:35:22.371617
https://img-9gag-fun.9cache.com/photo/aNDGNzr_460sv.mp4,food,2025-12-15T22:35:29.524490
https://img-9gag-fun.9cache.com/photo/aW4ezO6_460svav1.mp4,food,2025-12-15T22:35:36.224195
https://img-9gag-fun.9cache.com/photo/a87vZb6_460sv.mp4,food,2025-12-15T22:35:36.225191
https://img-9gag-fun.9cache.com/photo/aqyV09P_460sv.mp4,food,2025-12-15T22:35:43.079447
https://img-9gag-fun.9cache.com/photo/a7omY4r_460svav1.mp4,food,2025-12-15T22:35:43.079447
https://img-9gag-fun.9cache.com/photo/aQzDLLW_460sv.mp4,food,2025-12-15T22:35:48.879376
https://img-9gag-fun.9cache.com/photo/axyeLQb_460sv.mp4,food,2025-12-15T22:35:55.333547
https://img-9gag-fun.9cache.com/photo/avyBMmW_460sv.mp4,food,2025-12-15T22:35:55.334543
https://img-9gag-fun.9cache.com/photo/a2vA3Xd_460sv.mp4,food,2025-12-15T22:35:55.334543
https://img-9gag-fun.9cache.com/photo/a2vA3yD_460sv.mp4,food,2025-12-15T22:36:01.314000
https://img-9gag-fun.9cache.com/photo/aVv9pZn_460sv.mp4,food,2025-12-15T22:36:01.314997
https://img-9gag-fun.9cache.com/photo/aKGXQwQ_460svav1.mp4,food,2025-12-15T22:36:07.781047
https://img-9gag-fun.9cache.com/photo/aYQv3Ow_460sv.mp4,food,2025-12-15T22:36:07.782045
https://img-9gag-fun.9cache.com/photo/apRn4R8_460sv.mp4,food,2025-12-15T22:36:07.783042
https://img-9gag-fun.9cache.com/photo/an70mXb_460sv.mp4,food,2025-12-15T22:36:07.783042
https://img-9gag-fun.9cache.com/photo/aKGXonj_460sv.mp4,food,2025-12-15T22:36:15.176106
https://img-9gag-fun.9cache.com/photo/aBybBEO_460svav1.mp4,food,2025-12-15T22:36:21.159351
https://img-9gag-fun.9cache.com/photo/a6ZeY9R_460sv.mp4,food,2025-12-15T22:36:21.160348
https://img-9gag-fun.9cache.com/photo/avyBK0b_460svav1.mp4,food,2025-12-15T22:36:28.051402
https://img-9gag-fun.9cache.com/photo/apRnZq5_460sv.mp4,food,2025-12-15T22:36:28.051402
https://img-9gag-fun.9cache.com/photo/aGyrQmX_460svav1.mp4,food,2025-12-15T22:36:35.643497
https://img-9gag-fun.9cache.com/photo/aXPmOB6_460sv.mp4,food,2025-12-15T22:36:35.643497
https://img-9gag-fun.9cache.com/photo/ae9qBzB_460sv.mp4,food,2025-12-15T22:36:42.872493
https://img-9gag-fun.9cache.com/photo/a0eD3Ev_460svav1.mp4,food,2025-12-15T22:36:49.003920
https://img-9gag-fun.9cache.com/photo/aqyVEdj_460svav1.mp4,food,2025-12-15T22:36:49.004914
https://img-9gag-fun.9cache.com/photo/aYQv0n0_460sv.mp4,food,2025-12-15T22:36:49.004914
https://img-9gag-fun.9cache.com/photo/agmpe8w_460svav1.mp4,food,2025-12-15T22:37:07.247645
https://img-9gag-fun.9cache.com/photo/ayNmK4M_460sv.mp4,food,2025-12-15T22:37:07.247645
https://img-9gag-fun.9cache.com/photo/a4PB07v_460sv.mp4,food,2025-12-15T22:37:13.844609
https://img-9gag-fun.9cache.com/photo/amoOZ0X_460sv.mp4,food,2025-12-15T22:37:20.185404
https://img-9gag-fun.9cache.com/photo/abALw7p_460svav1.mp4,food,2025-12-15T22:37:20.186399
https://img-9gag-fun.9cache.com/photo/aZZ45eW_460sv.mp4,food,2025-12-15T22:37:20.186399
https://img-9gag-fun.9cache.com/photo/a87vOZO_460sv.mp4,food,2025-12-15T22:37:28.246157
https://img-9gag-fun.9cache.com/photo/aAyL5Od_460sv.mp4,food,2025-12-15T22:37:36.175185
https://img-9gag-fun.9cache.com/photo/aKGX5g6_460sv.mp4,food,2025-12-15T22:37:43.533939
https://img-9gag-fun.9cache.com/photo/a6Ze67N_460svav1.mp4,food,2025-12-15T22:37:43.534936
https://img-9gag-fun.9cache.com/photo/an70wYz_460sv.mp4,food,2025-12-15T22:37:43.534936
https://img-9gag-fun.9cache.com/photo/ajP3wPw_460sv.mp4,food,2025-12-15T22:37:43.535932
https://img-9gag-fun.9cache.com/photo/ae9qzPW_460sv.mp4,food,2025-12-15T22:38:10.209755
https://img-9gag-fun.9cache.com/photo/a5Q9gGo_460sv.mp4,food,2025-12-15T22:38:10.209755
https://img-9gag-fun.9cache.com/photo/adBWAgQ_460sv.mp4,food,2025-12-15T22:38:16.668863
https://img-9gag-fun.9cache.com/photo/a0eDgXq_460svav1.mp4,food,2025-12-15T22:38:16.668863
https://img-9gag-fun.9cache.com/photo/a0eDG2L_460sv.mp4,food,2025-12-15T22:38:31.979333
https://img-9gag-fun.9cache.com/photo/aGyrq76_460svav1.mp4,food,2025-12-15T22:38:38.764404
https://img-9gag-fun.9cache.com/photo/an70AXb_460sv.mp4,lifestyle,2025-12-15T22:39:16.160728
https://img-9gag-fun.9cache.com/photo/aBybD3O_460sv.mp4,lifestyle,2025-12-15T22:39:16.160728
</file>

<file path="aE0jr5o">

</file>

<file path="aE0jr5o_460sv">

</file>

<file path="backend/.gitignore">
node_modules
# Keep environment variables out of version control
.env

/generated/prisma
uploads
</file>

<file path="backend/prisma.config.ts">
// This file was generated by Prisma and assumes you have installed the following:
// npm install --save-dev prisma dotenv
import "dotenv/config";
import { defineConfig, env } from "prisma/config";

export default defineConfig({
  schema: "prisma/schema.prisma",
  migrations: {
    path: "prisma/migrations",
  },
  datasource: {
    url: env("DATABASE_URL"),
  },
});
</file>

<file path="backend/prisma/migrations/migration_lock.toml">
# Please do not edit this file manually
# It should be added in your version-control system (e.g., Git)
provider = "postgresql"
</file>

<file path="backend/src/config/tagCategories.js">
// backend/src/config/tagCategories.js
// Subconjunto inicial de categoras con reglas para Groq

module.exports = [
  {
    tag: "#finanzas",
    idea_principal: "El post habla principalmente de dinero o economa personal.",
    cuando_usar: [
      "Se habla de ahorrar, gastar, invertir, precios, sueldos, inflacin o plata/guita en general (palabras clave: plata, guita, dinero, sueldo, inflacion, precios)",
      "Se mencionan deudas, tarjetas, prstamos o problemas de dinero",
    ],
    no_usar_cuando: [
      "La palabra 'plata' forma parte de un lugar (Mar del Plata, La Plata)",
      "El dinero se menciona de pasada y el foco real es otra cosa (viaje, relacin, reflexin)",
    ],
    subtags: {
      "#ahorro": "Solo si el objetivo principal es guardar o juntar dinero para algo concreto.",
      "#gastos": "Cuando el foco son compras, consumismo, pagar cuentas o 'me fund'.",
      "#deudas": "Cuando se habla de deudas, tarjetas al lmite o pagos pendientes.",
    },
  },
  {
    tag: "#viajes",
    idea_principal: "Viajar o hacer turismo es el tema central.",
    cuando_usar: [
      "Se cuenta un viaje pasado, presente o futuro (palabras clave: viaje, viajar, viajando, vacaciones, turismo)",
      "Se mencionan vacaciones, turismo, vuelos, hoteles, mochilas",
    ],
    no_usar_cuando: ["El viaje es un detalle menor y el foco es otro (trabajo, estudio, reflexin)"],
    subtags: {
      "#argentina": "Viajes o experiencias dentro de Argentina o que destacan contexto argentino.",
      "#mardelplata": "Viaje o experiencia especfica en Mar del Plata / MDQ / La Feliz.",
      "#buenosaires": "Vida o experiencias en Buenos Aires/CABA (barrios, obelisco, subte, bondi).",
      "#playa": "Cuando el foco del viaje es la playa, mar, arena, sol.",
    },
  },
  {
    tag: "#comida",
    idea_principal: "El foco es comer o preparar comida.",
    cuando_usar: [
      "Se habla de desayunos, almuerzos, cenas, recetas, restaurantes, delivery",
      "Se muestra un plato o se comenta sobre su sabor/preparacin",
    ],
    no_usar_cuando: ["La comida es un detalle en un post cuyo foco es otro (estudio, trabajo, reflexin)"],
    subtags: {
      "#bebidas": "Cuando el foco son bebidas (caf, mate, tragos, gaseosas, alcohol).",
    },
  },
  {
    tag: "#musica",
    idea_principal: "La msica es el tema central.",
    cuando_usar: ["Se habla de canciones, artistas, playlists, conciertos, gneros musicales"],
    no_usar_cuando: ["La msica solo aparece como fondo mientras se hace otra cosa (estudiar, trabajar)"],
    subtags: {
      "#entretenimiento": "Pelculas, series, TV, streaming, contenido para ocio (no solo msica).",
    },
  },
  {
    tag: "#deporte",
    idea_principal: "Actividad fsica o deporte como tema principal.",
    cuando_usar: ["Partidos, entrenamientos, resultados, equipos, competencias"],
    no_usar_cuando: ["La actividad fsica es secundaria a otro tema (paseo, despejar la mente de otro problema)"],
    subtags: {
      "#salud": "Cuando el foco es salud fsica/mental, bienestar, mdicos, terapia, gym por salud.",
    },
  },
  {
    tag: "#humor",
    idea_principal: "El objetivo del post es hacer rer o compartir algo gracioso.",
    cuando_usar: ["Chistes, memes, tono claramente cmico o irnico"],
    no_usar_cuando: [
      "Tema sensible o serio donde el humor es mnimo (duelo, trauma, salud mental grave)",
    ],
    subtags: {
      "#reflexion": "Cuando el post es introspectivo o de pensamientos/enseanzas personales.",
    },
  },
  {
    tag: "#amor",
    idea_principal: "Relacin afectiva romntica.",
    cuando_usar: ["Parejas, citas, rupturas, relaciones serias"],
    no_usar_cuando: ["Amor a objetos/comida (mejor usar #comida o tema especfico)"],
    subtags: {
      "#familia": "Reuniones o vnculos familiares (asados, abuelos, hijos, padres).",
      "#amigos": "Juntadas o experiencias donde la amistad es el foco.",
    },
  },
  {
    tag: "#lifestyle",
    idea_principal: "Rutina y forma de encarar la vida (da a da, hbitos).",
    cuando_usar: ["Post de rutina diaria, cambios de hbitos, estilo de vida"],
    no_usar_cuando: ["Hay un tema claro ms especfico que aplica (finanzas, viajes, salud, etc.)"],
    subtags: {
      "#trabajo": "Experiencias laborales, carrera, empleo, reuniones, productividad.",
      "#educacion": "Estudio formal o cursos, parciales, finales, aprendizaje.",
    },
  },
];
</file>

<file path="backend/src/middleware/auth.js">
const jwt = require("jsonwebtoken");

function requireAuth(req, res, next) {
  const authHeader = req.headers.authorization;
  if (!authHeader || !authHeader.startsWith("Bearer ")) {
    return res.status(401).json({ message: "No autorizado" });
  }

  const token = authHeader.split(" ")[1];
  try {
    const payload = jwt.verify(token, process.env.JWT_SECRET);
    req.userId = payload.userId;
    next();
  } catch (error) {
    return res.status(401).json({ message: "Token invlido" });
  }
}

function optionalAuth(req, res, next) {
  const authHeader = req.headers.authorization;
  if (authHeader && authHeader.startsWith("Bearer ")) {
    const token = authHeader.split(" ")[1];
    try {
      const payload = jwt.verify(token, process.env.JWT_SECRET);
      req.userId = payload.userId;
    } catch (error) {
      req.userId = null;
    }
  } else {
    req.userId = null;
  }
  next();
}

module.exports = { requireAuth, optionalAuth };
</file>

<file path="backend/src/prisma.js">
require("dotenv").config();
const { PrismaClient } = require("@prisma/client");
const { Pool } = require("pg");
const { PrismaPg } = require("@prisma/adapter-pg");

// Adaptador PG para Prisma (engine "client" de Prisma 7)
const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
});
const adapter = new PrismaPg(pool);

const prisma = new PrismaClient({ adapter });

module.exports = prisma;
</file>

<file path="backend/src/routes/chat.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");
const { notify } = require("../utils/notify");

const router = express.Router();

const sanitizeUser = (user) => {
  if (!user) return null;
  const { password, ...rest } = user;
  return rest;
};

const getOrCreateDirectConversation = async (userId, otherId) => {
  const existing = await prisma.conversation.findFirst({
    where: {
      isDirect: true,
      participants: { every: { userId: { in: [userId, otherId] } } },
    },
    include: { participants: true },
  });
  if (existing) return existing;

  return prisma.conversation.create({
    data: {
      isDirect: true,
      participants: {
        createMany: {
          data: [
            { userId },
            { userId: otherId },
          ],
        },
      },
    },
    include: { participants: true },
  });
};

// Crea o recupera conversacin directa con un usuario
router.post("/start/:username", requireAuth, async (req, res) => {
  const target = await prisma.user.findUnique({ where: { username: req.params.username } });
  if (!target) return res.status(404).json({ message: "Usuario no encontrado" });
  if (target.id === req.userId) return res.status(400).json({ message: "No puedes chatear contigo" });

  const conversation = await getOrCreateDirectConversation(req.userId, target.id);
  res.json({ id: conversation.id });
});

router.get("/conversations", requireAuth, async (req, res) => {
  const conversations = await prisma.conversation.findMany({
    where: { participants: { some: { userId: req.userId } } },
    include: {
      participants: { include: { user: true } },
      messages: {
        orderBy: { createdAt: "desc" },
        take: 1,
        include: { sender: true },
      },
    },
    orderBy: { createdAt: "desc" },
  });

  res.json(
    conversations.map((c) => ({
      id: c.id,
      isDirect: c.isDirect,
      participants: c.participants.map((p) => sanitizeUser(p.user)),
      lastMessage: c.messages[0]
        ? {
            id: c.messages[0].id,
            content: c.messages[0].content,
            createdAt: c.messages[0].createdAt,
            sender: sanitizeUser(c.messages[0].sender),
          }
        : null,
    }))
  );
});

router.get("/:id/messages", requireAuth, async (req, res) => {
  const conversationId = Number(req.params.id);
  if (Number.isNaN(conversationId)) return res.status(400).json({ message: "ID invlido" });

  const conversation = await prisma.conversation.findFirst({
    where: {
      id: conversationId,
      participants: { some: { userId: req.userId } },
    },
  });
  if (!conversation) return res.status(404).json({ message: "Conversacin no encontrada" });

  const messages = await prisma.message.findMany({
    where: { conversationId },
    orderBy: { createdAt: "asc" },
    include: { sender: true },
  });

  res.json(
    messages.map((m) => ({
      id: m.id,
      content: m.content,
      createdAt: m.createdAt,
      sender: sanitizeUser(m.sender),
    }))
  );
});

router.post("/to/:username", requireAuth, async (req, res) => {
  const target = await prisma.user.findUnique({ where: { username: req.params.username } });
  if (!target) return res.status(404).json({ message: "Usuario no encontrado" });
  if (!req.body.content || !req.body.content.trim()) {
    return res.status(400).json({ message: "Contenido vaco" });
  }

  const conversation = await getOrCreateDirectConversation(req.userId, target.id);
  const message = await prisma.message.create({
    data: {
      content: req.body.content,
      conversationId: conversation.id,
      senderId: req.userId,
    },
    include: { sender: true },
  });

  if (target.id !== req.userId) {
    await notify({
      userId: target.id,
      type: "MESSAGE",
      data: { conversationId: conversation.id, by: req.userId },
    });
  }

  res.status(201).json({
    id: message.id,
    content: message.content,
    createdAt: message.createdAt,
    sender: sanitizeUser(message.sender),
    conversationId: conversation.id,
  });
});

module.exports = router;
</file>

<file path="backend/src/routes/feedback.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

router.get("/", requireAuth, async (req, res) => {
  const sort = req.query.sort === "top" ? { votes: "desc" } : { createdAt: "desc" };
  const items = await prisma.feedback.findMany({
    orderBy: sort,
    include: {
      author: { select: { id: true, username: true, name: true } },
    },
  });
  res.json(items);
});

router.post("/", requireAuth, async (req, res) => {
  const { title, description } = req.body;
  if (!title || !description) {
    return res.status(400).json({ message: "title y description son obligatorios" });
  }
  const item = await prisma.feedback.create({
    data: {
      title,
      description,
      authorId: req.userId,
    },
  });
  res.status(201).json(item);
});

router.post("/:id/vote", requireAuth, async (req, res) => {
  const feedbackId = Number(req.params.id);
  if (Number.isNaN(feedbackId)) return res.status(400).json({ message: "ID invlido" });

  const exists = await prisma.feedback.findUnique({ where: { id: feedbackId } });
  if (!exists) return res.status(404).json({ message: "Feedback no encontrado" });

  const already = await prisma.feedbackVote.findUnique({
    where: { userId_feedbackId: { userId: req.userId, feedbackId } },
  });

  if (already) {
    return res.status(400).json({ message: "Ya votaste esta idea" });
  }

  await prisma.$transaction([
    prisma.feedbackVote.create({
      data: { userId: req.userId, feedbackId },
    }),
    prisma.feedback.update({
      where: { id: feedbackId },
      data: { votes: { increment: 1 } },
    }),
  ]);

  res.json({ ok: true });
});

module.exports = router;
</file>

<file path="backend/src/routes/friends.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

const sanitizeUser = (user) => {
  if (!user) return null;
  const { password, ...rest } = user;
  return rest;
};

const getFriendship = async (userId, targetId) =>
  prisma.friendship.findFirst({
    where: {
      OR: [
        { requesterId: userId, addresseeId: targetId },
        { requesterId: targetId, addresseeId: userId },
      ],
    },
  });

router.get("/", requireAuth, async (req, res) => {
  const friendships = await prisma.friendship.findMany({
    where: {
      OR: [{ requesterId: req.userId }, { addresseeId: req.userId }],
    },
    include: { requester: true, addressee: true },
  });

  const friends = friendships.map((f) =>
    f.requesterId === req.userId ? f.addressee : f.requester
  );

  res.json(
    friendships.map((f) => ({
      status: f.status,
      relationCategory: f.relationCategory,
      relationDetail: f.relationDetail,
      user: sanitizeUser(f.requesterId === req.userId ? f.addressee : f.requester),
      direction: f.requesterId === req.userId ? "OUTGOING" : "INCOMING",
    }))
  );
});

router.post("/:username", requireAuth, async (req, res) => {
  const target = await prisma.user.findUnique({ where: { username: req.params.username } });
  if (!target) return res.status(404).json({ message: "Usuario no encontrado" });
  if (target.id === req.userId) return res.status(400).json({ message: "No puedes agregarte" });

  const existing = await getFriendship(req.userId, target.id);
  if (existing) {
    if (existing.status === "ACCEPTED") return res.json({ status: "FRIENDS" });
    if (existing.requesterId === req.userId) return res.json({ status: "OUTGOING" });
    if (existing.addresseeId === req.userId) return res.json({ status: "INCOMING" });
  }

  await prisma.friendship.create({
    data: { requesterId: req.userId, addresseeId: target.id, status: "PENDING" },
  });

  res.json({ status: "OUTGOING" });
});

router.post("/:username/accept", requireAuth, async (req, res) => {
  const target = await prisma.user.findUnique({ where: { username: req.params.username } });
  if (!target) return res.status(404).json({ message: "Usuario no encontrado" });

  const existing = await getFriendship(req.userId, target.id);
  if (!existing || existing.status !== "PENDING" || existing.requesterId !== target.id) {
    return res.status(400).json({ message: "No hay solicitud pendiente" });
  }

  await prisma.friendship.update({ where: { id: existing.id }, data: { status: "ACCEPTED" } });
  res.json({ status: "FRIENDS" });
});

router.post("/:username/relation", requireAuth, async (req, res) => {
  const target = await prisma.user.findUnique({ where: { username: req.params.username } });
  if (!target) return res.status(404).json({ message: "Usuario no encontrado" });

  const { category, detail } = req.body;
  const existing = await getFriendship(req.userId, target.id);
  if (!existing || existing.status !== "ACCEPTED") {
    return res.status(400).json({ message: "No son amigos" });
  }

  await prisma.friendship.update({
    where: { id: existing.id },
    data: { relationCategory: category || null, relationDetail: detail || null },
  });

  res.json({ status: existing.status, category: category || null, detail: detail || null });
});

router.delete("/:username", requireAuth, async (req, res) => {
  const target = await prisma.user.findUnique({ where: { username: req.params.username } });
  if (!target) return res.status(404).json({ message: "Usuario no encontrado" });

  const existing = await getFriendship(req.userId, target.id);
  if (!existing) {
    return res.status(404).json({ message: "Relacin no encontrada" });
  }

  await prisma.friendship.delete({ where: { id: existing.id } });
  res.json({ status: "NONE" });
});

module.exports = router;
</file>

<file path="backend/src/routes/hashtags.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

// Hashtags en tendencia
router.get("/trending", requireAuth, async (req, res) => {
  const limit = parseInt(req.query.limit, 10) || 20;

  try {
    const hashtags = await prisma.hashtag.findMany({
      orderBy: [{ useCount: "desc" }, { lastUsedAt: "desc" }],
      take: limit,
    });

    res.json(hashtags);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error obteniendo hashtags en tendencia" });
  }
});

module.exports = router;
</file>

<file path="backend/src/routes/notifications.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

router.get("/", requireAuth, async (req, res) => {
  const items = await prisma.notification.findMany({
    where: { userId: req.userId },
    orderBy: { createdAt: "desc" },
    take: 50,
  });
  res.json(items);
});

router.post("/read", requireAuth, async (req, res) => {
  await prisma.notification.updateMany({
    where: { userId: req.userId, readAt: null },
    data: { readAt: new Date() },
  });
  res.json({ ok: true });
});

module.exports = router;
</file>

<file path="backend/src/routes/preferences.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

router.get("/", requireAuth, async (req, res) => {
  const prefs = await prisma.userPreference.findUnique({ where: { userId: req.userId } });
  res.json(prefs || {});
});

router.put("/", requireAuth, async (req, res) => {
  const { cardStyle, theme } = req.body;
  const prefs = await prisma.userPreference.upsert({
    where: { userId: req.userId },
    update: { cardStyle: cardStyle || {}, theme: theme || null },
    create: { userId: req.userId, cardStyle: cardStyle || {}, theme: theme || null },
  });
  res.json(prefs);
});

module.exports = router;
</file>

<file path="backend/src/routes/shop.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

router.get("/items", requireAuth, async (req, res) => {
  const items = await prisma.shopItem.findMany({
    include: {
      theme: true,
      userItems: {
        where: { userId: req.userId },
      },
    },
  });
  res.json(
    items.map((item) => ({
      ...item,
      owned: item.userItems.length > 0,
      equipped: item.userItems.some((u) => u.equipped),
      userItemId: item.userItems[0]?.id || null,
    }))
  );
});

router.post("/purchase", requireAuth, async (req, res) => {
  const { itemId } = req.body;
  const item = await prisma.shopItem.findUnique({ where: { id: itemId } });
  if (!item) return res.status(404).json({ message: "Item no encontrado" });

  const already = await prisma.userItem.findFirst({
    where: { userId: req.userId, itemId },
  });
  if (already) return res.status(400).json({ message: "Ya lo tienes" });

  const user = await prisma.user.findUnique({ where: { id: req.userId } });
  if (user.points < item.pricePoints) {
    return res.status(400).json({ message: "Puntos insuficientes" });
  }

  await prisma.$transaction([
    prisma.user.update({
      where: { id: req.userId },
      data: { points: { decrement: item.pricePoints } },
    }),
    prisma.userItem.create({
      data: {
        userId: req.userId,
        itemId,
        equipped: item.category === "THEME" && item.pricePoints === 0, // auto-equipar free theme
      },
    }),
  ]);

  res.json({ ok: true });
});

router.post("/equip", requireAuth, async (req, res) => {
  const { userItemId } = req.body;
  const userItem = await prisma.userItem.findFirst({
    where: { id: userItemId, userId: req.userId },
    include: { item: true },
  });
  if (!userItem) return res.status(404).json({ message: "No encontrado" });

  await prisma.$transaction(async (tx) => {
    // desactivar otros de la misma categora
    await tx.userItem.updateMany({
      where: {
        userId: req.userId,
        id: { not: userItemId },
        item: { category: userItem.item.category },
      },
      data: { equipped: false },
    });
    await tx.userItem.update({
      where: { id: userItemId },
      data: { equipped: true },
    });

    if (userItem.item.category === "THEME" && userItem.item.themeKey) {
      const theme = await tx.theme.findUnique({ where: { key: userItem.item.themeKey } });
      if (theme) {
        await tx.user.update({ where: { id: req.userId }, data: { themeId: theme.id } });
      }
    }
  });

  res.json({ ok: true });
});

module.exports = router;
</file>

<file path="backend/src/routes/squads.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

const makeSlug = async (name) => {
  const base = name
    .toLowerCase()
    .trim()
    .replace(/[^a-z0-9]+/g, "-")
    .replace(/^-+|-+$/g, "") || `squad-${Date.now()}`;
  let slug = base;
  let counter = 1;
  // ensure unique
  // eslint-disable-next-line no-constant-condition
  while (true) {
    const exists = await prisma.squad.findUnique({ where: { slug } });
    if (!exists) break;
    slug = `${base}-${counter++}`;
  }
  return slug;
};

router.get("/", requireAuth, async (req, res) => {
  const q = (req.query.q || "").trim();
  const squads = await prisma.squad.findMany({
    where: q
      ? {
          OR: [
            { name: { contains: q, mode: "insensitive" } },
            { tags: { hasSome: [q] } },
          ],
        }
      : {},
    include: {
      _count: { select: { members: true } },
      members: {
        where: { userId: req.userId },
        select: { userId: true },
      },
    },
    orderBy: { createdAt: "desc" },
  });

  res.json(
    squads.map((s) => ({
      id: s.id,
      name: s.name,
      description: s.description,
      tags: s.tags,
      type: s.type,
      membersCount: s._count.members,
      joined: s.members.some((m) => m.userId === req.userId),
    }))
  );
});

router.post("/", requireAuth, async (req, res) => {
  const { name, description, tags = [], type } = req.body;
  if (!name || !description) {
    return res.status(400).json({ message: "name y description son obligatorios" });
  }
  const slug = await makeSlug(name);
  const squad = await prisma.$transaction(async (tx) => {
    const created = await tx.squad.create({
      data: {
        name,
        description,
        tags,
        type,
        slug,
      },
    });
    await tx.squadMember.create({
      data: {
        userId: req.userId,
        squadId: created.id,
        role: "ADMIN",
      },
    });
    return created;
  });
  res.status(201).json(squad);
});

router.post("/:id/join", requireAuth, async (req, res) => {
  const squadId = Number(req.params.id);
  if (Number.isNaN(squadId)) return res.status(400).json({ message: "ID invlido" });

  const squad = await prisma.squad.findUnique({ where: { id: squadId } });
  if (!squad) return res.status(404).json({ message: "Squad no encontrado" });

  const existing = await prisma.squadMember.findUnique({
    where: { userId_squadId: { userId: req.userId, squadId } },
  });
  if (existing) return res.json({ joined: true });

  await prisma.squadMember.create({
    data: { userId: req.userId, squadId, role: "MEMBER" },
  });
  res.json({ joined: true });
});

router.post("/:id/leave", requireAuth, async (req, res) => {
  const squadId = Number(req.params.id);
  if (Number.isNaN(squadId)) return res.status(400).json({ message: "ID invlido" });

  const existing = await prisma.squadMember.findUnique({
    where: { userId_squadId: { userId: req.userId, squadId } },
  });
  if (!existing) return res.status(404).json({ message: "No eres miembro" });

  await prisma.squadMember.delete({
    where: { userId_squadId: { userId: req.userId, squadId } },
  });
  res.json({ left: true });
});

router.get("/:id/posts", requireAuth, async (req, res) => {
  const squadId = Number(req.params.id);
  if (Number.isNaN(squadId)) return res.status(400).json({ message: "ID invlido" });

  const posts = await prisma.post.findMany({
    where: { squadId },
    orderBy: { createdAt: "desc" },
    include: {
      author: true,
      _count: { select: { likes: true, comments: true } },
      likes: { select: { userId: true } },
      reactions: true,
      comments: {
        orderBy: { createdAt: "desc" },
        include: { author: true },
      },
      squad: true,
    },
  });

  const reactionsSummary = (reactions = []) =>
    reactions.reduce((acc, r) => {
      acc[r.type] = (acc[r.type] || 0) + 1;
      return acc;
    }, {});

  res.json(
    posts.map((post) => ({
      id: post.id,
      content: post.content,
      image: post.image,
      createdAt: post.createdAt,
      author: { ...post.author, password: undefined },
      likedBy: post.likes.map((like) => like.userId),
      comments: post.comments.map((comment) => ({
        id: comment.id,
        content: comment.content,
        createdAt: comment.createdAt,
        author: { ...comment.author, password: undefined },
      })),
      _count: post._count,
      reactions: reactionsSummary(post.reactions),
      userReaction: post.reactions.find((r) => r.userId === req.userId)?.type || null,
      tags: post.tags,
      type: post.type,
      squad: post.squad ? { id: post.squad.id, name: post.squad.name } : null,
    }))
  );
});

router.get("/:id", requireAuth, async (req, res) => {
  const squadId = Number(req.params.id);
  if (Number.isNaN(squadId)) return res.status(400).json({ message: "ID invlido" });

  const squad = await prisma.squad.findUnique({
    where: { id: squadId },
    include: {
      _count: { select: { members: true } },
      members: {
        include: {
          user: { select: { id: true, username: true, name: true } },
        },
      },
    },
  });

  if (!squad) return res.status(404).json({ message: "Squad no encontrado" });

  res.json({
    id: squad.id,
    name: squad.name,
    description: squad.description,
    tags: squad.tags,
    type: squad.type,
    membersCount: squad._count.members,
    joined: squad.members.some((m) => m.userId === req.userId),
    members: squad.members.map((m) => ({
      userId: m.userId,
      username: m.user.username,
      name: m.user.name,
      role: m.role,
    })),
  });
});

module.exports = router;
</file>

<file path="backend/src/routes/theme.js">
const express = require("express");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");
const { suggestThemeForUser } = require("../services/themeSuggestionService");

const router = express.Router();

router.get("/me", requireAuth, async (req, res) => {
  const user = await prisma.user.findUnique({
    where: { id: req.userId },
    include: {
      theme: true,
      userItems: {
        where: { equipped: true },
        include: { item: true },
      },
    },
  });
  const prefs = await prisma.userPreference.findUnique({ where: { userId: req.userId } });
  res.json({
    theme: user?.theme,
    decorations: user?.userItems?.filter((ui) => ui.item.category === "DECORATION").map((ui) => ui.item) || [],
    customThemeSettings: user?.customThemeSettings || prefs?.cardStyle || {},
  });
});

router.put("/me", requireAuth, async (req, res) => {
  const { themeId, customThemeSettings } = req.body;
  if (themeId) {
    const theme = await prisma.theme.findUnique({ where: { id: themeId } });
    if (!theme) return res.status(404).json({ message: "Tema no encontrado" });
    // Opcionalmente validar que lo posee
    await prisma.user.update({ where: { id: req.userId }, data: { themeId } });
  }
  if (customThemeSettings) {
    await prisma.user.update({
      where: { id: req.userId },
      data: { customThemeSettings },
    });
  }
  res.json({ ok: true });
});

router.post("/me/recalculate", requireAuth, async (req, res) => {
  const suggestion = await suggestThemeForUser(req.userId);
  res.json({ suggestedTheme: suggestion.theme, reason: suggestion.reason });
});

router.post("/me/apply-suggested", requireAuth, async (req, res) => {
  const suggestion = await suggestThemeForUser(req.userId);
  if (!suggestion.theme) return res.status(404).json({ message: "No hay sugerencia" });
  await prisma.user.update({ where: { id: req.userId }, data: { themeId: suggestion.theme.id } });
  res.json({ applied: suggestion.theme });
});

module.exports = router;
</file>

<file path="backend/src/services/aiClient.js">
// backend/src/services/aiClient.js

// Si tu entorno no tiene fetch global, instal node-fetch y descoment:
// const fetch = require("node-fetch");

const GROQ_API_KEY = process.env.GROQ_API_KEY;
const GROQ_MODEL = process.env.GROQ_MODEL || "llama-3.1-8b-instant";
const GROQ_ENABLED = process.env.GROQ_ENABLED === "true";

if (!GROQ_API_KEY) {
  // eslint-disable-next-line no-console
  console.warn("[aiClient] GROQ_API_KEY no est definido en .env");
}

/**
 * Llama a la API de Groq estilo Chat Completions.
 */
async function callGroqChat(messages) {
  if (!GROQ_ENABLED) {
    throw new Error("Groq deshabilitado (GROQ_ENABLED=false)");
  }

  const res = await fetch("https://api.groq.com/openai/v1/chat/completions", {
    method: "POST",
    headers: {
      Authorization: `Bearer ${GROQ_API_KEY}`,
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      model: GROQ_MODEL,
      messages,
      temperature: 0,
      top_p: 0,
      max_tokens: 512,
    }),
  });

  if (!res.ok) {
    const text = await res.text();
    // eslint-disable-next-line no-console
    console.error("[aiClient] Error", res.status, text);
    throw new Error(`Groq API error: ${res.status}`);
  }

  const data = await res.json();
  const content = data?.choices?.[0]?.message?.content;
  return content || "";
}

module.exports = {
  callGroqChat,
  GROQ_ENABLED,
};
</file>

<file path="backend/src/services/cloudinaryService.js">
const cloudinary = require("cloudinary").v2;

cloudinary.config({
  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
  api_key: process.env.CLOUDINARY_API_KEY,
  api_secret: process.env.CLOUDINARY_API_SECRET,
});

/**
 * Sube un archivo a Cloudinary
 * @param {Buffer} fileBuffer - El buffer del archivo
 * @param {string} folder - Carpeta en Cloudinary (ej: "avatars", "posts")
 * @param {string} resourceType - Tipo de recurso ("image", "video", "auto")
 * @returns {Promise<string>} URL segura del recurso subido
 */
async function uploadToCloudinary(fileBuffer, folder, resourceType = "auto") {
  return new Promise((resolve, reject) => {
    const stream = cloudinary.uploader.upload_stream(
      {
        folder: `macanudos/${folder}`,
        resource_type: resourceType,
        secure: true,
      },
      (error, result) => {
        if (error) reject(error);
        else resolve(result.secure_url);
      }
    );

    stream.end(fileBuffer);
  });
}

/**
 * Elimina un archivo de Cloudinary por su URL o public_id
 */
async function deleteFromCloudinary(publicId) {
  try {
    await cloudinary.uploader.destroy(publicId);
    return true;
  } catch (error) {
    console.error("Error deleting from Cloudinary:", error);
    return false;
  }
}

module.exports = {
  uploadToCloudinary,
  deleteFromCloudinary,
};
</file>

<file path="backend/src/services/gamificationService.js">
const prisma = require("../prisma");

const POINTS_TABLE = {
  REGISTER: 50,
  LOGIN: 10,
  POST_CREATED: 5,
  COMMENT_CREATED: 2,
  LIKE_GIVEN: 1,
};

async function addInteractionAndPoints(userId, type) {
  const weight = POINTS_TABLE[type] ?? 0;
  if (!weight) return null;
  const user = await prisma.user.update({
    where: { id: userId },
    data: {
      points: { increment: weight },
      totalPointsEarned: { increment: weight },
    },
  });
  await prisma.userInteraction.create({
    data: { userId, type, weight },
  });
  return user;
}

async function handleLoginStreak(userId) {
  const user = await prisma.user.findUnique({ where: { id: userId } });
  const now = new Date();
  const last = user.lastLoginAt ? new Date(user.lastLoginAt) : null;
  let streak = 1;
  if (last) {
    const diffHours = (now - last) / (1000 * 60 * 60);
    if (diffHours <= 24 && diffHours >= 0) {
      streak = user.loginStreak + 1;
    }
  }
  let bonus = 0;
  if (streak > 0 && streak % 5 === 0) {
    bonus = 20;
  }
  await prisma.user.update({
    where: { id: userId },
    data: {
      loginStreak: streak,
      lastLoginAt: now,
      points: { increment: bonus },
      totalPointsEarned: { increment: bonus },
    },
  });
  return { streak, bonus };
}

module.exports = { addInteractionAndPoints, handleLoginStreak };
</file>

<file path="backend/src/services/themeSuggestionService.js">
const prisma = require("../prisma");

const KEYWORDS = {
  NATURE: ["planta", "bosque", "rbol", "arbol", "camping", "verde", "fogata", "montaa"],
  RACING: ["carrera", "f1", "formula", "auto", "velocidad", "pista", "bandera", "racing"],
  MUSIC: ["msica", "musica", "cancin", "cancion", "banda", "lbum", "album", "guitarra"],
  TECH: ["programacin", "programacion", "codigo", "react", "python", "tech", "software", "js"],
  ART: ["arte", "pintura", "dibujo", "galera", "galeria", "ilustracin", "ilustracion"],
};

const TOPIC_TO_THEME_KEY = {
  NATURE: "nature",
  RACING: "racing",
  MUSIC: "space",
  TECH: "tech",
  ART: "space",
  GENERIC: "nature",
};

async function suggestThemeForUser(userId) {
  const posts = await prisma.post.findMany({
    where: { authorId: userId },
    orderBy: { createdAt: "desc" },
    take: 30,
  });
  const score = {
    NATURE: 0,
    RACING: 0,
    MUSIC: 0,
    TECH: 0,
    ART: 0,
  };
  for (const post of posts) {
    const text = (post.content || "").toLowerCase();
    Object.entries(KEYWORDS).forEach(([topic, words]) => {
      words.forEach((w) => {
        if (text.includes(w)) {
          score[topic] += 1;
        }
      });
    });
  }
  let best = "GENERIC";
  let bestScore = 0;
  Object.entries(score).forEach(([topic, value]) => {
    if (value > bestScore) {
      bestScore = value;
      best = topic;
    }
  });
  const themeKey = TOPIC_TO_THEME_KEY[best] || "nature";
  const theme = await prisma.theme.findUnique({ where: { key: themeKey } });
  return {
    topic: best,
    theme,
    reason: bestScore > 0 ? `Detectamos afinidad con ${best}` : "Tema genrico",
  };
}

module.exports = { suggestThemeForUser };
</file>

<file path="backend/src/utils/ambiguousReferencesAI.js">
// backend/src/utils/ambiguousReferencesAI.js

const { getRelationScore } = require("./userRelations");

/**
 * Crea una AmbiguousReference a partir de implicitRef de la IA
 * y genera candidatos usando likes + score de cercana.
 *
 * implicitRef: {
 *   present: boolean,
 *   kind: 'none'|'romantic'|'friend'|'family'|'pet'|'group'|'brand'|'place'|'other',
 *   target_is_person: boolean
 * }
 */
async function createAmbiguousReferenceFromAI(prisma, post, implicitRef) {
  if (!implicitRef || !implicitRef.present) return null;

  const { id: postId, authorId } = post;

  let label = "ambiguous_reference";
  let sentiment = "neutral";

  if (implicitRef.kind === "romantic") {
    label = "possible_love_interest";
    sentiment = "positive";
  } else if (implicitRef.kind === "family") {
    label = "family_reference";
    sentiment = "positive";
  } else if (implicitRef.kind === "friend") {
    label = "friend_reference";
    sentiment = "positive";
  }

  const reference = await prisma.ambiguousReference.create({
    data: {
      postId,
      authorId,
      label,
      sentiment,
      kind: implicitRef.kind || "other",
    },
  });

  // OJO: ajust 'like' al nombre real de tu modelo si es distinto
  const likes = await prisma.like.findMany({
    where: { postId },
    select: { userId: true },
  });

  const candidateIds = Array.from(new Set(likes.map((l) => l.userId).filter((id) => id !== authorId)));
  if (!candidateIds.length) return reference;

  const scoredCandidates = [];
  for (const targetUserId of candidateIds) {
    const score = await getRelationScore(prisma, authorId, targetUserId);
    if (score > 0) {
      scoredCandidates.push({ targetUserId, score });
    }
  }

  scoredCandidates.sort((a, b) => b.score - a.score);
  const top = scoredCandidates.slice(0, 5);

  await Promise.all(
    top.map((c) =>
      prisma.ambiguousReferenceCandidate.create({
        data: {
          referenceId: reference.id,
          targetUserId: c.targetUserId,
          confidence: c.score,
        },
      })
    )
  );

  return reference;
}

module.exports = {
  createAmbiguousReferenceFromAI,
};
</file>

<file path="backend/src/utils/hashtags.js">
// backend/src/utils/hashtags.js

const accentMap = {
  : "a",
  : "e",
  : "i",
  : "o",
  : "u",
  : "a",
  : "e",
  : "i",
  : "o",
  : "o",
  : "n",
  : "n",
};

function removeAccents(str = "") {
  return str.split("").map((ch) => accentMap[ch] || ch).join("");
}

// Normaliza texto/hashtags para comparacin y como clave cannica
function normalizeHashtag(raw = "") {
  if (!raw) return "";
  let s = raw.startsWith("#") ? raw.slice(1) : raw;

  s = s.toLowerCase();
  s = removeAccents(s);

  const replacements = [
    { from: /uno/g, to: "1" },
    { from: /dos/g, to: "2" },
    { from: /tres/g, to: "3" },
    { from: /cuatro/g, to: "4" },
    { from: /cinco/g, to: "5" },
    { from: /seis/g, to: "6" },
    { from: /siete/g, to: "7" },
    { from: /ocho/g, to: "8" },
    { from: /nueve/g, to: "9" },
    { from: /cero/g, to: "0" },
  ];
  for (const r of replacements) s = s.replace(r.from, r.to);

  s = s.replace(/\s+/g, "");
  return s;
}

// Devuelve [{ raw: '#Formula1', canonical: 'formula1' }, ...]
function extractHashtagsObjects(text = "") {
  if (!text) return [];
  const regex = /#([A-Za-z0-9_]+)/g;
  const seenCanonical = new Set();
  const result = [];
  let match;

  while ((match = regex.exec(text)) !== null) {
    const rawWord = match[1];
    const canonical = normalizeHashtag(rawWord);
    if (!canonical) continue;

    if (!seenCanonical.has(canonical)) {
      seenCanonical.add(canonical);
      result.push({
        raw: `#${rawWord}`,
        canonical,
      });
    }
  }
  return result;
}

module.exports = {
  normalizeHashtag,
  extractHashtagsObjects,
};
</file>

<file path="backend/src/utils/notify.js">
const prisma = require("../prisma");

async function notify({ userId, type, data }) {
  try {
    await prisma.notification.create({
      data: {
        userId,
        type,
        data,
      },
    });
  } catch (e) {
    // eslint-disable-next-line no-console
    console.error("Notification error", e);
  }
}

module.exports = { notify };
</file>

<file path="backend/src/utils/terms.js">
// backend/src/utils/terms.js

const { normalizeHashtag } = require("./hashtags");

const STOPWORDS = new Set([
  "el",
  "la",
  "los",
  "las",
  "un",
  "una",
  "unos",
  "unas",
  "de",
  "del",
  "al",
  "a",
  "en",
  "con",
  "por",
  "para",
  "que",
  "y",
  "o",
  "u",
  "es",
  "soy",
  "estoy",
  "estas",
  "esta",
  "estamos",
  "me",
  "te",
  "se",
  "mi",
  "tu",
  "su",
  "nos",
  "sus",
]);

function isProbablyProperName(token) {
  if (!token || token.length < 2) return false;
  const first = token[0];
  if (first !== first.toUpperCase()) return false;
  if (first === first.toLowerCase()) return false;
  return true;
}

/**
 * Devuelve [{ raw, normalized, isProperName }, ...]
 */
function extractTermsFromText(text = "") {
  if (!text) return [];

  const rawTokens = text
    .split(/[\s,.;:!?()"'\]+/)
    .map((t) => t.trim())
    .filter(Boolean);

  const result = [];

  for (const token of rawTokens) {
    const lower = token.toLowerCase();
    if (STOPWORDS.has(lower)) continue;

    const normalized = normalizeHashtag(token);
    if (!normalized) continue;

    result.push({
      raw: token,
      normalized,
      isProperName: isProbablyProperName(token),
    });
  }

  return result;
}

module.exports = {
  extractTermsFromText,
};
</file>

<file path="backend/src/utils/termStatsUpdater.js">
// backend/src/utils/termStatsUpdater.js

const { extractTermsFromText } = require("./terms");

/**
 * Actualiza TermGlobal, TermTopicStats y UserTermStats a partir de un post.
 * post: debe tener { id, authorId, content, tags }
 */
async function updateTermStatsFromPost(prisma, post) {
  const { authorId, content, tags } = post;
  const terms = extractTermsFromText(content);
  if (!terms.length) return;

  const uniqueNorms = new Map();
  for (const t of terms) {
    if (!uniqueNorms.has(t.normalized)) {
      uniqueNorms.set(t.normalized, t);
    }
  }

  const now = new Date();
  const tagList = Array.isArray(tags) ? tags : [];

  // TermGlobal + TermTopicStats
  await Promise.all(
    Array.from(uniqueNorms.values()).map((t) => {
      return prisma.$transaction([
        prisma.termGlobal.upsert({
          where: { normalized: t.normalized },
          update: {
            totalCount: { increment: 1 },
            lastSeenAt: now,
          },
          create: {
            term: t.raw,
            normalized: t.normalized,
            totalCount: 1,
            firstSeenAt: now,
            lastSeenAt: now,
          },
        }),
        ...tagList.map((tag) =>
          prisma.termTopicStats.upsert({
            where: {
              termNormalized_tag: {
                termNormalized: t.normalized,
                tag,
              },
            },
            update: {
              count: { increment: 1 },
            },
            create: {
              termNormalized: t.normalized,
              tag,
              count: 1,
            },
          })
        ),
      ]);
    })
  );

  // UserTermStats
  await Promise.all(
    Array.from(uniqueNorms.values()).map(async (t) => {
      const existing = await prisma.userTermStats.findFirst({
        where: { userId: authorId, normalized: t.normalized },
      });
      if (existing) {
        await prisma.userTermStats.update({
          where: { id: existing.id },
          data: {
            count: { increment: 1 },
            lastSeenAt: now,
            isProperName: t.isProperName || existing.isProperName,
          },
        });
      } else {
        await prisma.userTermStats.create({
          data: {
            userId: authorId,
            term: t.raw,
            normalized: t.normalized,
            count: 1,
            lastSeenAt: now,
            isProperName: t.isProperName || false,
          },
        });
      }
    })
  );
}

module.exports = {
  updateTermStatsFromPost,
};
</file>

<file path="backend/src/utils/userRelations.js">
// backend/src/utils/userRelations.js

const BASE_WEIGHTS = {
  like: 0.01,
  comment: 0.03,
  message: 0.05,
  friend_accept: 0.2,
};

function clampScore(score) {
  if (score < 0) return 0;
  if (score > 1) return 1;
  return score;
}

function getOrderedPair(a, b) {
  return a < b ? [a, b] : [b, a];
}

/**
 * Registra una interaccin entre dos usuarios y actualiza el score (0 a 1).
 */
async function registerUserInteraction(prisma, userIdA, userIdB, eventType) {
  if (!userIdA || !userIdB) return;
  if (userIdA === userIdB) return;

  const weight = BASE_WEIGHTS[eventType] || 0;
  if (weight === 0) return;

  const [user1Id, user2Id] = getOrderedPair(userIdA, userIdB);

  const existing = await prisma.userRelation.findUnique({
    where: {
      user1Id_user2Id: { user1Id, user2Id },
    },
  });

  if (!existing) {
    await prisma.userRelation.create({
      data: {
        user1Id,
        user2Id,
        score: clampScore(weight),
        lastInteractionAt: new Date(),
      },
    });
    return;
  }

  const newScore = clampScore(existing.score + weight);

  await prisma.userRelation.update({
    where: {
      user1Id_user2Id: { user1Id, user2Id },
    },
    data: {
      score: newScore,
      lastInteractionAt: new Date(),
    },
  });
}

/**
 * Devuelve las relaciones ms cercanas (otros usuarios + score).
 */
async function getTopRelations(prisma, userId, limit = 20) {
  const relations = await prisma.userRelation.findMany({
    where: {
      OR: [{ user1Id: userId }, { user2Id: userId }],
    },
    orderBy: { score: "desc" },
    take: limit,
  });

  return relations.map((r) => ({
    otherUserId: r.user1Id === userId ? r.user2Id : r.user1Id,
    score: r.score,
    lastInteractionAt: r.lastInteractionAt,
  }));
}

/**
 * Devuelve el score de cercana entre dos usuarios (0 si no hay registro).
 */
async function getRelationScore(prisma, userIdA, userIdB) {
  if (userIdA === userIdB) return 1;

  const [user1Id, user2Id] = getOrderedPair(userIdA, userIdB);
  const rel = await prisma.userRelation.findUnique({
    where: {
      user1Id_user2Id: { user1Id, user2Id },
    },
  });

  return rel ? rel.score : 0;
}

module.exports = {
  registerUserInteraction,
  getTopRelations,
  getRelationScore,
};
</file>

<file path="background.jsx">
import React, { useEffect, useRef } from 'react';

const LoginBackground = () => {
  const canvasRef = useRef(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    const ctx = canvas.getContext('2d');
    
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const particles = [];
    const particleCount = 100;
    const connectionDistance = 150;
    const mouse = { x: null, y: null, radius: 120 };

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
        this.size = Math.random() * 2 + 1;
        this.opacity = Math.random() * 0.5 + 0.3;
      }

      update() {
        this.x += this.vx;
        this.y += this.vy;

        // Mouse interaction
        const dx = mouse.x - this.x;
        const dy = mouse.y - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance < mouse.radius) {
          const force = (mouse.radius - distance) / mouse.radius;
          const angle = Math.atan2(dy, dx);
          this.x -= Math.cos(angle) * force * 2;
          this.y -= Math.sin(angle) * force * 2;
        }

        // Bounce off edges
        if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
        if (this.y < 0 || this.y > canvas.height) this.vy *= -1;

        // Keep within bounds
        this.x = Math.max(0, Math.min(canvas.width, this.x));
        this.y = Math.max(0, Math.min(canvas.height, this.y));
      }

      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(139, 92, 246, ${this.opacity})`;
        ctx.fill();
      }
    }

    // Create particles
    for (let i = 0; i < particleCount; i++) {
      particles.push(new Particle());
    }

    // Connect particles
    function connectParticles() {
      for (let i = 0; i < particles.length; i++) {
        for (let j = i + 1; j < particles.length; j++) {
          const dx = particles[i].x - particles[j].x;
          const dy = particles[i].y - particles[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);

          if (distance < connectionDistance) {
            const opacity = (1 - distance / connectionDistance) * 0.3;
            ctx.beginPath();
            ctx.strokeStyle = `rgba(139, 92, 246, ${opacity})`;
            ctx.lineWidth = 1;
            ctx.moveTo(particles[i].x, particles[i].y);
            ctx.lineTo(particles[j].x, particles[j].y);
            ctx.stroke();
          }
        }
      }
    }

    // Animation loop
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      particles.forEach(particle => {
        particle.update();
        particle.draw();
      });
      
      connectParticles();
      requestAnimationFrame(animate);
    }

    animate();

    // Mouse move event
    const handleMouseMove = (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    };

    const handleMouseLeave = () => {
      mouse.x = null;
      mouse.y = null;
    };

    window.addEventListener('mousemove', handleMouseMove);
    window.addEventListener('mouseleave', handleMouseLeave);

    // Resize handler
    const handleResize = () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    };

    window.addEventListener('resize', handleResize);

    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
      window.removeEventListener('mouseleave', handleMouseLeave);
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  return (
    <div className="relative w-full h-screen overflow-hidden bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950">
      <style>{`
        @keyframes neonSpin {
          0% {
            box-shadow: 
              0 0 5px rgba(139, 92, 246, 0.5),
              0 0 10px rgba(139, 92, 246, 0.5),
              0 0 20px rgba(139, 92, 246, 0.3),
              inset 0 0 10px rgba(139, 92, 246, 0.2);
            filter: hue-rotate(0deg);
          }
          25% {
            box-shadow: 
              0 0 10px rgba(59, 130, 246, 0.6),
              0 0 20px rgba(59, 130, 246, 0.4),
              0 0 30px rgba(59, 130, 246, 0.3),
              inset 0 0 15px rgba(59, 130, 246, 0.2);
          }
          50% {
            box-shadow: 
              0 0 5px rgba(236, 72, 153, 0.5),
              0 0 10px rgba(236, 72, 153, 0.5),
              0 0 20px rgba(236, 72, 153, 0.3),
              inset 0 0 10px rgba(236, 72, 153, 0.2);
            filter: hue-rotate(180deg);
          }
          75% {
            box-shadow: 
              0 0 10px rgba(6, 182, 212, 0.6),
              0 0 20px rgba(6, 182, 212, 0.4),
              0 0 30px rgba(6, 182, 212, 0.3),
              inset 0 0 15px rgba(6, 182, 212, 0.2);
          }
          100% {
            box-shadow: 
              0 0 5px rgba(139, 92, 246, 0.5),
              0 0 10px rgba(139, 92, 246, 0.5),
              0 0 20px rgba(139, 92, 246, 0.3),
              inset 0 0 10px rgba(139, 92, 246, 0.2);
            filter: hue-rotate(360deg);
          }
        }
        
        .neon-logo {
          animation: neonSpin 4s ease-in-out infinite;
        }
      `}</style>
      {/* Canvas for particles */}
      <canvas 
        ref={canvasRef}
        className="absolute inset-0"
      />
      
      {/* Subtle gradient overlay */}
      <div className="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20 pointer-events-none" />
      
      {/* Content overlay - demo login card */}
      <div className="relative z-10 flex items-center justify-center h-full">
        <div className="bg-black/40 backdrop-blur-xl rounded-2xl p-8 shadow-2xl border border-purple-500/20 max-w-md w-full mx-4">
          <div className="text-center mb-8">
            <div className="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full mb-4 shadow-lg">
              <span className="text-white text-2xl font-bold">M</span>
            </div>
            <h1 className="text-3xl font-bold text-white mb-2">Macanudos</h1>
            <p className="text-gray-300 text-sm">Conect con tu comunidad</p>
          </div>
          
          <div className="space-y-4">
            <div>
              <input 
                type="text" 
                placeholder="Usuario o email"
                className="w-full px-4 py-3 bg-white/5 border border-purple-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm transition"
              />
            </div>
            <div>
              <input 
                type="password" 
                placeholder="Contrasea"
                className="w-full px-4 py-3 bg-white/5 border border-purple-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm transition"
              />
            </div>
            <button className="w-full py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all duration-300 shadow-lg hover:shadow-purple-500/50 transform hover:scale-[1.02]">
              Iniciar sesin
            </button>
            
            <div className="text-center">
              <a href="#" className="text-sm text-gray-300 hover:text-purple-400 transition">
                Olvidaste tu contrasea?
              </a>
            </div>
            
            <div className="relative my-6">
              <div className="absolute inset-0 flex items-center">
                <div className="w-full border-t border-purple-500/20"></div>
              </div>
              <div className="relative flex justify-center text-sm">
                <span className="px-4 bg-transparent text-gray-400">o</span>
              </div>
            </div>
            
            <button className="w-full py-3 bg-white/5 border border-purple-500/30 text-white font-semibold rounded-lg hover:bg-white/10 transition-all duration-300 backdrop-blur-sm">
              Crear cuenta nueva
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}

export default LoginBackground;
</file>

<file path="error.txt">
La app React (Vite) buildea bien y el backend en Render arranca sin errores, pero la aplicacin queda pantalla completamente en blanco tanto en mobile como en desktop.

Necesito que hagas un debug exhaustivo de frontend runtime, NO de Prisma ni backend.

Tens que revisar y verificar, en este orden:

Abrir la consola del navegador y buscar errores JavaScript en runtime (Uncaught TypeError, Module not found, Failed to fetch, etc).

Revisar todos los imports del frontend por posibles errores de maysculas/minsculas (case-sensitive en Linux/Render).

Verificar que App.jsx realmente renderiza algo (hacer un render mnimo de texto para confirmar que React monta).

Revisar componentes crticos como:

HighlightViewer

Reels

cualquier componente nuevo agregado recientemente

Buscar useEffect o lgica que:

acceda a propiedades de objetos undefined

haga fetch sin try/catch

dependa de datos del backend que puedan venir vacos

Verificar rutas (react-router) que puedan estar rompiendo el render inicial.

Verificar que el frontend est apuntando al endpoint correcto del backend en produccin, no a localhost.

Importante:

NO tocar Prisma

NO tocar migraciones

NO resetear base de datos

Objetivo final:
Encontrar exactamente qu archivo o lnea hace que React crashee y corregirlo para que la app deje de quedar en blanco.
</file>

<file path="firebase.json">
{
  "hosting": {
    "public": "frontend/dist",
    "ignore": [
      "firebase.json",
      "**/.*",
      "**/node_modules/**"
    ],
    "rewrites": [
      {
        "source": "**",
        "destination": "/index.html"
      }
    ]
  }
}
</file>

<file path="frontend/.env.example">
VITE_API_URL="/api"
VITE_FIREBASE_API_KEY="tu-firebase-api-key"
</file>

<file path="frontend/.gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="frontend/docs/assets/index-D7InCHiI.css">
*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.\!visible{visibility:visible!important}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.-bottom-px{bottom:-1px}.-left-10{left:-2.5rem}.-right-1{right:-.25rem}.-top-1{top:-.25rem}.-top-10{top:-2.5rem}.bottom-0{bottom:0}.left-0{left:0}.right-0{right:0}.right-10{right:2.5rem}.top-0{top:0}.top-10{top:2.5rem}.top-20{top:5rem}.z-0{z-index:0}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.-mt-10{margin-top:-2.5rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-10{height:2.5rem}.h-2{height:.5rem}.h-24{height:6rem}.h-32{height:8rem}.h-40{height:10rem}.h-48{height:12rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\[2px\]{height:2px}.h-full{height:100%}.max-h-64{max-height:16rem}.max-h-96{max-height:24rem}.max-h-\[80vh\]{max-height:80vh}.max-h-\[90vh\]{max-height:90vh}.min-h-\[400px\]{min-height:400px}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-24{width:6rem}.w-32{width:8rem}.w-40{width:10rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-72{width:18rem}.w-8{width:2rem}.w-9{width:2.25rem}.w-\[380px\]{width:380px}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-\[260px\]{min-width:260px}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-5xl{max-width:64rem}.max-w-6xl{max-width:72rem}.max-w-7xl{max-width:80rem}.max-w-\[80\%\]{max-width:80%}.max-w-\[90vw\]{max-width:90vw}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.rotate-12{--tw-rotate: 12deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-emerald-400\/40{border-color:#34d39966}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-indigo-100{--tw-border-opacity: 1;border-color:rgb(224 231 255 / var(--tw-border-opacity, 1))}.border-indigo-200{--tw-border-opacity: 1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.border-indigo-600{--tw-border-opacity: 1;border-color:rgb(79 70 229 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-slate-100{--tw-border-opacity: 1;border-color:rgb(241 245 249 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-200\/70{border-color:#e2e8f0b3}.border-slate-300{--tw-border-opacity: 1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-white\/10{border-color:#ffffff1a}.border-white\/15{border-color:#ffffff26}.border-white\/5{border-color:#ffffff0d}.bg-amber-100{--tw-bg-opacity: 1;background-color:rgb(254 243 199 / var(--tw-bg-opacity, 1))}.bg-black\/40{background-color:#0006}.bg-black\/50{background-color:#00000080}.bg-black\/60{background-color:#0009}.bg-black\/80{background-color:#000c}.bg-emerald-200\/50{background-color:#a7f3d080}.bg-emerald-400{--tw-bg-opacity: 1;background-color:rgb(52 211 153 / var(--tw-bg-opacity, 1))}.bg-emerald-400\/10{background-color:#34d3991a}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-300\/40{background-color:#86efac66}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-indigo-500{--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-slate-900{--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/10{background-color:#ffffff1a}.bg-white\/5{background-color:#ffffff0d}.bg-white\/70{background-color:#ffffffb3}.bg-white\/90{background-color:#ffffffe6}.bg-white\/95{background-color:#fffffff2}.bg-\[linear-gradient\(45deg\,\#111_25\%\,\#fff_25\%\,\#fff_50\%\,\#111_50\%\,\#111_75\%\,\#fff_75\%\,\#fff_100\%\)\]{background-image:linear-gradient(45deg,#111 25%,#fff 25% 50%,#111 50% 75%,#fff 75% 100%)}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-emerald-100{--tw-gradient-from: #d1fae5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(209 250 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-100{--tw-gradient-from: #e0e7ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(224 231 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-900{--tw-gradient-from: #312e81 var(--tw-gradient-from-position);--tw-gradient-to: rgb(49 46 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-900\/60{--tw-gradient-from: rgb(127 29 29 / .6) var(--tw-gradient-from-position);--tw-gradient-to: rgb(127 29 29 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-200{--tw-gradient-from: #e2e8f0 var(--tw-gradient-from-position);--tw-gradient-to: rgb(226 232 240 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-900{--tw-gradient-from: #0f172a var(--tw-gradient-from-position);--tw-gradient-to: rgb(15 23 42 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-cyan-900{--tw-gradient-to: rgb(22 78 99 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #164e63 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-emerald-200{--tw-gradient-to: rgb(167 243 208 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #a7f3d0 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-red-900{--tw-gradient-to: rgb(127 29 29 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #7f1d1d var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-slate-900{--tw-gradient-to: rgb(15 23 42 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #0f172a var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-green-100{--tw-gradient-to: #dcfce7 var(--tw-gradient-to-position)}.to-indigo-800{--tw-gradient-to: #3730a3 var(--tw-gradient-to-position)}.to-slate-200{--tw-gradient-to: #e2e8f0 var(--tw-gradient-to-position)}.to-slate-300{--tw-gradient-to: #cbd5e1 var(--tw-gradient-to-position)}.to-slate-800{--tw-gradient-to: #1e293b var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.bg-\[length\:20px_20px\]{background-size:20px 20px}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.pb-16{padding-bottom:4rem}.pb-2{padding-bottom:.5rem}.pr-2{padding-right:.5rem}.pt-2{padding-top:.5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\[11px\]{font-size:11px}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.text-amber-800{--tw-text-opacity: 1;color:rgb(146 64 14 / var(--tw-text-opacity, 1))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-cyan-300{--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.text-emerald-300{--tw-text-opacity: 1;color:rgb(110 231 183 / var(--tw-text-opacity, 1))}.text-emerald-700{--tw-text-opacity: 1;color:rgb(4 120 87 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-indigo-300{--tw-text-opacity: 1;color:rgb(165 180 252 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-indigo-700{--tw-text-opacity: 1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-slate-900{--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/40{color:#fff6}.text-white\/45{color:#ffffff73}.text-white\/60{color:#fff9}.text-white\/70{color:#ffffffb3}.text-white\/80{color:#fffc}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-black\/30{--tw-shadow-color: rgb(0 0 0 / .3);--tw-shadow: var(--tw-shadow-colored)}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-amber-300\/60{--tw-ring-color: rgb(252 211 77 / .6)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-2xl{--tw-blur: blur(40px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-3xl{--tw-blur: blur(64px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-md{--tw-backdrop-blur: blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}:root{font-family:Inter,system-ui,-apple-system,sans-serif;color:#0f172a;background-color:#eef2ff;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0;min-height:100vh;background:radial-gradient(circle at 10% 20%,#dbeafe 0,transparent 25%),radial-gradient(circle at 80% 0%,#c7d2fe 0,transparent 30%),linear-gradient(135deg,#f8fafc,#eef2ff)}.dark body{color:#e2e8f0;background:radial-gradient(circle at 10% 20%,#0f172a 0,transparent 25%),radial-gradient(circle at 80% 0%,#1e293b 0,transparent 30%),linear-gradient(135deg,#0f172a,#1e293b)}a{color:inherit;text-decoration:none}.splash-overlay{position:fixed;inset:0;z-index:2000;display:grid;place-items:center;background:radial-gradient(circle at 20% 30%,rgba(99,102,241,.25),transparent 35%),radial-gradient(circle at 70% 10%,rgba(14,165,233,.18),transparent 30%),#0f172a;animation:splashFadeIn .2s ease-out}.splash-card{width:320px;height:220px;background:linear-gradient(135deg,#0f172a,#111827 40%,#1f2937);position:relative;display:grid;place-content:center;border-radius:14px;overflow:hidden;box-shadow:0 20px 60px #00000073;animation:splashPop .9s ease-out forwards}.splash-content{position:relative;transition:all .5s ease-in-out}.splash-logo{height:42px;position:relative;width:38px;overflow:hidden;transition:all 1s ease-in-out;animation:splashLogoGrow 1s ease forwards}.splash-logo .logo-main{height:38px;position:absolute;left:0}.splash-logo svg{height:100%}.splash-logo .logo-main svg{fill:#b9a068}.logo-second-text{position:absolute;left:44px;top:2px;font-size:18px;letter-spacing:8px;color:#e5e7eb;font-weight:700;text-transform:uppercase;opacity:0;animation:splashText .9s ease-out .35s forwards}.logo-trail{position:absolute;right:0;height:100%;width:100%;opacity:0;animation:splashTrail 1.1s ease-out .1s forwards}.splash-bottom{display:none}@keyframes splashFadeIn{0%{opacity:0}to{opacity:1}}@keyframes splashPop{0%{transform:scale(.8);opacity:0}60%{transform:scale(1.04);opacity:1}to{transform:scale(1);opacity:1}}@keyframes splashTrail{0%{background:linear-gradient(90deg,#b9a06800 90%,#b9a068);opacity:0}30%{background:linear-gradient(90deg,#b9a06800 70%,#b9a068);opacity:1}70%{background:linear-gradient(90deg,#b9a06800 70%,#b9a068);opacity:1}95%{background:linear-gradient(90deg,#b9a06800 90%,#b9a068);opacity:0}}@keyframes splashLogoGrow{0%{width:38px}to{width:140px}}@keyframes splashText{0%{opacity:0;letter-spacing:2px}to{opacity:1;letter-spacing:8px}}.placeholder\:text-white\/40::-moz-placeholder{color:#fff6}.placeholder\:text-white\/40::placeholder{color:#fff6}.hover\:-translate-y-0\.5:hover{--tw-translate-y: -.125rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-emerald-300:hover{--tw-bg-opacity: 1;background-color:rgb(110 231 183 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-50:hover{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-500:hover{--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-100:hover{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-800:hover{--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/10:hover{background-color:#ffffff1a}.hover\:text-indigo-800:hover{--tw-text-opacity: 1;color:rgb(55 48 163 / var(--tw-text-opacity, 1))}.hover\:text-red-500:hover{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.hover\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\:underline:hover{text-decoration-line:underline}.hover\:opacity-90:hover{opacity:.9}.hover\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\:border-indigo-400:focus{--tw-border-opacity: 1;border-color:rgb(129 140 248 / var(--tw-border-opacity, 1))}.focus\:border-indigo-500:focus{--tw-border-opacity: 1;border-color:rgb(99 102 241 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-emerald-400\/60:focus{--tw-ring-color: rgb(52 211 153 / .6)}.disabled\:opacity-50:disabled{opacity:.5}.disabled\:opacity-60:disabled{opacity:.6}.dark\:border-amber-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(146 64 14 / var(--tw-border-opacity, 1))}.dark\:border-indigo-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(67 56 202 / var(--tw-border-opacity, 1))}.dark\:border-indigo-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 48 163 / var(--tw-border-opacity, 1))}.dark\:border-red-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity, 1))}.dark\:border-slate-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(51 65 85 / var(--tw-border-opacity, 1))}.dark\:border-slate-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(30 41 59 / var(--tw-border-opacity, 1))}.dark\:border-slate-800\/70:is(.dark *){border-color:#1e293bb3}.dark\:bg-amber-900\/40:is(.dark *){background-color:#78350f66}.dark\:bg-indigo-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.dark\:bg-indigo-900\/30:is(.dark *){background-color:#312e814d}.dark\:bg-indigo-900\/40:is(.dark *){background-color:#312e8166}.dark\:bg-red-900\/30:is(.dark *){background-color:#7f1d1d4d}.dark\:bg-red-900\/40:is(.dark *){background-color:#7f1d1d66}.dark\:bg-slate-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.dark\:bg-slate-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.dark\:bg-slate-800\/50:is(.dark *){background-color:#1e293b80}.dark\:bg-slate-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.dark\:bg-slate-900\/60:is(.dark *){background-color:#0f172a99}.dark\:bg-slate-950:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(2 6 23 / var(--tw-bg-opacity, 1))}.dark\:bg-slate-950\/80:is(.dark *){background-color:#020617cc}.dark\:from-slate-800:is(.dark *){--tw-gradient-from: #1e293b var(--tw-gradient-from-position);--tw-gradient-to: rgb(30 41 59 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\:to-slate-700:is(.dark *){--tw-gradient-to: #334155 var(--tw-gradient-to-position)}.dark\:text-amber-100:is(.dark *){--tw-text-opacity: 1;color:rgb(254 243 199 / var(--tw-text-opacity, 1))}.dark\:text-amber-200:is(.dark *){--tw-text-opacity: 1;color:rgb(253 230 138 / var(--tw-text-opacity, 1))}.dark\:text-indigo-200:is(.dark *){--tw-text-opacity: 1;color:rgb(199 210 254 / var(--tw-text-opacity, 1))}.dark\:text-indigo-300:is(.dark *){--tw-text-opacity: 1;color:rgb(165 180 252 / var(--tw-text-opacity, 1))}.dark\:text-red-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.dark\:text-slate-100:is(.dark *){--tw-text-opacity: 1;color:rgb(241 245 249 / var(--tw-text-opacity, 1))}.dark\:text-slate-200:is(.dark *){--tw-text-opacity: 1;color:rgb(226 232 240 / var(--tw-text-opacity, 1))}.dark\:text-slate-300:is(.dark *){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.dark\:text-slate-400:is(.dark *){--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.dark\:text-slate-50:is(.dark *){--tw-text-opacity: 1;color:rgb(248 250 252 / var(--tw-text-opacity, 1))}.dark\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\:hover\:bg-indigo-500:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-slate-800:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.dark\:hover\:text-indigo-200:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(199 210 254 / var(--tw-text-opacity, 1))}@media(min-width:640px){.sm\:inline{display:inline}.sm\:inline-flex{display:inline-flex}}@media(min-width:768px){.md\:col-span-2{grid-column:span 2 / span 2}.md\:block{display:block}.md\:flex{display:flex}.md\:hidden{display:none}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\:grid-cols-\[minmax\(0\,1\.6fr\)_minmax\(0\,1fr\)\]{grid-template-columns:minmax(0,1.6fr) minmax(0,1fr)}}
</file>

<file path="frontend/docs/assets/index-DQhyzxGP.js">
(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(o){if(o.ep)return;o.ep=!0;const d=i(o);fetch(o.href,d)}})();var $c={exports:{}},nl={};var ny;function u2(){if(ny)return nl;ny=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(r,o,d){var c=null;if(d!==void 0&&(c=""+d),o.key!==void 0&&(c=""+o.key),"key"in o){d={};for(var h in o)h!=="key"&&(d[h]=o[h])}else d=o;return o=d.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:d}}return nl.Fragment=a,nl.jsx=i,nl.jsxs=i,nl}var ay;function c2(){return ay||(ay=1,$c.exports=u2()),$c.exports}var m=c2(),Ic={exports:{}},he={};var sy;function d2(){if(sy)return he;sy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function j(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function M(A,P,I){this.props=A,this.context=P,this.refs=N,this.updater=I||E}M.prototype.isReactComponent={},M.prototype.setState=function(A,P){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,P,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=M.prototype;function O(A,P,I){this.props=A,this.context=P,this.refs=N,this.updater=I||E}var Q=O.prototype=new L;Q.constructor=O,C(Q,M.prototype),Q.isPureReactComponent=!0;var Z=Array.isArray;function J(){}var K={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function le(A,P,I){var ee=I.ref;return{$$typeof:t,type:A,key:P,ref:ee!==void 0?ee:null,props:I}}function oe(A,P){return le(A.type,P,A.props)}function be(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function te(A){var P={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(I){return P[I]})}var Ie=/\/+/g;function _e(A,P){return typeof A=="object"&&A!==null&&A.key!=null?te(""+A.key):P.toString(36)}function Fe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(J,J):(A.status="pending",A.then(function(P){A.status==="pending"&&(A.status="fulfilled",A.value=P)},function(P){A.status==="pending"&&(A.status="rejected",A.reason=P)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function _(A,P,I,ee,ue){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var X=!1;if(A===null)X=!0;else switch(ge){case"bigint":case"string":case"number":X=!0;break;case"object":switch(A.$$typeof){case t:case a:X=!0;break;case g:return X=A._init,_(X(A._payload),P,I,ee,ue)}}if(X)return ue=ue(A),X=ee===""?"."+_e(A,0):ee,Z(ue)?(I="",X!=null&&(I=X.replace(Ie,"$&/")+"/"),_(ue,P,I,"",function(vt){return vt})):ue!=null&&(be(ue)&&(ue=oe(ue,I+(ue.key==null||A&&A.key===ue.key?"":(""+ue.key).replace(Ie,"$&/")+"/")+X)),P.push(ue)),1;X=0;var ie=ee===""?".":ee+":";if(Z(A))for(var xe=0;xe<A.length;xe++)ee=A[xe],ge=ie+_e(ee,xe),X+=_(ee,P,I,ge,ue);else if(xe=j(A),typeof xe=="function")for(A=xe.call(A),xe=0;!(ee=A.next()).done;)ee=ee.value,ge=ie+_e(ee,xe++),X+=_(ee,P,I,ge,ue);else if(ge==="object"){if(typeof A.then=="function")return _(Fe(A),P,I,ee,ue);throw P=String(A),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return X}function Y(A,P,I){if(A==null)return A;var ee=[],ue=0;return _(A,ee,"","",function(ge){return P.call(I,ge,ue++)}),ee}function W(A){if(A._status===-1){var P=A._result;P=P(),P.then(function(I){(A._status===0||A._status===-1)&&(A._status=1,A._result=I)},function(I){(A._status===0||A._status===-1)&&(A._status=2,A._result=I)}),A._status===-1&&(A._status=0,A._result=P)}if(A._status===1)return A._result.default;throw A._result}var fe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},me={map:Y,forEach:function(A,P,I){Y(A,function(){P.apply(this,arguments)},I)},count:function(A){var P=0;return Y(A,function(){P++}),P},toArray:function(A){return Y(A,function(P){return P})||[]},only:function(A){if(!be(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return he.Activity=x,he.Children=me,he.Component=M,he.Fragment=i,he.Profiler=o,he.PureComponent=O,he.StrictMode=r,he.Suspense=p,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,he.__COMPILER_RUNTIME={__proto__:null,c:function(A){return K.H.useMemoCache(A)}},he.cache=function(A){return function(){return A.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(A,P,I){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=C({},A.props),ue=A.key;if(P!=null)for(ge in P.key!==void 0&&(ue=""+P.key),P)!$.call(P,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&P.ref===void 0||(ee[ge]=P[ge]);var ge=arguments.length-2;if(ge===1)ee.children=I;else if(1<ge){for(var X=Array(ge),ie=0;ie<ge;ie++)X[ie]=arguments[ie+2];ee.children=X}return le(A.type,ue,ee)},he.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},he.createElement=function(A,P,I){var ee,ue={},ge=null;if(P!=null)for(ee in P.key!==void 0&&(ge=""+P.key),P)$.call(P,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ue[ee]=P[ee]);var X=arguments.length-2;if(X===1)ue.children=I;else if(1<X){for(var ie=Array(X),xe=0;xe<X;xe++)ie[xe]=arguments[xe+2];ue.children=ie}if(A&&A.defaultProps)for(ee in X=A.defaultProps,X)ue[ee]===void 0&&(ue[ee]=X[ee]);return le(A,ge,ue)},he.createRef=function(){return{current:null}},he.forwardRef=function(A){return{$$typeof:h,render:A}},he.isValidElement=be,he.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:W}},he.memo=function(A,P){return{$$typeof:y,type:A,compare:P===void 0?null:P}},he.startTransition=function(A){var P=K.T,I={};K.T=I;try{var ee=A(),ue=K.S;ue!==null&&ue(I,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(J,fe)}catch(ge){fe(ge)}finally{P!==null&&I.types!==null&&(P.types=I.types),K.T=P}},he.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},he.use=function(A){return K.H.use(A)},he.useActionState=function(A,P,I){return K.H.useActionState(A,P,I)},he.useCallback=function(A,P){return K.H.useCallback(A,P)},he.useContext=function(A){return K.H.useContext(A)},he.useDebugValue=function(){},he.useDeferredValue=function(A,P){return K.H.useDeferredValue(A,P)},he.useEffect=function(A,P){return K.H.useEffect(A,P)},he.useEffectEvent=function(A){return K.H.useEffectEvent(A)},he.useId=function(){return K.H.useId()},he.useImperativeHandle=function(A,P,I){return K.H.useImperativeHandle(A,P,I)},he.useInsertionEffect=function(A,P){return K.H.useInsertionEffect(A,P)},he.useLayoutEffect=function(A,P){return K.H.useLayoutEffect(A,P)},he.useMemo=function(A,P){return K.H.useMemo(A,P)},he.useOptimistic=function(A,P){return K.H.useOptimistic(A,P)},he.useReducer=function(A,P,I){return K.H.useReducer(A,P,I)},he.useRef=function(A){return K.H.useRef(A)},he.useState=function(A){return K.H.useState(A)},he.useSyncExternalStore=function(A,P,I){return K.H.useSyncExternalStore(A,P,I)},he.useTransition=function(){return K.H.useTransition()},he.version="19.2.1",he}var iy;function af(){return iy||(iy=1,Ic.exports=d2()),Ic.exports}var T=af(),Wc={exports:{}},al={},ed={exports:{}},td={};var ly;function f2(){return ly||(ly=1,(function(t){function a(_,Y){var W=_.length;_.push(Y);e:for(;0<W;){var fe=W-1>>>1,me=_[fe];if(0<o(me,Y))_[fe]=Y,_[W]=me,W=fe;else break e}}function i(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var Y=_[0],W=_.pop();if(W!==Y){_[0]=W;e:for(var fe=0,me=_.length,A=me>>>1;fe<A;){var P=2*(fe+1)-1,I=_[P],ee=P+1,ue=_[ee];if(0>o(I,W))ee<me&&0>o(ue,I)?(_[fe]=ue,_[ee]=W,fe=ee):(_[fe]=I,_[P]=W,fe=P);else if(ee<me&&0>o(ue,W))_[fe]=ue,_[ee]=W,fe=ee;else break e}}return Y}function o(_,Y){var W=_.sortIndex-Y.sortIndex;return W!==0?W:_.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],y=[],g=1,x=null,S=3,j=!1,E=!1,C=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function Q(_){for(var Y=i(y);Y!==null;){if(Y.callback===null)r(y);else if(Y.startTime<=_)r(y),Y.sortIndex=Y.expirationTime,a(p,Y);else break;Y=i(y)}}function Z(_){if(C=!1,Q(_),!E)if(i(p)!==null)E=!0,J||(J=!0,te());else{var Y=i(y);Y!==null&&Fe(Z,Y.startTime-_)}}var J=!1,K=-1,$=5,le=-1;function oe(){return N?!0:!(t.unstable_now()-le<$)}function be(){if(N=!1,J){var _=t.unstable_now();le=_;var Y=!0;try{e:{E=!1,C&&(C=!1,L(K),K=-1),j=!0;var W=S;try{t:{for(Q(_),x=i(p);x!==null&&!(x.expirationTime>_&&oe());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,S=x.priorityLevel;var me=fe(x.expirationTime<=_);if(_=t.unstable_now(),typeof me=="function"){x.callback=me,Q(_),Y=!0;break t}x===i(p)&&r(p),Q(_)}else r(p);x=i(p)}if(x!==null)Y=!0;else{var A=i(y);A!==null&&Fe(Z,A.startTime-_),Y=!1}}break e}finally{x=null,S=W,j=!1}Y=void 0}}finally{Y?te():J=!1}}}var te;if(typeof O=="function")te=function(){O(be)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,_e=Ie.port2;Ie.port1.onmessage=be,te=function(){_e.postMessage(null)}}else te=function(){M(be,0)};function Fe(_,Y){K=M(function(){_(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(_){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var W=S;S=Y;try{return _()}finally{S=W}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(_,Y){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var W=S;S=_;try{return Y()}finally{S=W}},t.unstable_scheduleCallback=function(_,Y,W){var fe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,_){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=W+me,_={id:g++,callback:Y,priorityLevel:_,startTime:W,expirationTime:me,sortIndex:-1},W>fe?(_.sortIndex=W,a(y,_),i(p)===null&&_===i(y)&&(C?(L(K),K=-1):C=!0,Fe(Z,W-fe))):(_.sortIndex=me,a(p,_),E||j||(E=!0,J||(J=!0,te()))),_},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(_){var Y=S;return function(){var W=S;S=Y;try{return _.apply(this,arguments)}finally{S=W}}}})(td)),td}var ry;function h2(){return ry||(ry=1,ed.exports=f2()),ed.exports}var nd={exports:{}},pt={};var oy;function m2(){if(oy)return pt;oy=1;var t=af();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(p,y,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:y,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pt.createPortal=function(p,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(p,y,null,g)},pt.flushSync=function(p){var y=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=y,r.p=g,r.d.f()}},pt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},pt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var g=y.as,x=h(g,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:j}):g==="script"&&r.d.X(p,{crossOrigin:x,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=h(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},pt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,x=h(g,y.crossOrigin);r.d.L(p,g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pt.preloadModule=function(p,y){if(typeof p=="string")if(y){var g=h(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},pt.requestFormReset=function(p){r.d.r(p)},pt.unstable_batchedUpdates=function(p,y){return p(y)},pt.useFormState=function(p,y,g){return c.H.useFormState(p,y,g)},pt.useFormStatus=function(){return c.H.useHostTransitionStatus()},pt.version="19.2.1",pt}var uy;function p2(){if(uy)return nd.exports;uy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),nd.exports=m2(),nd.exports}var cy;function y2(){if(cy)return al;cy=1;var t=h2(),a=af(),i=p2();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return p(u),e;if(f===l)return p(u),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=f;else{for(var v=!1,b=u.child;b;){if(b===s){v=!0,s=u,l=f;break}if(b===l){v=!0,l=u,s=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===s){v=!0,s=f,l=u;break}if(b===l){v=!0,l=f,s=u;break}b=b.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case Z:return"Suspense";case J:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case O:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case $:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}var Fe=Array.isArray,_=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},fe=[],me=-1;function A(e){return{current:e}}function P(e){0>me||(e.current=fe[me],fe[me]=null,me--)}function I(e,n){me++,fe[me]=e.current,e.current=n}var ee=A(null),ue=A(null),ge=A(null),X=A(null);function ie(e,n){switch(I(ge,n),I(ue,e),I(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?C0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=C0(n),e=w0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(ee),I(ee,e)}function xe(){P(ee),P(ue),P(ge)}function vt(e){e.memoizedState!==null&&I(X,e);var n=ee.current,s=w0(n,e.type);n!==s&&(I(ue,e),I(ee,s))}function yn(e){ue.current===e&&(P(ee),P(ue)),X.current===e&&(P(X),Ii._currentValue=W)}var ui,ls;function Cn(e){if(ui===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ui=n&&n[1]||"",ls=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+e+ls}var q=!1;function Ee(e,n){if(!e||q)return"";q=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var z=B}Reflect.construct(e,[],G)}else{try{G.call()}catch(B){z=B}e.call(G.prototype)}}else{try{throw Error()}catch(B){z=B}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var w=v.split(`
`),k=b.split(`
`);for(u=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(l===w.length||u===k.length)for(l=w.length-1,u=k.length-1;1<=l&&0<=u&&w[l]!==k[u];)u--;for(;1<=l&&0<=u;l--,u--)if(w[l]!==k[u]){if(l!==1||u!==1)do if(l--,u--,0>u||w[l]!==k[u]){var H=`
`+w[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=u);break}}}finally{q=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Cn(s):""}function Jn(e,n){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Ee(e.type,!1);case 11:return Ee(e.type.render,!1);case 1:return Ee(e.type,!0);case 31:return Cn("Activity");default:return""}}function $n(e){try{var n="",s=null;do n+=Jn(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gn=Object.prototype.hasOwnProperty,_o=t.unstable_scheduleCallback,Vo=t.unstable_cancelCallback,Hb=t.unstable_shouldYield,Pb=t.unstable_requestPaint,kt=t.unstable_now,Fb=t.unstable_getCurrentPriorityLevel,ah=t.unstable_ImmediatePriority,sh=t.unstable_UserBlockingPriority,kl=t.unstable_NormalPriority,Qb=t.unstable_LowPriority,ih=t.unstable_IdlePriority,Gb=t.log,Kb=t.unstable_setDisableYieldValue,ci=null,zt=null;function In(e){if(typeof Gb=="function"&&Kb(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(ci,e)}catch{}}var Lt=Math.clz32?Math.clz32:Zb,Yb=Math.log,Xb=Math.LN2;function Zb(e){return e>>>=0,e===0?32:31-(Yb(e)/Xb|0)|0}var zl=256,Ll=262144,_l=4194304;function Ra(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vl(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?u=Ra(l):(v&=b,v!==0?u=Ra(v):s||(s=b&~e,s!==0&&(u=Ra(s))))):(b=l&~f,b!==0?u=Ra(b):v!==0?u=Ra(v):s||(s=l&~e,s!==0&&(u=Ra(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function di(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Jb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(){var e=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),e}function Bo(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $b(e,n,s,l,u,f){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(s=v&~s;0<s;){var H=31-Lt(s),G=1<<H;b[H]=0,w[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}s&=~G}l!==0&&rh(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function rh(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Lt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function oh(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Lt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}function uh(e,n){var s=n&-n;return s=(s&42)!==0?1:qo(s),(s&(e.suspendedLanes|n))!==0?0:s}function qo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ho(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ch(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Z0(e.type))}function dh(e,n){var s=Y.p;try{return Y.p=e,n()}finally{Y.p=s}}var Wn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Wn,Et="__reactProps$"+Wn,rs="__reactContainer$"+Wn,Po="__reactEvents$"+Wn,Ib="__reactListeners$"+Wn,Wb="__reactHandles$"+Wn,fh="__reactResources$"+Wn,hi="__reactMarker$"+Wn;function Fo(e){delete e[ut],delete e[Et],delete e[Po],delete e[Ib],delete e[Wb]}function os(e){var n=e[ut];if(n)return n;for(var s=e.parentNode;s;){if(n=s[rs]||s[ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=U0(e);e!==null;){if(s=e[ut])return s;e=U0(e)}return n}e=s,s=e.parentNode}return null}function us(e){if(e=e[ut]||e[rs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function cs(e){var n=e[fh];return n||(n=e[fh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(e){e[hi]=!0}var hh=new Set,mh={};function Oa(e,n){ds(e,n),ds(e+"Capture",n)}function ds(e,n){for(mh[e]=n,e=0;e<n.length;e++)hh.add(n[e])}var eS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ph={},yh={};function tS(e){return gn.call(yh,e)?!0:gn.call(ph,e)?!1:eS.test(e)?yh[e]=!0:(ph[e]=!0,!1)}function Bl(e,n,s){if(tS(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function ql(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function wn(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nS(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qo(e){if(!e._valueTracker){var n=gh(e)?"checked":"value";e._valueTracker=nS(e,n,""+e[n])}}function vh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=gh(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var aS=/[\n"\\]/g;function Yt(e){return e.replace(aS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Go(e,n,s,l,u,f,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ko(e,v,Kt(n)):s!=null?Ko(e,v,Kt(s)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Kt(b):e.removeAttribute("name")}function xh(e,n,s,l,u,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qo(e);return}s=s!=null?""+Kt(s):"",n=n!=null?""+Kt(n):s,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Qo(e)}function Ko(e,n,s){n==="number"&&Hl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function fs(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Kt(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function bh(e,n,s){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Kt(s):""}function Sh(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Kt(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qo(e)}function hs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var sS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Th(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||sS.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Eh(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&Th(e,u,l)}else for(var f in n)n.hasOwnProperty(f)&&Th(e,f,n[f])}function Yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(e){return lS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var Xo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,ps=null;function jh(e){var n=us(e);if(n&&(e=n.stateNode)){var s=e[Et]||null;e:switch(e=n.stateNode,n.type){case"input":if(Go(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=l[Et]||null;if(!u)throw Error(r(90));Go(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&vh(l)}break e;case"textarea":bh(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&fs(e,!!s.multiple,n,!1)}}}var Jo=!1;function Ch(e,n,s){if(Jo)return e(n,s);Jo=!0;try{var l=e(n);return l}finally{if(Jo=!1,(ms!==null||ps!==null)&&(Rr(),ms&&(n=ms,e=ps,ps=ms=null,jh(n),e)))for(n=0;n<e.length;n++)jh(e[n])}}function pi(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=!1;if(Nn)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){$o=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{$o=!1}var ea=null,Io=null,Fl=null;function wh(){if(Fl)return Fl;var e,n=Io,s=n.length,l,u="value"in ea?ea.value:ea.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===u[f-l];l++);return Fl=u.slice(e,1<l?1-l:void 0)}function Ql(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function Ah(){return!1}function jt(e){function n(s,l,u,f,v){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gl:Ah,this.isPropagationStopped=Ah,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),n}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=jt(Da),gi=x({},Da,{view:0,detail:0}),rS=jt(gi),Wo,eu,vi,Yl=x({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Wo=e.screenX-vi.screenX,eu=e.screenY-vi.screenY):eu=Wo=0,vi=e),Wo)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),Nh=jt(Yl),oS=x({},Yl,{dataTransfer:0}),uS=jt(oS),cS=x({},gi,{relatedTarget:0}),tu=jt(cS),dS=x({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=jt(dS),hS=x({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=jt(hS),pS=x({},Da,{data:0}),Rh=jt(pS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vS[e])?!!n[e]:!1}function nu(){return xS}var bS=x({},gi,{key:function(e){if(e.key){var n=yS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=jt(bS),TS=x({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=jt(TS),ES=x({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),jS=jt(ES),CS=x({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=jt(CS),AS=x({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NS=jt(AS),RS=x({},Da,{newState:0,oldState:0}),OS=jt(RS),DS=[9,13,27,32],au=Nn&&"CompositionEvent"in window,xi=null;Nn&&"documentMode"in document&&(xi=document.documentMode);var MS=Nn&&"TextEvent"in window&&!xi,Dh=Nn&&(!au||xi&&8<xi&&11>=xi),Mh=" ",Uh=!1;function kh(e,n){switch(e){case"keyup":return DS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function US(e,n){switch(e){case"compositionend":return zh(n);case"keypress":return n.which!==32?null:(Uh=!0,Mh);case"textInput":return e=n.data,e===Mh&&Uh?null:e;default:return null}}function kS(e,n){if(ys)return e==="compositionend"||!au&&kh(e,n)?(e=wh(),Fl=Io=ea=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Dh&&n.locale!=="ko"?null:n.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zS[e.type]:n==="textarea"}function _h(e,n,s,l){ms?ps?ps.push(l):ps=[l]:ms=l,n=Lr(n,"onChange"),0<n.length&&(s=new Kl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var bi=null,Si=null;function LS(e){x0(e,0)}function Xl(e){var n=mi(e);if(vh(n))return e}function Vh(e,n){if(e==="change")return n}var Bh=!1;if(Nn){var su;if(Nn){var iu="oninput"in document;if(!iu){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),iu=typeof qh.oninput=="function"}su=iu}else su=!1;Bh=su&&(!document.documentMode||9<document.documentMode)}function Hh(){bi&&(bi.detachEvent("onpropertychange",Ph),Si=bi=null)}function Ph(e){if(e.propertyName==="value"&&Xl(Si)){var n=[];_h(n,Si,e,Zo(e)),Ch(LS,n)}}function _S(e,n,s){e==="focusin"?(Hh(),bi=n,Si=s,bi.attachEvent("onpropertychange",Ph)):e==="focusout"&&Hh()}function VS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(Si)}function BS(e,n){if(e==="click")return Xl(n)}function qS(e,n){if(e==="input"||e==="change")return Xl(n)}function HS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:HS;function Ti(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!gn.call(n,u)||!_t(e[u],n[u]))return!1}return!0}function Fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qh(e,n){var s=Fh(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Fh(s)}}function Gh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Hl(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Hl(e.document)}return n}function lu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PS=Nn&&"documentMode"in document&&11>=document.documentMode,gs=null,ru=null,Ei=null,ou=!1;function Yh(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ou||gs==null||gs!==Hl(l)||(l=gs,"selectionStart"in l&&lu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ei&&Ti(Ei,l)||(Ei=l,l=Lr(ru,"onSelect"),0<l.length&&(n=new Kl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=gs)))}function Ma(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var vs={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},uu={},Xh={};Nn&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ua(e){if(uu[e])return uu[e];if(!vs[e])return e;var n=vs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xh)return uu[e]=n[s];return e}var Zh=Ua("animationend"),Jh=Ua("animationiteration"),$h=Ua("animationstart"),FS=Ua("transitionrun"),QS=Ua("transitionstart"),GS=Ua("transitioncancel"),Ih=Ua("transitionend"),Wh=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function un(e,n){Wh.set(e,n),Oa(n,[e])}var Zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],xs=0,du=0;function Jl(){for(var e=xs,n=du=xs=0;n<e;){var s=Xt[n];Xt[n++]=null;var l=Xt[n];Xt[n++]=null;var u=Xt[n];Xt[n++]=null;var f=Xt[n];if(Xt[n++]=null,l!==null&&u!==null){var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}f!==0&&em(s,u,f)}}function $l(e,n,s,l){Xt[xs++]=e,Xt[xs++]=n,Xt[xs++]=s,Xt[xs++]=l,du|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fu(e,n,s,l){return $l(e,n,s,l),Il(e)}function ka(e,n){return $l(e,null,null,n),Il(e)}function em(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-Lt(s),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=s|536870912),f):null}function Il(e){if(50<Gi)throw Gi=0,Sc=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bs={};function KS(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,n,s,l){return new KS(e,n,s,l)}function hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,n){var s=e.alternate;return s===null?(s=Vt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function tm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Wl(e,n,s,l,u,f){var v=0;if(l=e,typeof e=="function")hu(e)&&(v=1);else if(typeof e=="string")v=$1(e,s,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=Vt(31,s,n,u),e.elementType=le,e.lanes=f,e;case C:return za(s.children,u,f,n);case N:v=8,u|=24;break;case M:return e=Vt(12,s,n,u|2),e.elementType=M,e.lanes=f,e;case Z:return e=Vt(13,s,n,u),e.elementType=Z,e.lanes=f,e;case J:return e=Vt(19,s,n,u),e.elementType=J,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:v=10;break e;case L:v=9;break e;case Q:v=11;break e;case K:v=14;break e;case $:v=16,l=null;break e}v=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Vt(v,s,n,u),n.elementType=e,n.type=l,n.lanes=f,n}function za(e,n,s,l){return e=Vt(7,e,l,n),e.lanes=s,e}function mu(e,n,s){return e=Vt(6,e,null,n),e.lanes=s,e}function nm(e){var n=Vt(18,null,null,0);return n.stateNode=e,n}function pu(e,n,s){return n=Vt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var am=new WeakMap;function Zt(e,n){if(typeof e=="object"&&e!==null){var s=am.get(e);return s!==void 0?s:(n={value:e,source:n,stack:$n(n)},am.set(e,n),n)}return{value:e,source:n,stack:$n(n)}}var Ss=[],Ts=0,er=null,ji=0,Jt=[],$t=0,ta=null,vn=1,xn="";function On(e,n){Ss[Ts++]=ji,Ss[Ts++]=er,er=e,ji=n}function sm(e,n,s){Jt[$t++]=vn,Jt[$t++]=xn,Jt[$t++]=ta,ta=e;var l=vn;e=xn;var u=32-Lt(l)-1;l&=~(1<<u),s+=1;var f=32-Lt(n)+u;if(30<f){var v=u-u%5;f=(l&(1<<v)-1).toString(32),l>>=v,u-=v,vn=1<<32-Lt(n)+u|s<<u|l,xn=f+e}else vn=1<<f|s<<u|l,xn=e}function yu(e){e.return!==null&&(On(e,1),sm(e,1,0))}function gu(e){for(;e===er;)er=Ss[--Ts],Ss[Ts]=null,ji=Ss[--Ts],Ss[Ts]=null;for(;e===ta;)ta=Jt[--$t],Jt[$t]=null,xn=Jt[--$t],Jt[$t]=null,vn=Jt[--$t],Jt[$t]=null}function im(e,n){Jt[$t++]=vn,Jt[$t++]=xn,Jt[$t++]=ta,vn=n.id,xn=n.overflow,ta=e}var ct=null,Ve=null,we=!1,na=null,It=!1,vu=Error(r(519));function aa(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Zt(n,e)),vu}function lm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ut]=e,n[Et]=l,s){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<Yi.length;s++)Te(Yi[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),xh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),Sh(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||E0(n.textContent,s)?(l.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),l.onScroll!=null&&Te("scroll",n),l.onScrollEnd!=null&&Te("scrollend",n),l.onClick!=null&&(n.onclick=An),n=!0):n=!1,n||aa(e,!0)}function rm(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:ct=ct.return}}function Es(e){if(e!==ct)return!1;if(!we)return rm(e),we=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Lc(e.type,e.memoizedProps)),s=!s),s&&Ve&&aa(e),rm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=M0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=M0(e)}else n===27?(n=Ve,ga(e.type)?(e=Hc,Hc=null,Ve=e):Ve=n):Ve=ct?en(e.stateNode.nextSibling):null;return!0}function La(){Ve=ct=null,we=!1}function xu(){var e=na;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),na=null),e}function Ci(e){na===null?na=[e]:na.push(e)}var bu=A(null),_a=null,Dn=null;function sa(e,n,s){I(bu,n._currentValue),n._currentValue=s}function Mn(e){e._currentValue=bu.current,P(bu)}function Su(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Tu(e,n,s,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=u;for(var w=0;w<n.length;w++)if(b.context===n[w]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),Su(f.return,s,e),l||(v=null);break e}f=b.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(r(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Su(v,s,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function js(e,n,s,l){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var b=u.type;_t(u.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(u===X.current){if(v=u.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ii):e=[Ii])}u=u.return}e!==null&&Tu(n,e,s,l),n.flags|=262144}function tr(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Va(e){_a=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return om(_a,e)}function nr(e,n){return _a===null&&Va(e),om(e,n)}function om(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Dn===null){if(e===null)throw Error(r(308));Dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Dn=Dn.next=n;return s}var YS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},XS=t.unstable_scheduleCallback,ZS=t.unstable_NormalPriority,We={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new YS,data:new Map,refCount:0}}function wi(e){e.refCount--,e.refCount===0&&XS(ZS,function(){e.controller.abort()})}var Ai=null,ju=0,Cs=0,ws=null;function JS(e,n){if(Ai===null){var s=Ai=[];ju=0,Cs=Ac(),ws={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ju++,n.then(um,um),n}function um(){if(--ju===0&&Ai!==null){ws!==null&&(ws.status="fulfilled");var e=Ai;Ai=null,Cs=0,ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $S(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var cm=_.S;_.S=function(e,n){Yp=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&JS(e,n),cm!==null&&cm(e,n)};var Ba=A(null);function Cu(){var e=Ba.current;return e!==null?e:Le.pooledCache}function ar(e,n){n===null?I(Ba,Ba.current):I(Ba,n.pool)}function dm(){var e=Cu();return e===null?null:{parent:We._currentValue,pool:e}}var As=Error(r(460)),wu=Error(r(474)),sr=Error(r(542)),ir={then:function(){}};function fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(An,An),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pm(e),e;default:if(typeof n.status=="string")n.then(An,An);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pm(e),e}throw Ha=n,As}}function qa(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ha=s,As):s}}var Ha=null;function mm(){if(Ha===null)throw Error(r(459));var e=Ha;return Ha=null,e}function pm(e){if(e===As||e===sr)throw Error(r(483))}var Ns=null,Ni=0;function lr(e){var n=Ni;return Ni+=1,Ns===null&&(Ns=[]),hm(Ns,e,n)}function Ri(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function rr(e,n){throw n.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ym(e){function n(D,R){if(e){var U=D.deletions;U===null?(D.deletions=[R],D.flags|=16):U.push(R)}}function s(D,R){if(!e)return null;for(;R!==null;)n(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function u(D,R){return D=Rn(D,R),D.index=0,D.sibling=null,D}function f(D,R,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<R?(D.flags|=67108866,R):U):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function v(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,R,U,F){return R===null||R.tag!==6?(R=mu(U,D.mode,F),R.return=D,R):(R=u(R,U),R.return=D,R)}function w(D,R,U,F){var re=U.type;return re===C?H(D,R,U.props.children,F,U.key):R!==null&&(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===$&&qa(re)===R.type)?(R=u(R,U.props),Ri(R,U),R.return=D,R):(R=Wl(U.type,U.key,U.props,null,D.mode,F),Ri(R,U),R.return=D,R)}function k(D,R,U,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=pu(U,D.mode,F),R.return=D,R):(R=u(R,U.children||[]),R.return=D,R)}function H(D,R,U,F,re){return R===null||R.tag!==7?(R=za(U,D.mode,F,re),R.return=D,R):(R=u(R,U),R.return=D,R)}function G(D,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=mu(""+R,D.mode,U),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case j:return U=Wl(R.type,R.key,R.props,null,D.mode,U),Ri(U,R),U.return=D,U;case E:return R=pu(R,D.mode,U),R.return=D,R;case $:return R=qa(R),G(D,R,U)}if(Fe(R)||te(R))return R=za(R,D.mode,U,null),R.return=D,R;if(typeof R.then=="function")return G(D,lr(R),U);if(R.$$typeof===O)return G(D,nr(D,R),U);rr(D,R)}return null}function z(D,R,U,F){var re=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:b(D,R,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return U.key===re?w(D,R,U,F):null;case E:return U.key===re?k(D,R,U,F):null;case $:return U=qa(U),z(D,R,U,F)}if(Fe(U)||te(U))return re!==null?null:H(D,R,U,F,null);if(typeof U.then=="function")return z(D,R,lr(U),F);if(U.$$typeof===O)return z(D,R,nr(D,U),F);rr(D,U)}return null}function B(D,R,U,F,re){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return D=D.get(U)||null,b(R,D,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return D=D.get(F.key===null?U:F.key)||null,w(R,D,F,re);case E:return D=D.get(F.key===null?U:F.key)||null,k(R,D,F,re);case $:return F=qa(F),B(D,R,U,F,re)}if(Fe(F)||te(F))return D=D.get(U)||null,H(R,D,F,re,null);if(typeof F.then=="function")return B(D,R,U,lr(F),re);if(F.$$typeof===O)return B(D,R,U,nr(R,F),re);rr(R,F)}return null}function ne(D,R,U,F){for(var re=null,Ne=null,ae=R,ve=R=0,Ce=null;ae!==null&&ve<U.length;ve++){ae.index>ve?(Ce=ae,ae=null):Ce=ae.sibling;var Re=z(D,ae,U[ve],F);if(Re===null){ae===null&&(ae=Ce);break}e&&ae&&Re.alternate===null&&n(D,ae),R=f(Re,R,ve),Ne===null?re=Re:Ne.sibling=Re,Ne=Re,ae=Ce}if(ve===U.length)return s(D,ae),we&&On(D,ve),re;if(ae===null){for(;ve<U.length;ve++)ae=G(D,U[ve],F),ae!==null&&(R=f(ae,R,ve),Ne===null?re=ae:Ne.sibling=ae,Ne=ae);return we&&On(D,ve),re}for(ae=l(ae);ve<U.length;ve++)Ce=B(ae,D,ve,U[ve],F),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?ve:Ce.key),R=f(Ce,R,ve),Ne===null?re=Ce:Ne.sibling=Ce,Ne=Ce);return e&&ae.forEach(function(Ta){return n(D,Ta)}),we&&On(D,ve),re}function ce(D,R,U,F){if(U==null)throw Error(r(151));for(var re=null,Ne=null,ae=R,ve=R=0,Ce=null,Re=U.next();ae!==null&&!Re.done;ve++,Re=U.next()){ae.index>ve?(Ce=ae,ae=null):Ce=ae.sibling;var Ta=z(D,ae,Re.value,F);if(Ta===null){ae===null&&(ae=Ce);break}e&&ae&&Ta.alternate===null&&n(D,ae),R=f(Ta,R,ve),Ne===null?re=Ta:Ne.sibling=Ta,Ne=Ta,ae=Ce}if(Re.done)return s(D,ae),we&&On(D,ve),re;if(ae===null){for(;!Re.done;ve++,Re=U.next())Re=G(D,Re.value,F),Re!==null&&(R=f(Re,R,ve),Ne===null?re=Re:Ne.sibling=Re,Ne=Re);return we&&On(D,ve),re}for(ae=l(ae);!Re.done;ve++,Re=U.next())Re=B(ae,D,ve,Re.value,F),Re!==null&&(e&&Re.alternate!==null&&ae.delete(Re.key===null?ve:Re.key),R=f(Re,R,ve),Ne===null?re=Re:Ne.sibling=Re,Ne=Re);return e&&ae.forEach(function(o2){return n(D,o2)}),we&&On(D,ve),re}function ze(D,R,U,F){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case j:e:{for(var re=U.key;R!==null;){if(R.key===re){if(re=U.type,re===C){if(R.tag===7){s(D,R.sibling),F=u(R,U.props.children),F.return=D,D=F;break e}}else if(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===$&&qa(re)===R.type){s(D,R.sibling),F=u(R,U.props),Ri(F,U),F.return=D,D=F;break e}s(D,R);break}else n(D,R);R=R.sibling}U.type===C?(F=za(U.props.children,D.mode,F,U.key),F.return=D,D=F):(F=Wl(U.type,U.key,U.props,null,D.mode,F),Ri(F,U),F.return=D,D=F)}return v(D);case E:e:{for(re=U.key;R!==null;){if(R.key===re)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){s(D,R.sibling),F=u(R,U.children||[]),F.return=D,D=F;break e}else{s(D,R);break}else n(D,R);R=R.sibling}F=pu(U,D.mode,F),F.return=D,D=F}return v(D);case $:return U=qa(U),ze(D,R,U,F)}if(Fe(U))return ne(D,R,U,F);if(te(U)){if(re=te(U),typeof re!="function")throw Error(r(150));return U=re.call(U),ce(D,R,U,F)}if(typeof U.then=="function")return ze(D,R,lr(U),F);if(U.$$typeof===O)return ze(D,R,nr(D,U),F);rr(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(s(D,R.sibling),F=u(R,U),F.return=D,D=F):(s(D,R),F=mu(U,D.mode,F),F.return=D,D=F),v(D)):s(D,R)}return function(D,R,U,F){try{Ni=0;var re=ze(D,R,U,F);return Ns=null,re}catch(ae){if(ae===As||ae===sr)throw ae;var Ne=Vt(29,ae,null,D.mode);return Ne.lanes=F,Ne.return=D,Ne}finally{}}}var Pa=ym(!0),gm=ym(!1),ia=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Il(e),em(e,null,s),n}return $l(e,l,n,s),Il(e)}function Oi(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,oh(e,s)}}function Ru(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ou=!1;function Di(){if(Ou){var e=ws;if(e!==null)throw e}}function Mi(e,n,s,l){Ou=!1;var u=e.updateQueue;ia=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var w=b,k=w.next;w.next=null,v===null?f=k:v.next=k,v=w;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==v&&(b===null?H.firstBaseUpdate=k:b.next=k,H.lastBaseUpdate=w))}if(f!==null){var G=u.baseState;v=0,H=k=w=null,b=f;do{var z=b.lane&-536870913,B=z!==b.lane;if(B?(je&z)===z:(l&z)===z){z!==0&&z===Cs&&(Ou=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ne=e,ce=b;z=n;var ze=s;switch(ce.tag){case 1:if(ne=ce.payload,typeof ne=="function"){G=ne.call(ze,G,z);break e}G=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ce.payload,z=typeof ne=="function"?ne.call(ze,G,z):ne,z==null)break e;G=x({},G,z);break e;case 2:ia=!0}}z=b.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=u.callbacks,B===null?u.callbacks=[z]:B.push(z))}else B={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(k=H=B,w=G):H=H.next=B,v|=z;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;B=b,b=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);H===null&&(w=G),u.baseState=w,u.firstBaseUpdate=k,u.lastBaseUpdate=H,f===null&&(u.shared.lanes=0),fa|=v,e.lanes=v,e.memoizedState=G}}function vm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)vm(s[e],n)}var Rs=A(null),or=A(0);function bm(e,n){e=Hn,I(or,e),I(Rs,n),Hn=e|n.baseLanes}function Du(){I(or,Hn),I(Rs,Rs.current)}function Mu(){Hn=or.current,P(Rs),P(or)}var Bt=A(null),Wt=null;function oa(e){var n=e.alternate;I(Xe,Xe.current&1),I(Bt,e),Wt===null&&(n===null||Rs.current!==null||n.memoizedState!==null)&&(Wt=e)}function Uu(e){I(Xe,Xe.current),I(Bt,e),Wt===null&&(Wt=e)}function Sm(e){e.tag===22?(I(Xe,Xe.current),I(Bt,e),Wt===null&&(Wt=e)):ua()}function ua(){I(Xe,Xe.current),I(Bt,Bt.current)}function qt(e){P(Bt),Wt===e&&(Wt=null),P(Xe)}var Xe=A(0);function ur(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Bc(s)||qc(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Un=0,pe=null,Ue=null,et=null,cr=!1,Os=!1,Fa=!1,dr=0,Ui=0,Ds=null,IS=0;function Ge(){throw Error(r(321))}function ku(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!_t(e[s],n[s]))return!1;return!0}function zu(e,n,s,l,u,f){return Un=f,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,_.H=e===null||e.memoizedState===null?sp:Ju,Fa=!1,f=s(l,u),Fa=!1,Os&&(f=Em(n,s,l,u)),Tm(e),f}function Tm(e){_.H=Li;var n=Ue!==null&&Ue.next!==null;if(Un=0,et=Ue=pe=null,cr=!1,Ui=0,Ds=null,n)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&tr(e)&&(tt=!0))}function Em(e,n,s,l){pe=e;var u=0;do{if(Os&&(Ds=null),Ui=0,Os=!1,25<=u)throw Error(r(301));if(u+=1,et=Ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}_.H=ip,f=n(s,l)}while(Os);return f}function WS(){var e=_.H,n=e.useState()[0];return n=typeof n.then=="function"?ki(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(pe.flags|=1024),n}function Lu(){var e=dr!==0;return dr=0,e}function _u(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Vu(e){if(cr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}cr=!1}Un=0,et=Ue=pe=null,Os=!1,Ui=dr=0,Ds=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?pe.memoizedState=et=e:et=et.next=e,et}function Ze(){if(Ue===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=et===null?pe.memoizedState:et.next;if(n!==null)et=n,Ue=e;else{if(e===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},et===null?pe.memoizedState=et=e:et=et.next=e}return et}function fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ki(e){var n=Ui;return Ui+=1,Ds===null&&(Ds=[]),e=hm(Ds,e,n),n=pe,(et===null?n.memoizedState:et.next)===null&&(n=n.alternate,_.H=n===null||n.memoizedState===null?sp:Ju),e}function hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ki(e);if(e.$$typeof===O)return dt(e)}throw Error(r(438,String(e)))}function Bu(e){var n=null,s=pe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=fr(),pe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=oe;return n.index++,s}function kn(e,n){return typeof n=="function"?n(e):n}function mr(e){var n=Ze();return qu(n,Ue,e)}function qu(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}n.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var b=v=null,w=null,k=n,H=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(je&G)===G:(Un&G)===G){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===Cs&&(H=!0);else if((Un&z)===z){k=k.next,z===Cs&&(H=!0);continue}else G={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(b=w=G,v=f):w=w.next=G,pe.lanes|=z,fa|=z;G=k.action,Fa&&s(f,G),f=k.hasEagerState?k.eagerState:s(f,G)}else z={lane:G,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(b=w=z,v=f):w=w.next=z,pe.lanes|=G,fa|=G;k=k.next}while(k!==null&&k!==n);if(w===null?v=f:w.next=b,!_t(f,e.memoizedState)&&(tt=!0,H&&(s=ws,s!==null)))throw s;e.memoizedState=f,e.baseState=v,e.baseQueue=w,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Hu(e){var n=Ze(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var v=u=u.next;do f=e(f,v.action),v=v.next;while(v!==u);_t(f,n.memoizedState)||(tt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function jm(e,n,s){var l=pe,u=Ze(),f=we;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var v=!_t((Ue||u).memoizedState,s);if(v&&(u.memoizedState=s,tt=!0),u=u.queue,Qu(Am.bind(null,l,u,e),[e]),u.getSnapshot!==n||v||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,Ms(9,{destroy:void 0},wm.bind(null,l,u,s,n),null),Le===null)throw Error(r(349));f||(Un&127)!==0||Cm(l,n,s)}return s}function Cm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=pe.updateQueue,n===null?(n=fr(),pe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function wm(e,n,s,l){n.value=s,n.getSnapshot=l,Nm(n)&&Rm(e)}function Am(e,n,s){return s(function(){Nm(n)&&Rm(e)})}function Nm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!_t(e,s)}catch{return!0}}function Rm(e){var n=ka(e,2);n!==null&&Rt(n,e,2)}function Pu(e){var n=xt();if(typeof e=="function"){var s=e;if(e=s(),Fa){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},n}function Om(e,n,s,l){return e.baseState=s,qu(e,Ue,typeof l=="function"?l:kn)}function e1(e,n,s,l,u){if(gr(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};_.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Dm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Dm(e,n){var s=n.action,l=n.payload,u=e.state;if(n.isTransition){var f=_.T,v={};_.T=v;try{var b=s(u,l),w=_.S;w!==null&&w(v,b),Mm(e,n,b)}catch(k){Fu(e,n,k)}finally{f!==null&&v.types!==null&&(f.types=v.types),_.T=f}}else try{f=s(u,l),Mm(e,n,f)}catch(k){Fu(e,n,k)}}function Mm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Um(e,n,l)},function(l){return Fu(e,n,l)}):Um(e,n,s)}function Um(e,n,s){n.status="fulfilled",n.value=s,km(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Dm(e,s)))}function Fu(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,km(n),n=n.next;while(n!==l)}e.action=null}function km(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zm(e,n){return n}function Lm(e,n){if(we){var s=Le.formState;if(s!==null){e:{var l=pe;if(we){if(Ve){t:{for(var u=Ve,f=It;u.nodeType!==8;){if(!f){u=null;break t}if(u=en(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ve=en(u.nextSibling),l=u.data==="F!";break e}}aa(l)}l=!1}l&&(n=s[0])}}return s=xt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:n},s.queue=l,s=tp.bind(null,pe,l),l.dispatch=s,l=Pu(!1),f=Zu.bind(null,pe,!1,l.queue),l=xt(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,s=e1.bind(null,pe,u,f,s),u.dispatch=s,l.memoizedState=e,[n,s,!1]}function _m(e){var n=Ze();return Vm(n,Ue,e)}function Vm(e,n,s){if(n=qu(e,n,zm)[0],e=mr(kn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ki(n)}catch(v){throw v===As?sr:v}else l=n;n=Ze();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(pe.flags|=2048,Ms(9,{destroy:void 0},t1.bind(null,u,s),null)),[l,f,e]}function t1(e,n){e.action=n}function Bm(e){var n=Ze(),s=Ue;if(s!==null)return Vm(n,s,e);Ze(),n=n.memoizedState,s=Ze();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ms(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=pe.updateQueue,n===null&&(n=fr(),pe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function qm(){return Ze().memoizedState}function pr(e,n,s,l){var u=xt();pe.flags|=e,u.memoizedState=Ms(1|n,{destroy:void 0},s,l===void 0?null:l)}function yr(e,n,s,l){var u=Ze();l=l===void 0?null:l;var f=u.memoizedState.inst;Ue!==null&&l!==null&&ku(l,Ue.memoizedState.deps)?u.memoizedState=Ms(n,f,s,l):(pe.flags|=e,u.memoizedState=Ms(1|n,f,s,l))}function Hm(e,n){pr(8390656,8,e,n)}function Qu(e,n){yr(2048,8,e,n)}function n1(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=fr(),pe.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Pm(e){var n=Ze().memoizedState;return n1({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fm(e,n){return yr(4,2,e,n)}function Qm(e,n){return yr(4,4,e,n)}function Gm(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Km(e,n,s){s=s!=null?s.concat([e]):null,yr(4,4,Gm.bind(null,n,e),s)}function Gu(){}function Ym(e,n){var s=Ze();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ku(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Xm(e,n){var s=Ze();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ku(n,l[1]))return l[0];if(l=e(),Fa){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,n],l}function Ku(e,n,s){return s===void 0||(Un&1073741824)!==0&&(je&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Zp(),pe.lanes|=e,fa|=e,s)}function Zm(e,n,s,l){return _t(s,n)?s:Rs.current!==null?(e=Ku(e,s,l),_t(e,n)||(tt=!0),e):(Un&42)===0||(Un&1073741824)!==0&&(je&261930)===0?(tt=!0,e.memoizedState=s):(e=Zp(),pe.lanes|=e,fa|=e,n)}function Jm(e,n,s,l,u){var f=Y.p;Y.p=f!==0&&8>f?f:8;var v=_.T,b={};_.T=b,Zu(e,!1,n,s);try{var w=u(),k=_.S;if(k!==null&&k(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=$S(w,l);zi(e,n,H,Ft(e))}else zi(e,n,l,Ft(e))}catch(G){zi(e,n,{then:function(){},status:"rejected",reason:G},Ft())}finally{Y.p=f,v!==null&&b.types!==null&&(v.types=b.types),_.T=v}}function a1(){}function Yu(e,n,s,l){if(e.tag!==5)throw Error(r(476));var u=$m(e).queue;Jm(e,u,n,W,s===null?a1:function(){return Im(e),s(l)})}function $m(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:W},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Im(e){var n=$m(e);n.next===null&&(n=e.alternate.memoizedState),zi(e,n.next.queue,{},Ft())}function Xu(){return dt(Ii)}function Wm(){return Ze().memoizedState}function ep(){return Ze().memoizedState}function s1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ft();e=la(s);var l=ra(n,e,s);l!==null&&(Rt(l,n,s),Oi(l,n,s)),n={cache:Eu()},e.payload=n;return}n=n.return}}function i1(e,n,s){var l=Ft();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},gr(e)?np(n,s):(s=fu(e,n,s,l),s!==null&&(Rt(s,e,l),ap(s,n,l)))}function tp(e,n,s){var l=Ft();zi(e,n,s,l)}function zi(e,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(gr(e))np(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,b=f(v,s);if(u.hasEagerState=!0,u.eagerState=b,_t(b,v))return $l(e,n,u,0),Le===null&&Jl(),!1}catch{}finally{}if(s=fu(e,n,u,l),s!==null)return Rt(s,e,l),ap(s,n,l),!0}return!1}function Zu(e,n,s,l){if(l={lane:2,revertLane:Ac(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gr(e)){if(n)throw Error(r(479))}else n=fu(e,s,l,2),n!==null&&Rt(n,e,2)}function gr(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function np(e,n){Os=cr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function ap(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,oh(e,s)}}var Li={readContext:dt,use:hr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Li.useEffectEvent=Ge;var sp={readContext:dt,use:hr,useCallback:function(e,n){return xt().memoizedState=[e,n===void 0?null:n],e},useContext:dt,useEffect:Hm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,pr(4194308,4,Gm.bind(null,n,e),s)},useLayoutEffect:function(e,n){return pr(4194308,4,e,n)},useInsertionEffect:function(e,n){pr(4,2,e,n)},useMemo:function(e,n){var s=xt();n=n===void 0?null:n;var l=e();if(Fa){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=xt();if(s!==void 0){var u=s(n);if(Fa){In(!0);try{s(n)}finally{In(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=i1.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var n=xt();return e={current:e},n.memoizedState=e},useState:function(e){e=Pu(e);var n=e.queue,s=tp.bind(null,pe,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Gu,useDeferredValue:function(e,n){var s=xt();return Ku(s,e,n)},useTransition:function(){var e=Pu(!1);return e=Jm.bind(null,pe,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=pe,u=xt();if(we){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Le===null)throw Error(r(349));(je&127)!==0||Cm(l,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Hm(Am.bind(null,l,f,e),[e]),l.flags|=2048,Ms(9,{destroy:void 0},wm.bind(null,l,f,s,n),null),s},useId:function(){var e=xt(),n=Le.identifierPrefix;if(we){var s=xn,l=vn;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=dr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=IS++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Xu,useFormState:Lm,useActionState:Lm,useOptimistic:function(e){var n=xt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Zu.bind(null,pe,!0,s),s.dispatch=n,[e,n]},useMemoCache:Bu,useCacheRefresh:function(){return xt().memoizedState=s1.bind(null,pe)},useEffectEvent:function(e){var n=xt(),s={impl:e};return n.memoizedState=s,function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Ju={readContext:dt,use:hr,useCallback:Ym,useContext:dt,useEffect:Qu,useImperativeHandle:Km,useInsertionEffect:Fm,useLayoutEffect:Qm,useMemo:Xm,useReducer:mr,useRef:qm,useState:function(){return mr(kn)},useDebugValue:Gu,useDeferredValue:function(e,n){var s=Ze();return Zm(s,Ue.memoizedState,e,n)},useTransition:function(){var e=mr(kn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:ki(e),n]},useSyncExternalStore:jm,useId:Wm,useHostTransitionStatus:Xu,useFormState:_m,useActionState:_m,useOptimistic:function(e,n){var s=Ze();return Om(s,Ue,e,n)},useMemoCache:Bu,useCacheRefresh:ep};Ju.useEffectEvent=Pm;var ip={readContext:dt,use:hr,useCallback:Ym,useContext:dt,useEffect:Qu,useImperativeHandle:Km,useInsertionEffect:Fm,useLayoutEffect:Qm,useMemo:Xm,useReducer:Hu,useRef:qm,useState:function(){return Hu(kn)},useDebugValue:Gu,useDeferredValue:function(e,n){var s=Ze();return Ue===null?Ku(s,e,n):Zm(s,Ue.memoizedState,e,n)},useTransition:function(){var e=Hu(kn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:ki(e),n]},useSyncExternalStore:jm,useId:Wm,useHostTransitionStatus:Xu,useFormState:Bm,useActionState:Bm,useOptimistic:function(e,n){var s=Ze();return Ue!==null?Om(s,Ue,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Bu,useCacheRefresh:ep};ip.useEffectEvent=Pm;function $u(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:x({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Iu={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Ft(),u=la(l);u.payload=n,s!=null&&(u.callback=s),n=ra(e,u,l),n!==null&&(Rt(n,e,l),Oi(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Ft(),u=la(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=ra(e,u,l),n!==null&&(Rt(n,e,l),Oi(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ft(),l=la(s);l.tag=2,n!=null&&(l.callback=n),n=ra(e,l,s),n!==null&&(Rt(n,e,s),Oi(n,e,s))}};function lp(e,n,s,l,u,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Ti(s,l)||!Ti(u,f):!0}function rp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Iu.enqueueReplaceState(n,n.state,null)}function Qa(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=x({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function op(e){Zl(e)}function up(e){console.error(e)}function cp(e){Zl(e)}function vr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Wu(e,n,s){return s=la(s),s.tag=3,s.payload={element:null},s.callback=function(){vr(e,n)},s}function fp(e){return e=la(e),e.tag=3,e}function hp(e,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){dp(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){dp(n,s,l),typeof u!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function l1(e,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&js(n,s,u,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return Wt===null?Or():s.alternate===null&&Ke===0&&(Ke=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===ir?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),jc(e,l,u)),!1;case 22:return s.flags|=65536,l===ir?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),jc(e,l,u)),!1}throw Error(r(435,s.tag))}return jc(e,l,u),Or(),!1}if(we)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==vu&&(e=Error(r(422),{cause:l}),Ci(Zt(e,s)))):(l!==vu&&(n=Error(r(423),{cause:l}),Ci(Zt(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Zt(l,s),u=Wu(e.stateNode,l,u),Ru(e,u),Ke!==4&&(Ke=2)),!1;var f=Error(r(520),{cause:l});if(f=Zt(f,s),Qi===null?Qi=[f]:Qi.push(f),Ke!==4&&(Ke=2),n===null)return!0;l=Zt(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Wu(s.stateNode,l,e),Ru(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ha===null||!ha.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=fp(u),hp(u,e,s,l),Ru(s,u),!1}s=s.return}while(s!==null);return!1}var ec=Error(r(461)),tt=!1;function ft(e,n,s,l){n.child=e===null?gm(n,null,s,l):Pa(n,e.child,s,l)}function mp(e,n,s,l,u){s=s.render;var f=n.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Va(n),l=zu(e,n,s,v,f,u),b=Lu(),e!==null&&!tt?(_u(e,n,u),zn(e,n,u)):(we&&b&&yu(n),n.flags|=1,ft(e,n,l,u),n.child)}function pp(e,n,s,l,u){if(e===null){var f=s.type;return typeof f=="function"&&!hu(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,yp(e,n,f,l,u)):(e=Wl(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!oc(e,u)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ti,s(v,l)&&e.ref===n.ref)return zn(e,n,u)}return n.flags|=1,e=Rn(f,l),e.ref=n.ref,e.return=n,n.child=e}function yp(e,n,s,l,u){if(e!==null){var f=e.memoizedProps;if(Ti(f,l)&&e.ref===n.ref)if(tt=!1,n.pendingProps=l=f,oc(e,u))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,zn(e,n,u)}return tc(e,n,s,l,u)}function gp(e,n,s,l){var u=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return vp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ar(n,f!==null?f.cachePool:null),f!==null?bm(n,f):Du(),Sm(n);else return l=n.lanes=536870912,vp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ar(n,f.cachePool),bm(n,f),ua(),n.memoizedState=null):(e!==null&&ar(n,null),Du(),ua());return ft(e,n,u,s),n.child}function _i(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vp(e,n,s,l,u){var f=Cu();return f=f===null?null:{parent:We._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&ar(n,null),Du(),Sm(n),e!==null&&js(e,n,l,!0),n.childLanes=u,null}function xr(e,n){return n=Sr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,s){return Pa(n,e.child,null,s),e=xr(n,n.pendingProps),e.flags|=2,qt(n),n.memoizedState=null,e}function r1(e,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=xr(n,l),n.lanes=536870912,_i(null,e);if(Uu(n),(e=Ve)?(e=D0(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ta!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},s=nm(e),s.return=n,n.child=s,ct=n,Ve=null)):e=null,e===null)throw aa(n);return n.lanes=536870912,null}return xr(n,l)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(Uu(n),u)if(n.flags&256)n.flags&=-257,n=xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(tt||js(e,n,s,!1),u=(s&e.childLanes)!==0,tt||u){if(l=Le,l!==null&&(v=uh(l,s),v!==0&&v!==f.retryLane))throw f.retryLane=v,ka(e,v),Rt(l,e,v),ec;Or(),n=xp(e,n,s)}else e=f.treeContext,Ve=en(v.nextSibling),ct=n,we=!0,na=null,It=!1,e!==null&&im(n,e),n=xr(n,l),n.flags|=4096;return n}return e=Rn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function br(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function tc(e,n,s,l,u){return Va(n),s=zu(e,n,s,l,void 0,u),l=Lu(),e!==null&&!tt?(_u(e,n,u),zn(e,n,u)):(we&&l&&yu(n),n.flags|=1,ft(e,n,s,u),n.child)}function bp(e,n,s,l,u,f){return Va(n),n.updateQueue=null,s=Em(n,l,s,u),Tm(e),l=Lu(),e!==null&&!tt?(_u(e,n,f),zn(e,n,f)):(we&&l&&yu(n),n.flags|=1,ft(e,n,s,f),n.child)}function Sp(e,n,s,l,u){if(Va(n),n.stateNode===null){var f=bs,v=s.contextType;typeof v=="object"&&v!==null&&(f=dt(v)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Iu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Au(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?dt(v):bs,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&($u(n,s,v,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Iu.enqueueReplaceState(f,f.state,null),Mi(n,l,f,u),Di(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,w=Qa(s,b);f.props=w;var k=f.context,H=s.contextType;v=bs,typeof H=="object"&&H!==null&&(v=dt(H));var G=s.getDerivedStateFromProps;H=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||k!==v)&&rp(n,f,l,v),ia=!1;var z=n.memoizedState;f.state=z,Mi(n,l,f,u),Di(),k=n.memoizedState,b||z!==k||ia?(typeof G=="function"&&($u(n,s,G,l),k=n.memoizedState),(w=ia||lp(n,s,w,l,z,k,v))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Nu(e,n),v=n.memoizedProps,H=Qa(s,v),f.props=H,G=n.pendingProps,z=f.context,k=s.contextType,w=bs,typeof k=="object"&&k!==null&&(w=dt(k)),b=s.getDerivedStateFromProps,(k=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==G||z!==w)&&rp(n,f,l,w),ia=!1,z=n.memoizedState,f.state=z,Mi(n,l,f,u),Di();var B=n.memoizedState;v!==G||z!==B||ia||e!==null&&e.dependencies!==null&&tr(e.dependencies)?(typeof b=="function"&&($u(n,s,b,l),B=n.memoizedState),(H=ia||lp(n,s,H,l,z,B,w)||e!==null&&e.dependencies!==null&&tr(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=w,l=H):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,br(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Pa(n,e.child,null,u),n.child=Pa(n,null,s,u)):ft(e,n,s,u),n.memoizedState=f.state,e=n.child):e=zn(e,n,u),e}function Tp(e,n,s,l){return La(),n.flags|=256,ft(e,n,s,l),n.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ac(e){return{baseLanes:e,cachePool:dm()}}function sc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Pt),e}function Ep(e,n,s){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),v&&(u=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(we){if(u?oa(n):ua(),(e=Ve)?(e=D0(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ta!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},s=nm(e),s.return=n,n.child=s,ct=n,Ve=null)):e=null,e===null)throw aa(n);return qc(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,u?(ua(),u=n.mode,b=Sr({mode:"hidden",children:b},u),l=za(l,u,s,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=ac(s),l.childLanes=sc(e,v,s),n.memoizedState=nc,_i(null,l)):(oa(n),ic(n,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=lc(e,n,s)):n.memoizedState!==null?(ua(),n.child=e.child,n.flags|=128,n=null):(ua(),b=l.fallback,u=n.mode,l=Sr({mode:"visible",children:l.children},u),b=za(b,u,s,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Pa(n,e.child,null,s),l=n.child,l.memoizedState=ac(s),l.childLanes=sc(e,v,s),n.memoizedState=nc,n=_i(null,l));else if(oa(n),qc(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(r(419)),l.stack="",l.digest=v,Ci({value:l,source:null,stack:null}),n=lc(e,n,s)}else if(tt||js(e,n,s,!1),v=(s&e.childLanes)!==0,tt||v){if(v=Le,v!==null&&(l=uh(v,s),l!==0&&l!==w.retryLane))throw w.retryLane=l,ka(e,l),Rt(v,e,l),ec;Bc(b)||Or(),n=lc(e,n,s)}else Bc(b)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,Ve=en(b.nextSibling),ct=n,we=!0,na=null,It=!1,e!==null&&im(n,e),n=ic(n,l.children),n.flags|=4096);return n}return u?(ua(),b=l.fallback,u=n.mode,w=e.child,k=w.sibling,l=Rn(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,k!==null?b=Rn(k,b):(b=za(b,u,s,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,_i(null,l),l=n.child,b=e.child.memoizedState,b===null?b=ac(s):(u=b.cachePool,u!==null?(w=We._currentValue,u=u.parent!==w?{parent:w,pool:w}:u):u=dm(),b={baseLanes:b.baseLanes|s,cachePool:u}),l.memoizedState=b,l.childLanes=sc(e,v,s),n.memoizedState=nc,_i(e.child,l)):(oa(n),s=e.child,e=s.sibling,s=Rn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function ic(e,n){return n=Sr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Sr(e,n){return e=Vt(22,e,null,n),e.lanes=0,e}function lc(e,n,s){return Pa(n,e.child,null,s),e=ic(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Su(e.return,n,s)}function rc(e,n,s,l,u,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=u,v.treeForkCount=f)}function Cp(e,n,s){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var v=Xe.current,b=(v&2)!==0;if(b?(v=v&1|2,n.flags|=128):v&=1,I(Xe,v),ft(e,n,l,s),l=we?ji:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,s,n);else if(e.tag===19)jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&ur(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),rc(n,!1,u,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&ur(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}rc(n,!0,s,null,f,l);break;case"together":rc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),fa|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(js(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Rn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Rn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function oc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&tr(e)))}function o1(e,n,s){switch(n.tag){case 3:ie(n,n.stateNode.containerInfo),sa(n,We,e.memoizedState.cache),La();break;case 27:case 5:vt(n);break;case 4:ie(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Uu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ep(e,n,s):(oa(n),e=zn(e,n,s),e!==null?e.sibling:null);oa(n);break;case 19:var u=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(js(e,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return Cp(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),I(Xe,Xe.current),l)break;return null;case 22:return n.lanes=0,gp(e,n,s,n.pendingProps);case 24:sa(n,We,e.memoizedState.cache)}return zn(e,n,s)}function wp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!oc(e,s)&&(n.flags&128)===0)return tt=!1,o1(e,n,s);tt=(e.flags&131072)!==0}else tt=!1,we&&(n.flags&1048576)!==0&&sm(n,ji,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=qa(n.elementType),n.type=e,typeof e=="function")hu(e)?(l=Qa(e,l),n.tag=1,n=Sp(null,n,e,l,s)):(n.tag=0,n=tc(null,n,e,l,s));else{if(e!=null){var u=e.$$typeof;if(u===Q){n.tag=11,n=mp(null,n,e,l,s);break e}else if(u===K){n.tag=14,n=pp(null,n,e,l,s);break e}}throw n=_e(e)||e,Error(r(306,n,""))}}return n;case 0:return tc(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=Qa(l,n.pendingProps),Sp(e,n,l,u,s);case 3:e:{if(ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Nu(e,n),Mi(n,l,null,s);var v=n.memoizedState;if(l=v.cache,sa(n,We,l),l!==f.cache&&Tu(n,[We],s,!0),Di(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Tp(e,n,l,s);break e}else if(l!==u){u=Zt(Error(r(424)),n),Ci(u),n=Tp(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=en(e.firstChild),ct=n,we=!0,na=null,It=!0,s=gm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(La(),l===u){n=zn(e,n,s);break e}ft(e,n,l,s)}n=n.child}return n;case 26:return br(e,n),e===null?(s=_0(n.type,null,n.pendingProps,null))?n.memoizedState=s:we||(s=n.type,e=n.pendingProps,l=_r(ge.current).createElement(s),l[ut]=n,l[Et]=e,ht(l,s,e),rt(l),n.stateNode=l):n.memoizedState=_0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return vt(n),e===null&&we&&(l=n.stateNode=k0(n.type,n.pendingProps,ge.current),ct=n,It=!0,u=Ve,ga(n.type)?(Hc=u,Ve=en(l.firstChild)):Ve=u),ft(e,n,n.pendingProps.children,s),br(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&we&&((u=l=Ve)&&(l=V1(l,n.type,n.pendingProps,It),l!==null?(n.stateNode=l,ct=n,Ve=en(l.firstChild),It=!1,u=!0):u=!1),u||aa(n)),vt(n),u=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,Lc(u,f)?l=null:v!==null&&Lc(u,v)&&(n.flags|=32),n.memoizedState!==null&&(u=zu(e,n,WS,null,null,s),Ii._currentValue=u),br(e,n),ft(e,n,l,s),n.child;case 6:return e===null&&we&&((e=s=Ve)&&(s=B1(s,n.pendingProps,It),s!==null?(n.stateNode=s,ct=n,Ve=null,e=!0):e=!1),e||aa(n)),null;case 13:return Ep(e,n,s);case 4:return ie(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Pa(n,null,l,s):ft(e,n,l,s),n.child;case 11:return mp(e,n,n.type,n.pendingProps,s);case 7:return ft(e,n,n.pendingProps,s),n.child;case 8:return ft(e,n,n.pendingProps.children,s),n.child;case 12:return ft(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),ft(e,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Va(n),u=dt(u),l=l(u),n.flags|=1,ft(e,n,l,s),n.child;case 14:return pp(e,n,n.type,n.pendingProps,s);case 15:return yp(e,n,n.type,n.pendingProps,s);case 19:return Cp(e,n,s);case 31:return r1(e,n,s);case 22:return gp(e,n,s,n.pendingProps);case 24:return Va(n),l=dt(We),e===null?(u=Cu(),u===null&&(u=Le,f=Eu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:l,cache:u},Au(n),sa(n,We,u)):((e.lanes&s)!==0&&(Nu(e,n),Mi(n,null,null,s),Di()),u=e.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),sa(n,We,l)):(l=f.cache,sa(n,We,l),l!==u.cache&&Tu(n,[We],s,!0))),ft(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ln(e){e.flags|=4}function uc(e,n,s,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Wp())e.flags|=8192;else throw Ha=ir,wu}else e.flags&=-16777217}function Ap(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P0(n))if(Wp())e.flags|=8192;else throw Ha=ir,wu}function Tr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lh():536870912,e.lanes|=n,Ls|=n)}function Vi(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function u1(e,n,s){var l=n.pendingProps;switch(gu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(n),null;case 1:return Be(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mn(We),xe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Es(n)?Ln(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xu())),Be(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(Ln(n),f!==null?(Be(n),Ap(n,f)):(Be(n),uc(n,u,null,l,s))):f?f!==e.memoizedState?(Ln(n),Be(n),Ap(n,f)):(Be(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ln(n),Be(n),uc(n,u,e,l,s)),null;case 27:if(yn(n),s=ge.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ln(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Be(n),null}e=ee.current,Es(n)?lm(n):(e=k0(u,l,s),n.stateNode=e,Ln(n))}return Be(n),null;case 5:if(yn(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ln(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Be(n),null}if(f=ee.current,Es(n))lm(n);else{var v=_r(ge.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(u,{is:l.is}):v.createElement(u)}}f[ut]=n,f[Et]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(ht(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ln(n)}}return Be(n),uc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ln(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=ge.current,Es(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,u=ct,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ut]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||E0(e.nodeValue,s)),e||aa(n,!0)}else e=_r(e).createTextNode(l),e[ut]=n,n.stateNode=e}return Be(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Es(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ut]=n}else La(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),e=!1}else s=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(qt(n),n):(qt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Be(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Es(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ut]=n}else La(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),u=!1}else u=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(qt(n),n):(qt(n),null)}return qt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Tr(n,n.updateQueue),Be(n),null);case 4:return xe(),e===null&&Dc(n.stateNode.containerInfo),Be(n),null;case 10:return Mn(n.type),Be(n),null;case 19:if(P(Xe),l=n.memoizedState,l===null)return Be(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)Vi(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ur(e),f!==null){for(n.flags|=128,Vi(l,!1),e=f.updateQueue,n.updateQueue=e,Tr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)tm(s,e),s=s.sibling;return I(Xe,Xe.current&1|2),we&&On(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&kt()>Ar&&(n.flags|=128,u=!0,Vi(l,!1),n.lanes=4194304)}else{if(!u)if(e=ur(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Tr(n,e),Vi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!we)return Be(n),null}else 2*kt()-l.renderingStartTime>Ar&&s!==536870912&&(n.flags|=128,u=!0,Vi(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=kt(),e.sibling=null,s=Xe.current,I(Xe,u?s&1|2:s&1),we&&On(n,l.treeForkCount),e):(Be(n),null);case 22:case 23:return qt(n),Mu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Be(n),n.subtreeFlags&6&&(n.flags|=8192)):Be(n),s=n.updateQueue,s!==null&&Tr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&P(Ba),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Mn(We),Be(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function c1(e,n){switch(gu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mn(We),xe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return yn(n),null;case 31:if(n.memoizedState!==null){if(qt(n),n.alternate===null)throw Error(r(340));La()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(qt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));La()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(Xe),null;case 4:return xe(),null;case 10:return Mn(n.type),null;case 22:case 23:return qt(n),Mu(),e!==null&&P(Ba),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mn(We),null;case 25:return null;default:return null}}function Np(e,n){switch(gu(n),n.tag){case 3:Mn(We),xe();break;case 26:case 27:case 5:yn(n);break;case 4:xe();break;case 31:n.memoizedState!==null&&qt(n);break;case 13:qt(n);break;case 19:P(Xe);break;case 10:Mn(n.type);break;case 22:case 23:qt(n),Mu(),e!==null&&P(Ba);break;case 24:Mn(We)}}function Bi(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&e)===e){l=void 0;var f=s.create,v=s.inst;l=f(),v.destroy=l}s=s.next}while(s!==u)}}catch(b){Me(n,n.return,b)}}function ca(e,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,u=n;var w=s,k=b;try{k()}catch(H){Me(u,w,H)}}}l=l.next}while(l!==f)}}catch(H){Me(n,n.return,H)}}function Rp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{xm(n,s)}catch(l){Me(e,e.return,l)}}}function Op(e,n,s){s.props=Qa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Me(e,n,l)}}function qi(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(u){Me(e,n,u)}}function bn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Me(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Me(e,n,u)}else s.current=null}function Dp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Me(e,e.return,u)}}function cc(e,n,s){try{var l=e.stateNode;M1(l,e.type,s,n),l[Et]=n}catch(u){Me(e,e.return,u)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ga(e.type)||e.tag===4}function dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=An));else if(l!==4&&(l===27&&ga(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(fc(e,n,s),e=e.sibling;e!==null;)fc(e,n,s),e=e.sibling}function Er(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&ga(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Er(e,n,s),e=e.sibling;e!==null;)Er(e,n,s),e=e.sibling}function Up(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);ht(n,l,s),n[ut]=e,n[Et]=s}catch(f){Me(e,e.return,f)}}var _n=!1,nt=!1,hc=!1,kp=typeof WeakSet=="function"?WeakSet:Set,ot=null;function d1(e,n){if(e=e.containerInfo,kc=Qr,e=Kh(e),lu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,b=-1,w=-1,k=0,H=0,G=e,z=null;t:for(;;){for(var B;G!==s||u!==0&&G.nodeType!==3||(b=v+u),G!==f||l!==0&&G.nodeType!==3||(w=v+l),G.nodeType===3&&(v+=G.nodeValue.length),(B=G.firstChild)!==null;)z=G,G=B;for(;;){if(G===e)break t;if(z===s&&++k===u&&(b=v),z===f&&++H===l&&(w=v),(B=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=B}s=b===-1||w===-1?null:{start:b,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(zc={focusedElem:e,selectionRange:s},Qr=!1,ot=n;ot!==null;)if(n=ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ot=e;else for(;ot!==null;){switch(n=ot,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ne=Qa(s.type,u);e=l.getSnapshotBeforeUpdate(ne,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Me(s,s.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Vc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ot=e;break}ot=n.return}}function zp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(e,s),l&4&&Bi(5,s);break;case 1:if(Bn(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){Me(s,s.return,v)}else{var u=Qa(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Me(s,s.return,v)}}l&64&&Rp(s),l&512&&qi(s,s.return);break;case 3:if(Bn(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{xm(e,n)}catch(v){Me(s,s.return,v)}}break;case 27:n===null&&l&4&&Up(s);case 26:case 5:Bn(e,s),n===null&&l&4&&Dp(s),l&512&&qi(s,s.return);break;case 12:Bn(e,s);break;case 31:Bn(e,s),l&4&&Vp(e,s);break;case 13:Bn(e,s),l&4&&Bp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=b1.bind(null,s),q1(e,s))));break;case 22:if(l=s.memoizedState!==null||_n,!l){n=n!==null&&n.memoizedState!==null||nt,u=_n;var f=nt;_n=l,(nt=n)&&!f?qn(e,s,(s.subtreeFlags&8772)!==0):Bn(e,s),_n=u,nt=f}break;case 30:break;default:Bn(e,s)}}function Lp(e){var n=e.alternate;n!==null&&(e.alternate=null,Lp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Fo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Ct=!1;function Vn(e,n,s){for(s=s.child;s!==null;)_p(e,n,s),s=s.sibling}function _p(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ci,s)}catch{}switch(s.tag){case 26:nt||bn(s,n),Vn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:nt||bn(s,n);var l=qe,u=Ct;ga(s.type)&&(qe=s.stateNode,Ct=!1),Vn(e,n,s),Zi(s.stateNode),qe=l,Ct=u;break;case 5:nt||bn(s,n);case 6:if(l=qe,u=Ct,qe=null,Vn(e,n,s),qe=l,Ct=u,qe!==null)if(Ct)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(s.stateNode)}catch(f){Me(s,n,f)}else try{qe.removeChild(s.stateNode)}catch(f){Me(s,n,f)}break;case 18:qe!==null&&(Ct?(e=qe,R0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qs(e)):R0(qe,s.stateNode));break;case 4:l=qe,u=Ct,qe=s.stateNode.containerInfo,Ct=!0,Vn(e,n,s),qe=l,Ct=u;break;case 0:case 11:case 14:case 15:ca(2,s,n),nt||ca(4,s,n),Vn(e,n,s);break;case 1:nt||(bn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Op(s,n,l)),Vn(e,n,s);break;case 21:Vn(e,n,s);break;case 22:nt=(l=nt)||s.memoizedState!==null,Vn(e,n,s),nt=l;break;default:Vn(e,n,s)}}function Vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qs(e)}catch(s){Me(n,n.return,s)}}}function Bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qs(e)}catch(s){Me(n,n.return,s)}}function f1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kp),n;default:throw Error(r(435,e.tag))}}function jr(e,n){var s=f1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=S1.bind(null,e,l);l.then(u,u)}})}function wt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],f=e,v=n,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(ga(b.type)){qe=b.stateNode,Ct=!1;break e}break;case 5:qe=b.stateNode,Ct=!1;break e;case 3:case 4:qe=b.stateNode.containerInfo,Ct=!0;break e}b=b.return}if(qe===null)throw Error(r(160));_p(f,v,u),qe=null,Ct=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qp(n,e),n=n.sibling}var cn=null;function qp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(n,e),At(e),l&4&&(ca(3,e,e.return),Bi(3,e),ca(5,e,e.return));break;case 1:wt(n,e),At(e),l&512&&(nt||s===null||bn(s,s.return)),l&64&&_n&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=cn;if(wt(n,e),At(e),l&512&&(nt||s===null||bn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[hi]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),ht(f,l,s),f[ut]=e,rt(f),l=f;break e;case"link":var v=q0("link","href",u).get(l+(s.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(b,1);break t}}f=u.createElement(l),ht(f,l,s),u.head.appendChild(f);break;case"meta":if(v=q0("meta","content",u).get(l+(s.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(b,1);break t}}f=u.createElement(l),ht(f,l,s),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[ut]=e,rt(f),l=f}e.stateNode=l}else H0(u,e.type,e.stateNode);else e.stateNode=B0(u,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?H0(u,e.type,e.stateNode):B0(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&cc(e,e.memoizedProps,s.memoizedProps)}break;case 27:wt(n,e),At(e),l&512&&(nt||s===null||bn(s,s.return)),s!==null&&l&4&&cc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(wt(n,e),At(e),l&512&&(nt||s===null||bn(s,s.return)),e.flags&32){u=e.stateNode;try{hs(u,"")}catch(ne){Me(e,e.return,ne)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,cc(e,u,s!==null?s.memoizedProps:u)),l&1024&&(hc=!0);break;case 6:if(wt(n,e),At(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ne){Me(e,e.return,ne)}}break;case 3:if(qr=null,u=cn,cn=Vr(n.containerInfo),wt(n,e),cn=u,At(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(ne){Me(e,e.return,ne)}hc&&(hc=!1,Hp(e));break;case 4:l=cn,cn=Vr(e.stateNode.containerInfo),wt(n,e),At(e),cn=l;break;case 12:wt(n,e),At(e);break;case 31:wt(n,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jr(e,l)));break;case 13:wt(n,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wr=kt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jr(e,l)));break;case 22:u=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,k=_n,H=nt;if(_n=k||u,nt=H||w,wt(n,e),nt=H,_n=k,At(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||w||_n||nt||Ga(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=w.stateNode;var G=w.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ne){Me(w,w.return,ne)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(ne){Me(w,w.return,ne)}}}else if(n.tag===18){if(s===null){w=n;try{var B=w.stateNode;u?O0(B,!0):O0(w.stateNode,!1)}catch(ne){Me(w,w.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,jr(e,s))));break;case 19:wt(n,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jr(e,l)));break;case 30:break;case 21:break;default:wt(n,e),At(e)}}function At(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Mp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var u=s.stateNode,f=dc(e);Er(e,f,u);break;case 5:var v=s.stateNode;s.flags&32&&(hs(v,""),s.flags&=-33);var b=dc(e);Er(e,b,v);break;case 3:case 4:var w=s.stateNode.containerInfo,k=dc(e);fc(e,k,w);break;default:throw Error(r(161))}}catch(H){Me(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function Ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),Ga(n);break;case 1:bn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Op(n,n.return,s),Ga(n);break;case 27:Zi(n.stateNode);case 26:case 5:bn(n,n.return),Ga(n);break;case 22:n.memoizedState===null&&Ga(n);break;case 30:Ga(n);break;default:Ga(n)}e=e.sibling}}function qn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:qn(u,f,s),Bi(4,f);break;case 1:if(qn(u,f,s),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Me(l,l.return,k)}if(l=f,u=l.updateQueue,u!==null){var b=l.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)vm(w[u],b)}catch(k){Me(l,l.return,k)}}s&&v&64&&Rp(f),qi(f,f.return);break;case 27:Up(f);case 26:case 5:qn(u,f,s),s&&l===null&&v&4&&Dp(f),qi(f,f.return);break;case 12:qn(u,f,s);break;case 31:qn(u,f,s),s&&v&4&&Vp(u,f);break;case 13:qn(u,f,s),s&&v&4&&Bp(u,f);break;case 22:f.memoizedState===null&&qn(u,f,s),qi(f,f.return);break;case 30:break;default:qn(u,f,s)}n=n.sibling}}function mc(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&wi(s))}function pc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wi(e))}function dn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(e,n,s,l),n=n.sibling}function Pp(e,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:dn(e,n,s,l),u&2048&&Bi(9,n);break;case 1:dn(e,n,s,l);break;case 3:dn(e,n,s,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wi(e)));break;case 12:if(u&2048){dn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Me(n,n.return,w)}}else dn(e,n,s,l);break;case 31:dn(e,n,s,l);break;case 13:dn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?dn(e,n,s,l):Hi(e,n):f._visibility&2?dn(e,n,s,l):(f._visibility|=2,Us(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&mc(v,n);break;case 24:dn(e,n,s,l),u&2048&&pc(n.alternate,n);break;default:dn(e,n,s,l)}}function Us(e,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,v=n,b=s,w=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Us(f,v,b,w,u),Bi(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?Us(f,v,b,w,u):Hi(f,v):(H._visibility|=2,Us(f,v,b,w,u)),u&&k&2048&&mc(v.alternate,v);break;case 24:Us(f,v,b,w,u),u&&k&2048&&pc(v.alternate,v);break;default:Us(f,v,b,w,u)}n=n.sibling}}function Hi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,u=l.flags;switch(l.tag){case 22:Hi(s,l),u&2048&&mc(l.alternate,l);break;case 24:Hi(s,l),u&2048&&pc(l.alternate,l);break;default:Hi(s,l)}n=n.sibling}}var Pi=8192;function ks(e,n,s){if(e.subtreeFlags&Pi)for(e=e.child;e!==null;)Fp(e,n,s),e=e.sibling}function Fp(e,n,s){switch(e.tag){case 26:ks(e,n,s),e.flags&Pi&&e.memoizedState!==null&&I1(s,cn,e.memoizedState,e.memoizedProps);break;case 5:ks(e,n,s);break;case 3:case 4:var l=cn;cn=Vr(e.stateNode.containerInfo),ks(e,n,s),cn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Pi,Pi=16777216,ks(e,n,s),Pi=l):ks(e,n,s));break;default:ks(e,n,s)}}function Qp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Kp(l,e)}Qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 0:case 11:case 15:Fi(e),e.flags&2048&&ca(9,e,e.return);break;case 3:Fi(e);break;case 12:Fi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cr(e)):Fi(e);break;default:Fi(e)}}function Cr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Kp(l,e)}Qp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ca(8,n,n.return),Cr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Cr(n));break;default:Cr(n)}e=e.sibling}}function Kp(e,n){for(;ot!==null;){var s=ot;switch(s.tag){case 0:case 11:case 15:ca(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wi(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ot=l;else e:for(s=e;ot!==null;){l=ot;var u=l.sibling,f=l.return;if(Lp(l),l===s){ot=null;break e}if(u!==null){u.return=f,ot=u;break e}ot=f}}}var h1={getCacheForType:function(e){var n=dt(We),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return dt(We).controller.signal}},m1=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Le=null,Se=null,je=0,De=0,Ht=null,da=!1,zs=!1,yc=!1,Hn=0,Ke=0,fa=0,Ka=0,gc=0,Pt=0,Ls=0,Qi=null,Nt=null,vc=!1,wr=0,Yp=0,Ar=1/0,Nr=null,ha=null,st=0,ma=null,_s=null,Pn=0,xc=0,bc=null,Xp=null,Gi=0,Sc=null;function Ft(){return(Oe&2)!==0&&je!==0?je&-je:_.T!==null?Ac():ch()}function Zp(){if(Pt===0)if((je&536870912)===0||we){var e=Ll;Ll<<=1,(Ll&3932160)===0&&(Ll=262144),Pt=e}else Pt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Pt}function Rt(e,n,s){(e===Le&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),pa(e,je,Pt,!1)),fi(e,s),((Oe&2)===0||e!==Le)&&(e===Le&&((Oe&2)===0&&(Ka|=s),Ke===4&&pa(e,je,Pt,!1)),Sn(e))}function Jp(e,n,s){if((Oe&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||di(e,n),u=l?g1(e,n):Ec(e,n,!0),f=l;do{if(u===0){zs&&!l&&pa(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!p1(s)){u=Ec(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var b=e;u=Qi;var w=b.current.memoizedState.isDehydrated;if(w&&(Vs(b,v).flags|=256),v=Ec(b,v,!1),v!==2){if(yc&&!w){b.errorRecoveryDisabledLanes|=f,Ka|=f,u=4;break e}f=Nt,Nt=u,f!==null&&(Nt===null?Nt=f:Nt.push.apply(Nt,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){Vs(e,0),pa(e,n,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,Pt,!da);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=wr+300-kt(),10<u)){if(pa(l,n,Pt,!da),Vl(l,0,!0)!==0)break e;Pn=n,l.timeoutHandle=A0($p.bind(null,l,s,Nt,Nr,vc,n,Pt,Ka,Ls,da,f,"Throttled",-0,0),u);break e}$p(l,s,Nt,Nr,vc,n,Pt,Ka,Ls,da,f,null,-0,0)}}break}while(!0);Sn(e)}function $p(e,n,s,l,u,f,v,b,w,k,H,G,z,B){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Fp(n,f,G);var ne=(f&62914560)===f?wr-kt():(f&4194048)===f?Yp-kt():0;if(ne=W1(G,ne),ne!==null){Pn=f,e.cancelPendingCommit=ne(i0.bind(null,e,n,f,s,l,u,v,b,w,H,G,null,z,B)),pa(e,f,v,!k);return}}i0(e,n,f,s,l,u,v,b,w)}function p1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],f=u.getSnapshot;u=u.value;try{if(!_t(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(e,n,s,l){n&=~gc,n&=~Ka,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var f=31-Lt(u),v=1<<f;l[f]=-1,u&=~v}s!==0&&rh(e,s,n)}function Rr(){return(Oe&6)===0?(Ki(0),!1):!0}function Tc(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,Dn=_a=null,Vu(e),Ns=null,Ni=0,e=Se;for(;e!==null;)Np(e.alternate,e),e=e.return;Se=null}}function Vs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,z1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Pn=0,Tc(),Le=e,Se=s=Rn(e.current,null),je=n,De=0,Ht=null,da=!1,zs=di(e,n),yc=!1,Ls=Pt=gc=Ka=fa=Ke=0,Nt=Qi=null,vc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-Lt(l),f=1<<u;n|=e[u],l&=~f}return Hn=n,Jl(),s}function Ip(e,n){pe=null,_.H=Li,n===As||n===sr?(n=mm(),De=3):n===wu?(n=mm(),De=4):De=n===ec?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ht=n,Se===null&&(Ke=1,vr(e,Zt(n,e.current)))}function Wp(){var e=Bt.current;return e===null?!0:(je&4194048)===je?Wt===null:(je&62914560)===je||(je&536870912)!==0?e===Wt:!1}function e0(){var e=_.H;return _.H=Li,e===null?Li:e}function t0(){var e=_.A;return _.A=h1,e}function Or(){Ke=4,da||(je&4194048)!==je&&Bt.current!==null||(zs=!0),(fa&134217727)===0&&(Ka&134217727)===0||Le===null||pa(Le,je,Pt,!1)}function Ec(e,n,s){var l=Oe;Oe|=2;var u=e0(),f=t0();(Le!==e||je!==n)&&(Nr=null,Vs(e,n)),n=!1;var v=Ke;e:do try{if(De!==0&&Se!==null){var b=Se,w=Ht;switch(De){case 8:Tc(),v=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var k=De;if(De=0,Ht=null,Bs(e,b,w,k),s&&zs){v=0;break e}break;default:k=De,De=0,Ht=null,Bs(e,b,w,k)}}y1(),v=Ke;break}catch(H){Ip(e,H)}while(!0);return n&&e.shellSuspendCounter++,Dn=_a=null,Oe=l,_.H=u,_.A=f,Se===null&&(Le=null,je=0,Jl()),v}function y1(){for(;Se!==null;)n0(Se)}function g1(e,n){var s=Oe;Oe|=2;var l=e0(),u=t0();Le!==e||je!==n?(Nr=null,Ar=kt()+500,Vs(e,n)):zs=di(e,n);e:do try{if(De!==0&&Se!==null){n=Se;var f=Ht;t:switch(De){case 1:De=0,Ht=null,Bs(e,n,f,1);break;case 2:case 9:if(fm(f)){De=0,Ht=null,a0(n);break}n=function(){De!==2&&De!==9||Le!==e||(De=7),Sn(e)},f.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:fm(f)?(De=0,Ht=null,a0(n)):(De=0,Ht=null,Bs(e,n,f,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var b=Se;if(v?P0(v):b.stateNode.complete){De=0,Ht=null;var w=b.sibling;if(w!==null)Se=w;else{var k=b.return;k!==null?(Se=k,Dr(k)):Se=null}break t}}De=0,Ht=null,Bs(e,n,f,5);break;case 6:De=0,Ht=null,Bs(e,n,f,6);break;case 8:Tc(),Ke=6;break e;default:throw Error(r(462))}}v1();break}catch(H){Ip(e,H)}while(!0);return Dn=_a=null,_.H=l,_.A=u,Oe=s,Se!==null?0:(Le=null,je=0,Jl(),Ke)}function v1(){for(;Se!==null&&!Hb();)n0(Se)}function n0(e){var n=wp(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,n===null?Dr(e):Se=n}function a0(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=bp(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=bp(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:Vu(n);default:Np(s,n),n=Se=tm(n,Hn),n=wp(s,n,Hn)}e.memoizedProps=e.pendingProps,n===null?Dr(e):Se=n}function Bs(e,n,s,l){Dn=_a=null,Vu(n),Ns=null,Ni=0;var u=n.return;try{if(l1(e,u,n,s,je)){Ke=1,vr(e,Zt(s,e.current)),Se=null;return}}catch(f){if(u!==null)throw Se=u,f;Ke=1,vr(e,Zt(s,e.current)),Se=null;return}n.flags&32768?(we||l===1?e=!0:zs||(je&536870912)!==0?e=!1:(da=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),s0(n,e)):Dr(n)}function Dr(e){var n=e;do{if((n.flags&32768)!==0){s0(n,da);return}e=n.return;var s=u1(n.alternate,n,Hn);if(s!==null){Se=s;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Ke===0&&(Ke=5)}function s0(e,n){do{var s=c1(e.alternate,e);if(s!==null){s.flags&=32767,Se=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=s}while(e!==null);Ke=6,Se=null}function i0(e,n,s,l,u,f,v,b,w){e.cancelPendingCommit=null;do Mr();while(st!==0);if((Oe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=du,$b(e,s,f,v,b,w),e===Le&&(Se=Le=null,je=0),_s=n,ma=e,Pn=s,xc=f,bc=u,Xp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T1(kl,function(){return c0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=_.T,_.T=null,u=Y.p,Y.p=2,v=Oe,Oe|=4;try{d1(e,n,s)}finally{Oe=v,Y.p=u,_.T=l}}st=1,l0(),r0(),o0()}}function l0(){if(st===1){st=0;var e=ma,n=_s,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=_.T,_.T=null;var l=Y.p;Y.p=2;var u=Oe;Oe|=4;try{qp(n,e);var f=zc,v=Kh(e.containerInfo),b=f.focusedElem,w=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&Gh(b.ownerDocument.documentElement,b)){if(w!==null&&lu(b)){var k=w.start,H=w.end;if(H===void 0&&(H=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min(H,b.value.length);else{var G=b.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var B=z.getSelection(),ne=b.textContent.length,ce=Math.min(w.start,ne),ze=w.end===void 0?ce:Math.min(w.end,ne);!B.extend&&ce>ze&&(v=ze,ze=ce,ce=v);var D=Qh(b,ce),R=Qh(b,ze);if(D&&R&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==R.node||B.focusOffset!==R.offset)){var U=G.createRange();U.setStart(D.node,D.offset),B.removeAllRanges(),ce>ze?(B.addRange(U),B.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),B.addRange(U))}}}}for(G=[],B=b;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var F=G[b];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Qr=!!kc,zc=kc=null}finally{Oe=u,Y.p=l,_.T=s}}e.current=n,st=2}}function r0(){if(st===2){st=0;var e=ma,n=_s,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=_.T,_.T=null;var l=Y.p;Y.p=2;var u=Oe;Oe|=4;try{zp(e,n.alternate,n)}finally{Oe=u,Y.p=l,_.T=s}}st=3}}function o0(){if(st===4||st===3){st=0,Pb();var e=ma,n=_s,s=Pn,l=Xp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,_s=ma=null,u0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ha=null),Ho(s),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ci,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=_.T,u=Y.p,Y.p=2,_.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var b=l[v];f(b.value,{componentStack:b.stack})}}finally{_.T=n,Y.p=u}}(Pn&3)!==0&&Mr(),Sn(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===Sc?Gi++:(Gi=0,Sc=e):Gi=0,Ki(0)}}function u0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wi(n)))}function Mr(){return l0(),r0(),o0(),c0()}function c0(){if(st!==5)return!1;var e=ma,n=xc;xc=0;var s=Ho(Pn),l=_.T,u=Y.p;try{Y.p=32>s?32:s,_.T=null,s=bc,bc=null;var f=ma,v=Pn;if(st=0,_s=ma=null,Pn=0,(Oe&6)!==0)throw Error(r(331));var b=Oe;if(Oe|=4,Gp(f.current),Pp(f,f.current,v,s),Oe=b,Ki(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ci,f)}catch{}return!0}finally{Y.p=u,_.T=l,u0(e,n)}}function d0(e,n,s){n=Zt(s,n),n=Wu(e.stateNode,n,2),e=ra(e,n,2),e!==null&&(fi(e,2),Sn(e))}function Me(e,n,s){if(e.tag===3)d0(e,e,s);else for(;n!==null;){if(n.tag===3){d0(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){e=Zt(s,e),s=fp(2),l=ra(n,s,2),l!==null&&(hp(s,l,n,e),fi(l,2),Sn(l));break}}n=n.return}}function jc(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new m1;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(yc=!0,u.add(s),e=x1.bind(null,e,n,s),n.then(e,e))}function x1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Le===e&&(je&s)===s&&(Ke===4||Ke===3&&(je&62914560)===je&&300>kt()-wr?(Oe&2)===0&&Vs(e,0):gc|=s,Ls===je&&(Ls=0)),Sn(e)}function f0(e,n){n===0&&(n=lh()),e=ka(e,n),e!==null&&(fi(e,n),Sn(e))}function b1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),f0(e,s)}function S1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),f0(e,s)}function T1(e,n){return _o(e,n)}var Ur=null,qs=null,Cc=!1,kr=!1,wc=!1,ya=0;function Sn(e){e!==qs&&e.next===null&&(qs===null?Ur=qs=e:qs=qs.next=e),kr=!0,Cc||(Cc=!0,j1())}function Ki(e,n){if(!wc&&kr){wc=!0;do for(var s=!1,l=Ur;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var v=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Lt(42|e)+1)-1,f&=u&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,y0(l,f))}else f=je,f=Vl(l,l===Le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||di(l,f)||(s=!0,y0(l,f));l=l.next}while(s);wc=!1}}function E1(){h0()}function h0(){kr=Cc=!1;var e=0;ya!==0&&k1()&&(e=ya);for(var n=kt(),s=null,l=Ur;l!==null;){var u=l.next,f=m0(l,n);f===0?(l.next=null,s===null?Ur=u:s.next=u,u===null&&(qs=s)):(s=l,(e!==0||(f&3)!==0)&&(kr=!0)),l=u}st!==0&&st!==5||Ki(e),ya!==0&&(ya=0)}function m0(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Lt(f),b=1<<v,w=u[v];w===-1?((b&s)===0||(b&l)!==0)&&(u[v]=Jb(b,n)):w<=n&&(e.expiredLanes|=b),f&=~b}if(n=Le,s=je,s=Vl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Vo(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||di(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Vo(l),Ho(s)){case 2:case 8:s=sh;break;case 32:s=kl;break;case 268435456:s=ih;break;default:s=kl}return l=p0.bind(null,e),s=_o(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Vo(l),e.callbackPriority=2,e.callbackNode=null,2}function p0(e,n){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Mr()&&e.callbackNode!==s)return null;var l=je;return l=Vl(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Jp(e,l,n),m0(e,kt()),e.callbackNode!=null&&e.callbackNode===s?p0.bind(null,e):null)}function y0(e,n){if(Mr())return null;Jp(e,n,!0)}function j1(){L1(function(){(Oe&6)!==0?_o(ah,E1):h0()})}function Ac(){if(ya===0){var e=Cs;e===0&&(e=zl,zl<<=1,(zl&261888)===0&&(zl=256)),ya=e}return ya}function g0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pl(""+e)}function v0(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function C1(e,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var f=g0((u[Et]||null).action),v=l.submitter;v&&(n=(n=v[Et]||null)?g0(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var b=new Kl("action","action",null,l,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var w=v?v0(u,v):new FormData(u);Yu(s,{pending:!0,data:w,method:u.method,action:f},null,w)}}else typeof f=="function"&&(b.preventDefault(),w=v?v0(u,v):new FormData(u),Yu(s,{pending:!0,data:w,method:u.method,action:f},f,w))},currentTarget:u}]})}}for(var Nc=0;Nc<cu.length;Nc++){var Rc=cu[Nc],w1=Rc.toLowerCase(),A1=Rc[0].toUpperCase()+Rc.slice(1);un(w1,"on"+A1)}un(Zh,"onAnimationEnd"),un(Jh,"onAnimationIteration"),un($h,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(FS,"onTransitionRun"),un(QS,"onTransitionStart"),un(GS,"onTransitionCancel"),un(Ih,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function x0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var b=l[v],w=b.instance,k=b.currentTarget;if(b=b.listener,w!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=k;try{f(u)}catch(H){Zl(H)}u.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(b=l[v],w=b.instance,k=b.currentTarget,b=b.listener,w!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=k;try{f(u)}catch(H){Zl(H)}u.currentTarget=null,f=w}}}}function Te(e,n){var s=n[Po];s===void 0&&(s=n[Po]=new Set);var l=e+"__bubble";s.has(l)||(b0(n,e,2,!1),s.add(l))}function Oc(e,n,s){var l=0;n&&(l|=4),b0(s,e,l,n)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[zr]){e[zr]=!0,hh.forEach(function(s){s!=="selectionchange"&&(N1.has(s)||Oc(s,!1,e),Oc(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zr]||(n[zr]=!0,Oc("selectionchange",!1,n))}}function b0(e,n,s,l){switch(Z0(n)){case 2:var u=n2;break;case 8:u=a2;break;default:u=Kc}s=u.bind(null,n,s,e),u=void 0,!$o||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Mc(e,n,s,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===u)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;b!==null;){if(v=os(b),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue e}b=b.parentNode}}l=l.return}Ch(function(){var k=f,H=Zo(s),G=[];e:{var z=Wh.get(e);if(z!==void 0){var B=Kl,ne=e;switch(e){case"keypress":if(Ql(s)===0)break e;case"keydown":case"keyup":B=SS;break;case"focusin":ne="focus",B=tu;break;case"focusout":ne="blur",B=tu;break;case"beforeblur":case"afterblur":B=tu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=jS;break;case Zh:case Jh:case $h:B=fS;break;case Ih:B=wS;break;case"scroll":case"scrollend":B=rS;break;case"wheel":B=NS;break;case"copy":case"cut":case"paste":B=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Oh;break;case"toggle":case"beforetoggle":B=OS}var ce=(n&4)!==0,ze=!ce&&(e==="scroll"||e==="scrollend"),D=ce?z!==null?z+"Capture":null:z;ce=[];for(var R=k,U;R!==null;){var F=R;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||D===null||(F=pi(R,D),F!=null&&ce.push(Xi(R,F,U))),ze)break;R=R.return}0<ce.length&&(z=new B(z,ne,null,s,H),G.push({event:z,listeners:ce}))}}if((n&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Xo&&(ne=s.relatedTarget||s.fromElement)&&(os(ne)||ne[rs]))break e;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ne=s.relatedTarget||s.toElement,B=k,ne=ne?os(ne):null,ne!==null&&(ze=d(ne),ce=ne.tag,ne!==ze||ce!==5&&ce!==27&&ce!==6)&&(ne=null)):(B=null,ne=k),B!==ne)){if(ce=Nh,F="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Oh,F="onPointerLeave",D="onPointerEnter",R="pointer"),ze=B==null?z:mi(B),U=ne==null?z:mi(ne),z=new ce(F,R+"leave",B,s,H),z.target=ze,z.relatedTarget=U,F=null,os(H)===k&&(ce=new ce(D,R+"enter",ne,s,H),ce.target=U,ce.relatedTarget=ze,F=ce),ze=F,B&&ne)t:{for(ce=R1,D=B,R=ne,U=0,F=D;F;F=ce(F))U++;F=0;for(var re=R;re;re=ce(re))F++;for(;0<U-F;)D=ce(D),U--;for(;0<F-U;)R=ce(R),F--;for(;U--;){if(D===R||R!==null&&D===R.alternate){ce=D;break t}D=ce(D),R=ce(R)}ce=null}else ce=null;B!==null&&S0(G,z,B,ce,!1),ne!==null&&ze!==null&&S0(G,ze,ne,ce,!0)}}e:{if(z=k?mi(k):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Ne=Vh;else if(Lh(z))if(Bh)Ne=qS;else{Ne=VS;var ae=_S}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&Yo(k.elementType)&&(Ne=Vh):Ne=BS;if(Ne&&(Ne=Ne(e,k))){_h(G,Ne,s,H);break e}ae&&ae(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Ko(z,"number",z.value)}switch(ae=k?mi(k):window,e){case"focusin":(Lh(ae)||ae.contentEditable==="true")&&(gs=ae,ru=k,Ei=null);break;case"focusout":Ei=ru=gs=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Yh(G,s,H);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Yh(G,s,H)}var ve;if(au)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ys?kh(e,s)&&(Ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(Dh&&s.locale!=="ko"&&(ys||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ys&&(ve=wh()):(ea=H,Io="value"in ea?ea.value:ea.textContent,ys=!0)),ae=Lr(k,Ce),0<ae.length&&(Ce=new Rh(Ce,e,null,s,H),G.push({event:Ce,listeners:ae}),ve?Ce.data=ve:(ve=zh(s),ve!==null&&(Ce.data=ve)))),(ve=MS?US(e,s):kS(e,s))&&(Ce=Lr(k,"onBeforeInput"),0<Ce.length&&(ae=new Rh("onBeforeInput","beforeinput",null,s,H),G.push({event:ae,listeners:Ce}),ae.data=ve)),C1(G,e,k,s,H)}x0(G,n)})}function Xi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Lr(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=pi(e,s),u!=null&&l.unshift(Xi(e,u,f)),u=pi(e,n),u!=null&&l.push(Xi(e,u,f))),e.tag===3)return l;e=e.return}return[]}function R1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function S0(e,n,s,l,u){for(var f=n._reactName,v=[];s!==null&&s!==l;){var b=s,w=b.alternate,k=b.stateNode;if(b=b.tag,w!==null&&w===l)break;b!==5&&b!==26&&b!==27||k===null||(w=k,u?(k=pi(s,f),k!=null&&v.unshift(Xi(s,k,w))):u||(k=pi(s,f),k!=null&&v.push(Xi(s,k,w)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var O1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function T0(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(D1,"")}function E0(e,n){return n=T0(n),T0(e)===n}function ke(e,n,s,l,u,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hs(e,""+l);break;case"className":ql(e,"class",l);break;case"tabIndex":ql(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,s,l);break;case"style":Eh(e,l,f);break;case"data":if(n!=="object"){ql(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Pl(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ke(e,n,"name",u.name,u,null),ke(e,n,"formEncType",u.formEncType,u,null),ke(e,n,"formMethod",u.formMethod,u,null),ke(e,n,"formTarget",u.formTarget,u,null)):(ke(e,n,"encType",u.encType,u,null),ke(e,n,"method",u.method,u,null),ke(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Pl(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=An);break;case"onScroll":l!=null&&Te("scroll",e);break;case"onScrollEnd":l!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Pl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Bl(e,"popover",l);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iS.get(s)||s,Bl(e,s,l))}}function Uc(e,n,s,l,u,f){switch(s){case"style":Eh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?hs(e,l):(typeof l=="number"||typeof l=="bigint")&&hs(e,""+l);break;case"onScroll":l!=null&&Te("scroll",e);break;case"onScrollEnd":l!=null&&Te("scrollend",e);break;case"onClick":l!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=e[Et]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,u);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Bl(e,s,l)}}}function ht(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var l=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ke(e,n,f,v,s,null)}}u&&ke(e,n,"srcSet",s.srcSet,s,null),l&&ke(e,n,"src",s.src,s,null);return;case"input":Te("invalid",e);var b=f=v=u=null,w=null,k=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":u=H;break;case"type":v=H;break;case"checked":w=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:ke(e,n,l,H,s,null)}}xh(e,f,b,w,k,v,u,!1);return;case"select":Te("invalid",e),l=v=f=null;for(u in s)if(s.hasOwnProperty(u)&&(b=s[u],b!=null))switch(u){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:ke(e,n,u,b,s,null)}n=f,s=v,e.multiple=!!l,n!=null?fs(e,!!l,n,!1):s!=null&&fs(e,!!l,s,!0);return;case"textarea":Te("invalid",e),f=u=l=null;for(v in s)if(s.hasOwnProperty(v)&&(b=s[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":u=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ke(e,n,v,b,s,null)}Sh(e,l,u,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ke(e,n,w,l,s,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(l=0;l<Yi.length;l++)Te(Yi[l],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ke(e,n,k,l,s,null)}return;default:if(Yo(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&Uc(e,n,H,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&ke(e,n,b,l,s,null))}function M1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,b=null,w=null,k=null,H=null;for(B in s){var G=s[B];if(s.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=G;default:l.hasOwnProperty(B)||ke(e,n,B,null,l,G)}}for(var z in l){var B=l[z];if(G=s[z],l.hasOwnProperty(z)&&(B!=null||G!=null))switch(z){case"type":f=B;break;case"name":u=B;break;case"checked":k=B;break;case"defaultChecked":H=B;break;case"value":v=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==G&&ke(e,n,z,B,l,G)}}Go(e,v,b,w,k,H,f,u);return;case"select":B=v=b=z=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(f)||ke(e,n,f,null,l,w)}for(u in l)if(f=l[u],w=s[u],l.hasOwnProperty(u)&&(f!=null||w!=null))switch(u){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==w&&ke(e,n,u,f,l,w)}n=b,s=v,l=B,z!=null?fs(e,!!s,z,!1):!!l!=!!s&&(n!=null?fs(e,!!s,n,!0):fs(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(b in s)if(u=s[b],s.hasOwnProperty(b)&&u!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ke(e,n,b,null,l,u)}for(v in l)if(u=l[v],f=s[v],l.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":z=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&ke(e,n,v,u,l,f)}bh(e,z,B);return;case"option":for(var ne in s)if(z=s[ne],s.hasOwnProperty(ne)&&z!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:ke(e,n,ne,null,l,z)}for(w in l)if(z=l[w],B=s[w],l.hasOwnProperty(w)&&z!==B&&(z!=null||B!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ke(e,n,w,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in s)z=s[ce],s.hasOwnProperty(ce)&&z!=null&&!l.hasOwnProperty(ce)&&ke(e,n,ce,null,l,z);for(k in l)if(z=l[k],B=s[k],l.hasOwnProperty(k)&&z!==B&&(z!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:ke(e,n,k,z,l,B)}return;default:if(Yo(n)){for(var ze in s)z=s[ze],s.hasOwnProperty(ze)&&z!==void 0&&!l.hasOwnProperty(ze)&&Uc(e,n,ze,void 0,l,z);for(H in l)z=l[H],B=s[H],!l.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||Uc(e,n,H,z,l,B);return}}for(var D in s)z=s[D],s.hasOwnProperty(D)&&z!=null&&!l.hasOwnProperty(D)&&ke(e,n,D,null,l,z);for(G in l)z=l[G],B=s[G],!l.hasOwnProperty(G)||z===B||z==null&&B==null||ke(e,n,G,z,l,B)}function j0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],f=u.transferSize,v=u.initiatorType,b=u.duration;if(f&&b&&j0(v)){for(v=0,b=u.responseEnd,l+=1;l<s.length;l++){var w=s[l],k=w.startTime;if(k>b)break;var H=w.transferSize,G=w.initiatorType;H&&j0(G)&&(w=w.responseEnd,v+=H*(w<b?1:(b-k)/(w-k)))}if(--l,n+=8*(f+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kc=null,zc=null;function _r(e){return e.nodeType===9?e:e.ownerDocument}function C0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _c=null;function k1(){var e=window.event;return e&&e.type==="popstate"?e===_c?!1:(_c=e,!0):(_c=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(e){return N0.resolve(null).then(e).catch(_1)}:A0;function _1(e){setTimeout(function(){throw e})}function ga(e){return e==="head"}function R0(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(u),Qs(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Zi(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Zi(s);for(var f=s.firstChild;f;){var v=f.nextSibling,b=f.nodeName;f[hi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=v}}else s==="body"&&Zi(e.ownerDocument.body);s=u}while(s);Qs(n)}function O0(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Vc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vc(s),Fo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function V1(e,n,s,l){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function B1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=en(e.nextSibling),e===null))return null;return e}function D0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function Bc(e){return e.data==="$?"||e.data==="$~"}function qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Hc=null;function M0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return en(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function U0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function k0(e,n,s){switch(n=_r(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Fo(e)}var tn=new Map,z0=new Set;function Vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=Y.d;Y.d={f:H1,r:P1,D:F1,C:Q1,L:G1,m:K1,X:X1,S:Y1,M:Z1};function H1(){var e=Fn.f(),n=Rr();return e||n}function P1(e){var n=us(e);n!==null&&n.tag===5&&n.type==="form"?Im(n):Fn.r(e)}var Hs=typeof document>"u"?null:document;function L0(e,n,s){var l=Hs;if(l&&typeof n=="string"&&n){var u=Yt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),z0.has(u)||(z0.add(u),e={rel:e,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ht(n,"link",e),rt(n),l.head.appendChild(n)))}}function F1(e){Fn.D(e),L0("dns-prefetch",e,null)}function Q1(e,n){Fn.C(e,n),L0("preconnect",e,n)}function G1(e,n,s){Fn.L(e,n,s);var l=Hs;if(l&&e&&n){var u='link[rel="preload"][as="'+Yt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Yt(s.imageSizes)+'"]')):u+='[href="'+Yt(e)+'"]';var f=u;switch(n){case"style":f=Ps(e);break;case"script":f=Fs(e)}tn.has(f)||(e=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),tn.set(f,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(Ji(f))||n==="script"&&l.querySelector($i(f))||(n=l.createElement("link"),ht(n,"link",e),rt(n),l.head.appendChild(n)))}}function K1(e,n){Fn.m(e,n);var s=Hs;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fs(e)}if(!tn.has(f)&&(e=x({rel:"modulepreload",href:e},n),tn.set(f,e),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($i(f)))return}l=s.createElement("link"),ht(l,"link",e),rt(l),s.head.appendChild(l)}}}function Y1(e,n,s){Fn.S(e,n,s);var l=Hs;if(l&&e){var u=cs(l).hoistableStyles,f=Ps(e);n=n||"default";var v=u.get(f);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ji(f)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},s),(s=tn.get(f))&&Pc(e,s);var w=v=l.createElement("link");rt(w),ht(w,"link",e),w._p=new Promise(function(k,H){w.onload=k,w.onerror=H}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Br(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:b},u.set(f,v)}}}function X1(e,n){Fn.X(e,n);var s=Hs;if(s&&e){var l=cs(s).hoistableScripts,u=Fs(e),f=l.get(u);f||(f=s.querySelector($i(u)),f||(e=x({src:e,async:!0},n),(n=tn.get(u))&&Fc(e,n),f=s.createElement("script"),rt(f),ht(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Z1(e,n){Fn.M(e,n);var s=Hs;if(s&&e){var l=cs(s).hoistableScripts,u=Fs(e),f=l.get(u);f||(f=s.querySelector($i(u)),f||(e=x({src:e,async:!0,type:"module"},n),(n=tn.get(u))&&Fc(e,n),f=s.createElement("script"),rt(f),ht(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function _0(e,n,s,l){var u=(u=ge.current)?Vr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ps(s.href),s=cs(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ps(s.href);var f=cs(u).hoistableStyles,v=f.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=u.querySelector(Ji(e)))&&!f._p&&(v.instance=f,v.state.loading=5),tn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},tn.set(e,s),f||J1(u,e,s,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(s),s=cs(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ps(e){return'href="'+Yt(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function V0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function J1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ht(n,"link",s),rt(n),e.head.appendChild(n))}function Fs(e){return'[src="'+Yt(e)+'"]'}function $i(e){return"script[async]"+e}function B0(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(s.href)+'"]');if(l)return n.instance=l,rt(l),l;var u=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),ht(l,"style",u),Br(l,s.precedence,e),n.instance=l;case"stylesheet":u=Ps(s.href);var f=e.querySelector(Ji(u));if(f)return n.state.loading|=4,n.instance=f,rt(f),f;l=V0(s),(u=tn.get(u))&&Pc(l,u),f=(e.ownerDocument||e).createElement("link"),rt(f);var v=f;return v._p=new Promise(function(b,w){v.onload=b,v.onerror=w}),ht(f,"link",l),n.state.loading|=4,Br(f,s.precedence,e),n.instance=f;case"script":return f=Fs(s.src),(u=e.querySelector($i(f)))?(n.instance=u,rt(u),u):(l=s,(u=tn.get(f))&&(l=x({},s),Fc(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),rt(u),ht(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Br(l,s.precedence,e));return n.instance}function Br(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===n)f=b;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Pc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var qr=null;function q0(e,n,s){if(qr===null){var l=new Map,u=qr=new Map;u.set(s,l)}else u=qr,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[hi]||f[ut]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var b=l.get(v);b?b.push(f):l.set(v,[f])}}return l}function H0(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function I1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Ps(l.href),f=n.querySelector(Ji(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Hr.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,rt(f);return}f=n.ownerDocument||n,l=V0(l),(u=tn.get(u))&&Pc(l,u),f=f.createElement("link"),rt(f);var v=f;v._p=new Promise(function(b,w){v.onload=b,v.onerror=w}),ht(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Hr.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Qc=0;function W1(e,n){return e.stylesheets&&e.count===0&&Fr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Fr(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Qc===0&&(Qc=62500*U1());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fr(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Qc?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pr=null;function Fr(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pr=new Map,n.forEach(e2,e),Pr=null,Hr.call(e))}function e2(e,n){if(!(n.state.loading&4)){var s=Pr.get(e);if(s)var l=s.get(null);else{s=new Map,Pr.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}u=n.instance,v=u.getAttribute("data-precedence"),f=s.get(v)||l,f===l&&s.set(null,u),s.set(v,u),this.count++,l=Hr.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Ii={$$typeof:O,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function t2(e,n,s,l,u,f,v,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.hiddenUpdates=Bo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function F0(e,n,s,l,u,f,v,b,w,k,H,G){return e=new t2(e,n,s,v,w,k,H,G,b),n=1,f===!0&&(n|=24),f=Vt(3,null,null,n),e.current=f,f.stateNode=e,n=Eu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Au(f),e}function Q0(e){return e?(e=bs,e):bs}function G0(e,n,s,l,u,f){u=Q0(u),l.context===null?l.context=u:l.pendingContext=u,l=la(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ra(e,l,n),s!==null&&(Rt(s,e,n),Oi(s,e,n))}function K0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Gc(e,n){K0(e,n),(e=e.alternate)&&K0(e,n)}function Y0(e){if(e.tag===13||e.tag===31){var n=ka(e,67108864);n!==null&&Rt(n,e,67108864),Gc(e,67108864)}}function X0(e){if(e.tag===13||e.tag===31){var n=Ft();n=qo(n);var s=ka(e,n);s!==null&&Rt(s,e,n),Gc(e,n)}}var Qr=!0;function n2(e,n,s,l){var u=_.T;_.T=null;var f=Y.p;try{Y.p=2,Kc(e,n,s,l)}finally{Y.p=f,_.T=u}}function a2(e,n,s,l){var u=_.T;_.T=null;var f=Y.p;try{Y.p=8,Kc(e,n,s,l)}finally{Y.p=f,_.T=u}}function Kc(e,n,s,l){if(Qr){var u=Yc(l);if(u===null)Mc(e,n,l,Gr,s),J0(e,l);else if(i2(u,e,n,s,l))l.stopPropagation();else if(J0(e,l),n&4&&-1<s2.indexOf(e)){for(;u!==null;){var f=us(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ra(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var w=1<<31-Lt(v);b.entanglements[1]|=w,v&=~w}Sn(f),(Oe&6)===0&&(Ar=kt()+500,Ki(0))}}break;case 31:case 13:b=ka(f,2),b!==null&&Rt(b,f,2),Rr(),Gc(f,2)}if(f=Yc(l),f===null&&Mc(e,n,l,Gr,s),f===u)break;u=f}u!==null&&l.stopPropagation()}else Mc(e,n,l,null,s)}}function Yc(e){return e=Zo(e),Xc(e)}var Gr=null;function Xc(e){if(Gr=null,e=os(e),e!==null){var n=d(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=c(n),e!==null)return e;e=null}else if(s===31){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Gr=e,null}function Z0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fb()){case ah:return 2;case sh:return 8;case kl:case Qb:return 32;case ih:return 268435456;default:return 32}default:return 32}}var Zc=!1,va=null,xa=null,ba=null,Wi=new Map,el=new Map,Sa=[],s2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(e,n){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Wi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function tl(e,n,s,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=us(n),n!==null&&Y0(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function i2(e,n,s,l,u){switch(n){case"focusin":return va=tl(va,e,n,s,l,u),!0;case"dragenter":return xa=tl(xa,e,n,s,l,u),!0;case"mouseover":return ba=tl(ba,e,n,s,l,u),!0;case"pointerover":var f=u.pointerId;return Wi.set(f,tl(Wi.get(f)||null,e,n,s,l,u)),!0;case"gotpointercapture":return f=u.pointerId,el.set(f,tl(el.get(f)||null,e,n,s,l,u)),!0}return!1}function $0(e){var n=os(e.target);if(n!==null){var s=d(n);if(s!==null){if(n=s.tag,n===13){if(n=c(s),n!==null){e.blockedOn=n,dh(e.priority,function(){X0(s)});return}}else if(n===31){if(n=h(s),n!==null){e.blockedOn=n,dh(e.priority,function(){X0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Yc(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Xo=l,s.target.dispatchEvent(l),Xo=null}else return n=us(s),n!==null&&Y0(n),e.blockedOn=s,!1;n.shift()}return!0}function I0(e,n,s){Kr(e)&&s.delete(n)}function l2(){Zc=!1,va!==null&&Kr(va)&&(va=null),xa!==null&&Kr(xa)&&(xa=null),ba!==null&&Kr(ba)&&(ba=null),Wi.forEach(I0),el.forEach(I0)}function Yr(e,n){e.blockedOn===n&&(e.blockedOn=null,Zc||(Zc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l2)))}var Xr=null;function W0(e){Xr!==e&&(Xr=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(Xc(l||s)===null)continue;break}var f=us(s);f!==null&&(e.splice(n,3),n-=3,Yu(f,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function Qs(e){function n(w){return Yr(w,e)}va!==null&&Yr(va,e),xa!==null&&Yr(xa,e),ba!==null&&Yr(ba,e),Wi.forEach(n),el.forEach(n);for(var s=0;s<Sa.length;s++){var l=Sa[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Sa.length&&(s=Sa[0],s.blockedOn===null);)$0(s),s.blockedOn===null&&Sa.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],v=u[Et]||null;if(typeof f=="function")v||W0(s);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[Et]||null)b=v.formAction;else if(Xc(u)!==null)continue}else b=v.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),W0(s)}}}function ey(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Jc(e){this._internalRoot=e}Zr.prototype.render=Jc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Ft();G0(s,l,e,n,null,null)},Zr.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;G0(e.current,2,null,e,null,null),Rr(),n[rs]=null}};function Zr(e){this._internalRoot=e}Zr.prototype.unstable_scheduleHydration=function(e){if(e){var n=ch();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Sa.length&&n!==0&&n<Sa[s].priority;s++);Sa.splice(s,0,e),s===0&&$0(e)}};var ty=a.version;if(ty!=="19.2.1")throw Error(r(527,ty,"19.2.1"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var r2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{ci=Jr.inject(r2),zt=Jr}catch{}}return al.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",u=op,f=up,v=cp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=F0(e,1,!1,null,null,s,l,null,u,f,v,ey),e[rs]=n.current,Dc(e),new Jc(n)},al.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,u="",f=op,v=up,b=cp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=F0(e,1,!0,n,s??null,l,u,w,f,v,b,ey),n.context=Q0(null),s=n.current,l=Ft(),l=qo(l),u=la(l),u.callback=null,ra(s,u,l),s=l,n.current.lanes=s,fi(n,s),Sn(n),e[rs]=n.current,Dc(e),new Zr(n)},al.version="19.2.1",al}var dy;function g2(){if(dy)return Wc.exports;dy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Wc.exports=y2(),Wc.exports}var v2=g2();var fy="popstate";function x2(t={}){function a(r,o){let{pathname:d,search:c,hash:h}=r.location;return Ed("",{pathname:d,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:hl(o)}return S2(a,i,null,t)}function Pe(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function rn(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function b2(){return Math.random().toString(36).substring(2,10)}function hy(t,a){return{usr:t.state,key:t.key,idx:a}}function Ed(t,a,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?ei(a):a,state:i,key:a&&a.key||r||b2()}}function hl({pathname:t="/",search:a="",hash:i=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ei(t){let a={};if(t){let i=t.indexOf("#");i>=0&&(a.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(a.search=t.substring(r),t=t.substring(0,r)),t&&(a.pathname=t)}return a}function S2(t,a,i,r={}){let{window:o=document.defaultView,v5Compat:d=!1}=r,c=o.history,h="POP",p=null,y=g();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function g(){return(c.state||{idx:null}).idx}function x(){h="POP";let N=g(),M=N==null?null:N-y;y=N,p&&p({action:h,location:C.location,delta:M})}function S(N,M){h="PUSH";let L=Ed(C.location,N,M);y=g()+1;let O=hy(L,y),Q=C.createHref(L);try{c.pushState(O,"",Q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(Q)}d&&p&&p({action:h,location:C.location,delta:1})}function j(N,M){h="REPLACE";let L=Ed(C.location,N,M);y=g();let O=hy(L,y),Q=C.createHref(L);c.replaceState(O,"",Q),d&&p&&p({action:h,location:C.location,delta:0})}function E(N){return T2(N)}let C={get action(){return h},get location(){return t(o,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(fy,x),p=N,()=>{o.removeEventListener(fy,x),p=null}},createHref(N){return a(o,N)},createURL:E,encodeLocation(N){let M=E(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:j,go(N){return c.go(N)}};return C}function T2(t,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hl(t);return r=r.replace(/ $/,"%20"),!a&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function ov(t,a,i="/"){return E2(t,a,i,!1)}function E2(t,a,i,r){let o=typeof a=="string"?ei(a):a,d=Kn(o.pathname||"/",i);if(d==null)return null;let c=uv(t);j2(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=z2(d);h=U2(c[p],y,r)}return h}function uv(t,a=[],i=[],r="",o=!1){let d=(c,h,p=o,y)=>{let g={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&p)return;Pe(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let x=Gn([r,g.relativePath]),S=i.concat(g);c.children&&c.children.length>0&&(Pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),uv(c.children,a,S,x,p)),!(c.path==null&&!c.index)&&a.push({path:x,score:D2(x,c.index),routesMeta:S})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))d(c,h);else for(let p of cv(c.path))d(c,h,!0,p)}),a}function cv(t){let a=t.split("/");if(a.length===0)return[];let[i,...r]=a,o=i.endsWith("?"),d=i.replace(/\?$/,"");if(r.length===0)return o?[d,""]:[d];let c=cv(r.join("/")),h=[];return h.push(...c.map(p=>p===""?d:[d,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function j2(t){t.sort((a,i)=>a.score!==i.score?i.score-a.score:M2(a.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var C2=/^:[\w-]+$/,w2=3,A2=2,N2=1,R2=10,O2=-2,my=t=>t==="*";function D2(t,a){let i=t.split("/"),r=i.length;return i.some(my)&&(r+=O2),a&&(r+=A2),i.filter(o=>!my(o)).reduce((o,d)=>o+(C2.test(d)?w2:d===""?N2:R2),r)}function M2(t,a){return t.length===a.length&&t.slice(0,-1).every((r,o)=>r===a[o])?t[t.length-1]-a[a.length-1]:0}function U2(t,a,i=!1){let{routesMeta:r}=t,o={},d="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],y=h===r.length-1,g=d==="/"?a:a.slice(d.length)||"/",x=mo({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},g),S=p.route;if(!x&&y&&i&&!r[r.length-1].route.index&&(x=mo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:Gn([d,x.pathname]),pathnameBase:q2(Gn([d,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(d=Gn([d,x.pathnameBase]))}return c}function mo(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=k2(t.path,t.caseSensitive,t.end),o=a.match(i);if(!o)return null;let d=o[0],c=d.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((y,{paramName:g,isOptional:x},S)=>{if(g==="*"){let E=h[S]||"";c=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const j=h[S];return x&&!j?y[g]=void 0:y[g]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:c,pattern:t}}function k2(t,a=!1,i=!0){rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),r]}function z2(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Kn(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var L2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_2=t=>L2.test(t);function V2(t,a="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?ei(t):t,d;if(i)if(_2(i))d=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?d=py(i.substring(1),"/"):d=py(i,a)}else d=a;return{pathname:d,search:H2(r),hash:P2(o)}}function py(t,a){let i=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ad(t,a,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B2(t){return t.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function sf(t){let a=B2(t);return a.map((i,r)=>r===a.length-1?i.pathname:i.pathnameBase)}function lf(t,a,i,r=!1){let o;typeof t=="string"?o=ei(t):(o={...t},Pe(!o.pathname||!o.pathname.includes("?"),ad("?","pathname","search",o)),Pe(!o.pathname||!o.pathname.includes("#"),ad("#","pathname","hash",o)),Pe(!o.search||!o.search.includes("#"),ad("#","search","hash",o)));let d=t===""||o.pathname==="",c=d?"/":o.pathname,h;if(c==null)h=i;else{let x=a.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),x-=1;o.pathname=S.join("/")}h=x>=0?a[x]:"/"}let p=V2(o,h),y=c&&c!=="/"&&c.endsWith("/"),g=(d||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||g)&&(p.pathname+="/"),p}var Gn=t=>t.join("/").replace(/\/\/+/g,"/"),q2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Q2(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dv=["POST","PUT","PATCH","DELETE"];new Set(dv);var G2=["GET",...dv];new Set(G2);var ti=T.createContext(null);ti.displayName="DataRouter";var Co=T.createContext(null);Co.displayName="DataRouterState";T.createContext(!1);var fv=T.createContext({isTransitioning:!1});fv.displayName="ViewTransition";var K2=T.createContext(new Map);K2.displayName="Fetchers";var Y2=T.createContext(null);Y2.displayName="Await";var on=T.createContext(null);on.displayName="Navigation";var El=T.createContext(null);El.displayName="Location";var mn=T.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var rf=T.createContext(null);rf.displayName="RouteError";function X2(t,{relative:a}={}){Pe(ni(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=T.useContext(on),{hash:o,pathname:d,search:c}=jl(t,{relative:a}),h=d;return i!=="/"&&(h=d==="/"?i:Gn([i,d])),r.createHref({pathname:h,search:c,hash:o})}function ni(){return T.useContext(El)!=null}function Zn(){return Pe(ni(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(El).location}var hv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mv(t){T.useContext(on).static||T.useLayoutEffect(t)}function is(){let{isDataRoute:t}=T.useContext(mn);return t?rT():Z2()}function Z2(){Pe(ni(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ti),{basename:a,navigator:i}=T.useContext(on),{matches:r}=T.useContext(mn),{pathname:o}=Zn(),d=JSON.stringify(sf(r)),c=T.useRef(!1);return mv(()=>{c.current=!0}),T.useCallback((p,y={})=>{if(rn(c.current,hv),!c.current)return;if(typeof p=="number"){i.go(p);return}let g=lf(p,JSON.parse(d),o,y.relative==="path");t==null&&a!=="/"&&(g.pathname=g.pathname==="/"?a:Gn([a,g.pathname])),(y.replace?i.replace:i.push)(g,y.state,y)},[a,i,d,o,t])}T.createContext(null);function of(){let{matches:t}=T.useContext(mn),a=t[t.length-1];return a?a.params:{}}function jl(t,{relative:a}={}){let{matches:i}=T.useContext(mn),{pathname:r}=Zn(),o=JSON.stringify(sf(i));return T.useMemo(()=>lf(t,JSON.parse(o),r,a==="path"),[t,o,r,a])}function J2(t,a){return pv(t,a)}function pv(t,a,i,r,o){Pe(ni(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(on),{matches:c}=T.useContext(mn),h=c[c.length-1],p=h?h.params:{},y=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let L=x&&x.path||"";yv(y,!x||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let S=Zn(),j;if(a){let L=typeof a=="string"?ei(a):a;Pe(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),j=L}else j=S;let E=j.pathname||"/",C=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=ov(t,{pathname:C});rn(x||N!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),rn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=tT(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Gn([g,d.encodeLocation?d.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Gn([g,d.encodeLocation?d.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,i,r,o);return a&&M?T.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},M):M}function $2(){let t=lT(),a=F2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),i?T.createElement("pre",{style:o},i):null,c)}var I2=T.createElement($2,null),W2=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(mn.Provider,{value:this.props.routeContext},T.createElement(rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eT({routeContext:t,match:a,children:i}){let r=T.useContext(ti);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(mn.Provider,{value:t},i)}function tT(t,a=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let d=t,c=i?.errors;if(c!=null){let g=d.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);Pe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let h=!1,p=-1;if(i)for(let g=0;g<d.length;g++){let x=d[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:S,errors:j}=i,E=x.route.loader&&!S.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||E){h=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let y=i&&r?(g,x)=>{r(g,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Q2(i.matches),errorInfo:x})}:void 0;return d.reduceRight((g,x,S)=>{let j,E=!1,C=null,N=null;i&&(j=c&&x.route.id?c[x.route.id]:void 0,C=x.route.errorElement||I2,h&&(p<0&&S===0?(yv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===S&&(E=!0,N=x.route.hydrateFallbackElement||null)));let M=a.concat(d.slice(0,S+1)),L=()=>{let O;return j?O=C:E?O=N:x.route.Component?O=T.createElement(x.route.Component,null):x.route.element?O=x.route.element:O=g,T.createElement(eT,{match:x,routeContext:{outlet:g,matches:M,isDataRoute:i!=null},children:O})};return i&&(x.route.ErrorBoundary||x.route.errorElement||S===0)?T.createElement(W2,{location:i.location,revalidation:i.revalidation,component:C,error:j,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:y}):L()},null)}function uf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(t){let a=T.useContext(ti);return Pe(a,uf(t)),a}function aT(t){let a=T.useContext(Co);return Pe(a,uf(t)),a}function sT(t){let a=T.useContext(mn);return Pe(a,uf(t)),a}function cf(t){let a=sT(t),i=a.matches[a.matches.length-1];return Pe(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function iT(){return cf("useRouteId")}function lT(){let t=T.useContext(rf),a=aT("useRouteError"),i=cf("useRouteError");return t!==void 0?t:a.errors?.[i]}function rT(){let{router:t}=nT("useNavigate"),a=cf("useNavigate"),i=T.useRef(!1);return mv(()=>{i.current=!0}),T.useCallback(async(o,d={})=>{rn(i.current,hv),i.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:a,...d}))},[t,a])}var yy={};function yv(t,a,i){!a&&!yy[t]&&(yy[t]=!0,rn(!1,i))}T.memo(oT);function oT({routes:t,future:a,state:i,unstable_onError:r}){return pv(t,void 0,i,r,a)}function rl({to:t,replace:a,state:i,relative:r}){Pe(ni(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(on);rn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(mn),{pathname:c}=Zn(),h=is(),p=lf(t,sf(d),c,r==="path"),y=JSON.stringify(p);return T.useEffect(()=>{h(JSON.parse(y),{replace:a,state:i,relative:r})},[h,y,r,a,i]),null}function Ot(t){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uT({basename:t="/",children:a=null,location:i,navigationType:r="POP",navigator:o,static:d=!1,unstable_useTransitions:c}){Pe(!ni(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:h,navigator:o,static:d,unstable_useTransitions:c,future:{}}),[h,o,d,c]);typeof i=="string"&&(i=ei(i));let{pathname:y="/",search:g="",hash:x="",state:S=null,key:j="default"}=i,E=T.useMemo(()=>{let C=Kn(y,h);return C==null?null:{location:{pathname:C,search:g,hash:x,state:S,key:j},navigationType:r}},[h,y,g,x,S,j,r]);return rn(E!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(on.Provider,{value:p},T.createElement(El.Provider,{children:a,value:E}))}function cT({children:t,location:a}){return J2(jd(t),a)}function jd(t,a=[]){let i=[];return T.Children.forEach(t,(r,o)=>{if(!T.isValidElement(r))return;let d=[...a,o];if(r.type===T.Fragment){i.push.apply(i,jd(r.props.children,d));return}Pe(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=jd(r.props.children,d)),i.push(c)}),i}var so="get",io="application/x-www-form-urlencoded";function wo(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function dT(t){return wo(t)&&t.tagName.toLowerCase()==="button"}function fT(t){return wo(t)&&t.tagName.toLowerCase()==="form"}function hT(t){return wo(t)&&t.tagName.toLowerCase()==="input"}function mT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pT(t,a){return t.button===0&&(!a||a==="_self")&&!mT(t)}var $r=null;function yT(){if($r===null)try{new FormData(document.createElement("form"),0),$r=!1}catch{$r=!0}return $r}var gT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(t){return t!=null&&!gT.has(t)?(rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${io}"`),null):t}function vT(t,a){let i,r,o,d,c;if(fT(t)){let h=t.getAttribute("action");r=h?Kn(h,a):null,i=t.getAttribute("method")||so,o=sd(t.getAttribute("enctype"))||io,d=new FormData(t)}else if(dT(t)||hT(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?Kn(p,a):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||so,o=sd(t.getAttribute("formenctype"))||sd(h.getAttribute("enctype"))||io,d=new FormData(h,t),!yT()){let{name:y,type:g,value:x}=t;if(g==="image"){let S=y?`${y}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else y&&d.append(y,x)}}else{if(wo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=so,r=null,o=io,c=t}return d&&o==="text/plain"&&(c=d,d=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:d,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function df(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function xT(t,a,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${i}`:a&&Kn(r.pathname,a)==="/"?r.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function bT(t,a){if(t.id in a)return a[t.id];try{let i=await import(t.module);return a[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ST(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TT(t,a,i){let r=await Promise.all(t.map(async o=>{let d=a.routes[o.route.id];if(d){let c=await bT(d,i);return c.links?c.links():[]}return[]}));return wT(r.flat(1).filter(ST).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(t,a,i,r,o,d){let c=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,h=(p,y)=>i[y].pathname!==p.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==p.params["*"];return d==="assets"?a.filter((p,y)=>c(p,y)||h(p,y)):d==="data"?a.filter((p,y)=>{let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ET(t,a,{includeHydrateFallback:i}={}){return jT(t.map(r=>{let o=a.routes[r.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function jT(t){return[...new Set(t)]}function CT(t){let a={},i=Object.keys(t).sort();for(let r of i)a[r]=t[r];return a}function wT(t,a){let i=new Set;return new Set(a),t.reduce((r,o)=>{let d=JSON.stringify(CT(o));return i.has(d)||(i.add(d),r.push({key:d,link:o})),r},[])}function gv(){let t=T.useContext(ti);return df(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AT(){let t=T.useContext(Co);return df(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ff=T.createContext(void 0);ff.displayName="FrameworkContext";function vv(){let t=T.useContext(ff);return df(t,"You must render this element inside a <HydratedRouter> element"),t}function NT(t,a){let i=T.useContext(ff),[r,o]=T.useState(!1),[d,c]=T.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:g,onTouchStart:x}=a,S=T.useRef(null);T.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=M=>{M.forEach(L=>{c(L.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[t]),T.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let j=()=>{o(!0)},E=()=>{o(!1),c(!1)};return i?t!=="intent"?[d,S,{}]:[d,S,{onFocus:sl(h,j),onBlur:sl(p,E),onMouseEnter:sl(y,j),onMouseLeave:sl(g,E),onTouchStart:sl(x,j)}]:[!1,S,{}]}function sl(t,a){return i=>{t&&t(i),i.defaultPrevented||a(i)}}function RT({page:t,...a}){let{router:i}=gv(),r=T.useMemo(()=>ov(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?T.createElement(DT,{page:t,matches:r,...a}):null}function OT(t){let{manifest:a,routeModules:i}=vv(),[r,o]=T.useState([]);return T.useEffect(()=>{let d=!1;return TT(t,a,i).then(c=>{d||o(c)}),()=>{d=!0}},[t,a,i]),r}function DT({page:t,matches:a,...i}){let r=Zn(),{manifest:o,routeModules:d}=vv(),{basename:c}=gv(),{loaderData:h,matches:p}=AT(),y=T.useMemo(()=>gy(t,a,p,o,r,"data"),[t,a,p,o,r]),g=T.useMemo(()=>gy(t,a,p,o,r,"assets"),[t,a,p,o,r]),x=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(a.forEach(M=>{let L=o.routes[M.route.id];!L||!L.hasLoader||(!y.some(O=>O.route.id===M.route.id)&&M.route.id in h&&d[M.route.id]?.shouldRevalidate||L.hasClientLoader?C=!0:E.add(M.route.id))}),E.size===0)return[];let N=xT(t,c,"data");return C&&E.size>0&&N.searchParams.set("_routes",a.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[c,h,r,o,y,a,t,d]),S=T.useMemo(()=>ET(g,o),[g,o]),j=OT(g);return T.createElement(T.Fragment,null,x.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),S.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),j.map(({key:E,link:C})=>T.createElement("link",{key:E,nonce:i.nonce,...C})))}function MT(...t){return a=>{t.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xv&&(window.__reactRouterVersion="7.10.0")}catch{}function UT({basename:t,children:a,unstable_useTransitions:i,window:r}){let o=T.useRef();o.current==null&&(o.current=x2({window:r,v5Compat:!0}));let d=o.current,[c,h]=T.useState({action:d.action,location:d.location}),p=T.useCallback(y=>{i===!1?h(y):T.startTransition(()=>h(y))},[i]);return T.useLayoutEffect(()=>d.listen(p),[d,p]),T.createElement(uT,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:d,unstable_useTransitions:i===!0})}var bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=T.forwardRef(function({onClick:a,discover:i="render",prefetch:r="none",relative:o,reloadDocument:d,replace:c,state:h,target:p,to:y,preventScrollReset:g,viewTransition:x,...S},j){let{basename:E,unstable_useTransitions:C}=T.useContext(on),N=typeof y=="string"&&bv.test(y),M,L=!1;if(typeof y=="string"&&N&&(M=y,xv))try{let oe=new URL(window.location.href),be=y.startsWith("//")?new URL(oe.protocol+y):new URL(y),te=Kn(be.pathname,E);be.origin===oe.origin&&te!=null?y=te+be.search+be.hash:L=!0}catch{rn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=X2(y,{relative:o}),[Q,Z,J]=NT(r,S),K=_T(y,{replace:c,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:x,unstable_useTransitions:C});function $(oe){a&&a(oe),oe.defaultPrevented||K(oe)}let le=T.createElement("a",{...S,...J,href:M||O,onClick:L||d?a:$,ref:MT(j,Z),target:p,"data-discover":!N&&i==="render"?"true":void 0});return Q&&!N?T.createElement(T.Fragment,null,le,T.createElement(RT,{page:O})):le});Je.displayName="Link";var kT=T.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:r="",end:o=!1,style:d,to:c,viewTransition:h,children:p,...y},g){let x=jl(c,{relative:y.relative}),S=Zn(),j=T.useContext(Co),{navigator:E,basename:C}=T.useContext(on),N=j!=null&&PT(x)&&h===!0,M=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,L=S.pathname,O=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(L=L.toLowerCase(),O=O?O.toLowerCase():null,M=M.toLowerCase()),O&&C&&(O=Kn(O,C)||O);const Q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Z=L===M||!o&&L.startsWith(M)&&L.charAt(Q)==="/",J=O!=null&&(O===M||!o&&O.startsWith(M)&&O.charAt(M.length)==="/"),K={isActive:Z,isPending:J,isTransitioning:N},$=Z?a:void 0,le;typeof r=="function"?le=r(K):le=[r,Z?"active":null,J?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let oe=typeof d=="function"?d(K):d;return T.createElement(Je,{...y,"aria-current":$,className:le,ref:g,style:oe,to:c,viewTransition:h},typeof p=="function"?p(K):p)});kT.displayName="NavLink";var zT=T.forwardRef(({discover:t="render",fetcherKey:a,navigate:i,reloadDocument:r,replace:o,state:d,method:c=so,action:h,onSubmit:p,relative:y,preventScrollReset:g,viewTransition:x,...S},j)=>{let{unstable_useTransitions:E}=T.useContext(on),C=qT(),N=HT(h,{relative:y}),M=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&bv.test(h),O=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let Z=Q.nativeEvent.submitter,J=Z?.getAttribute("formmethod")||c,K=()=>C(Z||Q.currentTarget,{fetcherKey:a,method:J,navigate:i,replace:o,state:d,relative:y,preventScrollReset:g,viewTransition:x});E&&i!==!1?T.startTransition(()=>K()):K()};return T.createElement("form",{ref:j,method:M,action:N,onSubmit:r?p:O,...S,"data-discover":!L&&t==="render"?"true":void 0})});zT.displayName="Form";function LT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sv(t){let a=T.useContext(ti);return Pe(a,LT(t)),a}function _T(t,{target:a,replace:i,state:r,preventScrollReset:o,relative:d,viewTransition:c,unstable_useTransitions:h}={}){let p=is(),y=Zn(),g=jl(t,{relative:d});return T.useCallback(x=>{if(pT(x,a)){x.preventDefault();let S=i!==void 0?i:hl(y)===hl(g),j=()=>p(t,{replace:S,state:r,preventScrollReset:o,relative:d,viewTransition:c});h?T.startTransition(()=>j()):j()}},[y,p,g,i,r,a,t,o,d,c,h])}var VT=0,BT=()=>`__${String(++VT)}__`;function qT(){let{router:t}=Sv("useSubmit"),{basename:a}=T.useContext(on),i=iT(),r=t.fetch,o=t.navigate;return T.useCallback(async(d,c={})=>{let{action:h,method:p,encType:y,formData:g,body:x}=vT(d,a);if(c.navigate===!1){let S=c.fetcherKey||BT();await r(S,i,c.action||h,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||p,formEncType:c.encType||y,flushSync:c.flushSync})}else await o(c.action||h,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||p,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,a,i])}function HT(t,{relative:a}={}){let{basename:i}=T.useContext(on),r=T.useContext(mn);Pe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),d={...jl(t||".",{relative:a})},c=Zn();if(t==null){d.search=c.search;let h=new URLSearchParams(d.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();d.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Gn([i,d.pathname])),hl(d)}function PT(t,{relative:a}={}){let i=T.useContext(fv);Pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Sv("useViewTransitionState"),o=jl(t,{relative:a});if(!i.isTransitioning)return!1;let d=Kn(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Kn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return mo(o.pathname,c)!=null||mo(o.pathname,d)!=null}var ai=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FT={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},QT=class{#e=FT;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},Za=new QT;function GT(t){setTimeout(t,0)}var ns=typeof window>"u"||"Deno"in globalThis;function bt(){}function KT(t,a){return typeof t=="function"?t(a):t}function Cd(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tv(t,a){return Math.max(t+(a||0)-Date.now(),0)}function ja(t,a){return typeof t=="function"?t(a):t}function an(t,a){return typeof t=="function"?t(a):t}function vy(t,a){const{type:i="all",exact:r,fetchStatus:o,predicate:d,queryKey:c,stale:h}=t;if(c){if(r){if(a.queryHash!==hf(c,a.options))return!1}else if(!ml(a.queryKey,c))return!1}if(i!=="all"){const p=a.isActive();if(i==="active"&&!p||i==="inactive"&&p)return!1}return!(typeof h=="boolean"&&a.isStale()!==h||o&&o!==a.state.fetchStatus||d&&!d(a))}function xy(t,a){const{exact:i,status:r,predicate:o,mutationKey:d}=t;if(d){if(!a.options.mutationKey)return!1;if(i){if(as(a.options.mutationKey)!==as(d))return!1}else if(!ml(a.options.mutationKey,d))return!1}return!(r&&a.state.status!==r||o&&!o(a))}function hf(t,a){return(a?.queryKeyHashFn||as)(t)}function as(t){return JSON.stringify(t,(a,i)=>wd(i)?Object.keys(i).sort().reduce((r,o)=>(r[o]=i[o],r),{}):i)}function ml(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(i=>ml(t[i],a[i])):!1}var YT=Object.prototype.hasOwnProperty;function Ev(t,a){if(t===a)return t;const i=by(t)&&by(a);if(!i&&!(wd(t)&&wd(a)))return a;const o=(i?t:Object.keys(t)).length,d=i?a:Object.keys(a),c=d.length,h=i?new Array(c):{};let p=0;for(let y=0;y<c;y++){const g=i?y:d[y],x=t[g],S=a[g];if(x===S){h[g]=x,(i?y<o:YT.call(t,g))&&p++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){h[g]=S;continue}const j=Ev(x,S);h[g]=j,j===x&&p++}return o===c&&p===o?t:h}function po(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const i in t)if(t[i]!==a[i])return!1;return!0}function by(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wd(t){if(!Sy(t))return!1;const a=t.constructor;if(a===void 0)return!0;const i=a.prototype;return!(!Sy(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Sy(t){return Object.prototype.toString.call(t)==="[object Object]"}function XT(t){return new Promise(a=>{Za.setTimeout(a,t)})}function Ad(t,a,i){return typeof i.structuralSharing=="function"?i.structuralSharing(t,a):i.structuralSharing!==!1?Ev(t,a):a}function ZT(t,a,i=0){const r=[...t,a];return i&&r.length>i?r.slice(1):r}function JT(t,a,i=0){const r=[a,...t];return i&&r.length>i?r.slice(0,-1):r}var mf=Symbol();function jv(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===mf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Cv(t,a){return typeof t=="function"?t(...a):!!t}var $T=class extends ai{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ns&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pf=new $T;function Nd(){let t,a;const i=new Promise((o,d)=>{t=o,a=d});i.status="pending",i.catch(()=>{});function r(o){Object.assign(i,o),delete i.resolve,delete i.reject}return i.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},i.reject=o=>{r({status:"rejected",reason:o}),a(o)},i}var IT=GT;function WT(){let t=[],a=0,i=h=>{h()},r=h=>{h()},o=IT;const d=h=>{a?t.push(h):o(()=>{i(h)})},c=()=>{const h=t;t=[],h.length&&o(()=>{r(()=>{h.forEach(p=>{i(p)})})})};return{batch:h=>{let p;a++;try{p=h()}finally{a--,a||c()}return p},batchCalls:h=>(...p)=>{d(()=>{h(...p)})},schedule:d,setNotifyFunction:h=>{i=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{o=h}}}var lt=WT(),eE=class extends ai{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ns&&window.addEventListener){const a=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(i=>{i(t)}))}isOnline(){return this.#e}},yo=new eE;function tE(t){return Math.min(1e3*2**t,3e4)}function wv(t){return(t??"online")==="online"?yo.isOnline():!0}var Rd=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Av(t){let a=!1,i=0,r;const o=Nd(),d=()=>o.status!=="pending",c=C=>{if(!d()){const N=new Rd(C);S(N),t.onCancel?.(N)}},h=()=>{a=!0},p=()=>{a=!1},y=()=>pf.isFocused()&&(t.networkMode==="always"||yo.isOnline())&&t.canRun(),g=()=>wv(t.networkMode)&&t.canRun(),x=C=>{d()||(r?.(),o.resolve(C))},S=C=>{d()||(r?.(),o.reject(C))},j=()=>new Promise(C=>{r=N=>{(d()||y())&&C(N)},t.onPause?.()}).then(()=>{r=void 0,d()||t.onContinue?.()}),E=()=>{if(d())return;let C;const N=i===0?t.initialPromise:void 0;try{C=N??t.fn()}catch(M){C=Promise.reject(M)}Promise.resolve(C).then(x).catch(M=>{if(d())return;const L=t.retry??(ns?0:3),O=t.retryDelay??tE,Q=typeof O=="function"?O(i,M):O,Z=L===!0||typeof L=="number"&&i<L||typeof L=="function"&&L(i,M);if(a||!Z){S(M);return}i++,t.onFail?.(i,M),XT(Q).then(()=>y()?void 0:j()).then(()=>{a?S(M):E()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(r?.(),o),cancelRetry:h,continueRetry:p,canStart:g,start:()=>(g()?E():j().then(E),o)}}var Nv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cd(this.gcTime)&&(this.#e=Za.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ns?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Za.clearTimeout(this.#e),this.#e=void 0)}},nE=class extends Nv{#e;#t;#n;#s;#a;#l;#r;constructor(t){super(),this.#r=!1,this.#l=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Ey(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#l,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Ey(this.options);a.data!==void 0&&(this.setState(Ty(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const i=Ad(this.state.data,t,this.options);return this.#i({data:i,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),i}setState(t,a){this.#i({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(bt).catch(bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>an(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ja(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tv(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#r?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#r=!0,i.signal)})},o=()=>{const h=jv(this.options,a),y=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#r=!1,this.options.persister?this.options.persister(h,y,this):h(y)},c=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return r(h),h})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#a=Av({initialPromise:a?.initialPromise,fn:c.fetchFn,onCancel:h=>{h instanceof Rd&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(h,p)=>{this.#i({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Rd){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(t){const a=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Rv(i.data,this.options),fetchMeta:t.meta??null};case"success":const r={...i,...Ty(t.data,t.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const o=t.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=a(this.state),lt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Rv(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wv(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ty(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ey(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,i=a!==void 0,r=i?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:i?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var aE=class extends ai{constructor(t,a){super(),this.options=a,this.#e=t,this.#i=null,this.#r=Nd(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#r;#i;#p;#f;#h;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),jy(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Od(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Od(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#t.setOptions(this.options),a._defaulted&&!po(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Cy(this.#t,i,this.options,a)&&this.#d(),this.updateResult(),r&&(this.#t!==i||an(this.options.enabled,this.#t)!==an(a.enabled,this.#t)||ja(this.options.staleTime,this.#t)!==ja(a.staleTime,this.#t))&&this.#y();const o=this.#g();r&&(this.#t!==i||an(this.options.enabled,this.#t)!==an(a.enabled,this.#t)||o!==this.#o)&&this.#v(o)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),i=this.createResult(a,t);return iE(this,i)&&(this.#s=i,this.#l=this.options,this.#a=this.#t.state),i}getCurrentResult(){return this.#s}trackResult(t,a){return new Proxy(t,{get:(i,r)=>(this.trackProp(r),a?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),i=this.#e.getQueryCache().build(this.#e,a);return i.fetch().then(()=>this.createResult(i,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#T();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(bt)),a}#y(){this.#b();const t=ja(this.options.staleTime,this.#t);if(ns||this.#s.isStale||!Cd(t))return;const i=Tv(this.#s.dataUpdatedAt,t)+1;this.#u=Za.setTimeout(()=>{this.#s.isStale||this.updateResult()},i)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#o=t,!(ns||an(this.options.enabled,this.#t)===!1||!Cd(this.#o)||this.#o===0)&&(this.#c=Za.setInterval(()=>{(this.options.refetchIntervalInBackground||pf.isFocused())&&this.#d()},this.#o))}#x(){this.#y(),this.#v(this.#g())}#b(){this.#u&&(Za.clearTimeout(this.#u),this.#u=void 0)}#S(){this.#c&&(Za.clearInterval(this.#c),this.#c=void 0)}createResult(t,a){const i=this.#t,r=this.options,o=this.#s,d=this.#a,c=this.#l,p=t!==i?t.state:this.#n,{state:y}=t;let g={...y},x=!1,S;if(a._optimisticResults){const $=this.hasListeners(),le=!$&&jy(t,a),oe=$&&Cy(t,i,a,r);(le||oe)&&(g={...g,...Rv(y.data,t.options)}),a._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:j,errorUpdatedAt:E,status:C}=g;S=g.data;let N=!1;if(a.placeholderData!==void 0&&S===void 0&&C==="pending"){let $;o?.isPlaceholderData&&a.placeholderData===c?.placeholderData?($=o.data,N=!0):$=typeof a.placeholderData=="function"?a.placeholderData(this.#h?.state.data,this.#h):a.placeholderData,$!==void 0&&(C="success",S=Ad(o?.data,$,a),x=!0)}if(a.select&&S!==void 0&&!N)if(o&&S===d?.data&&a.select===this.#p)S=this.#f;else try{this.#p=a.select,S=a.select(S),S=Ad(o?.data,S,a),this.#f=S,this.#i=null}catch($){this.#i=$}this.#i&&(j=this.#i,S=this.#f,E=Date.now(),C="error");const M=g.fetchStatus==="fetching",L=C==="pending",O=C==="error",Q=L&&M,Z=S!==void 0,K={status:C,fetchStatus:g.fetchStatus,isPending:L,isSuccess:C==="success",isError:O,isInitialLoading:Q,isLoading:Q,data:S,dataUpdatedAt:g.dataUpdatedAt,error:j,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:M,isRefetching:M&&!L,isLoadingError:O&&!Z,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:O&&Z,isStale:yf(t,a),refetch:this.refetch,promise:this.#r,isEnabled:an(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=be=>{K.status==="error"?be.reject(K.error):K.data!==void 0&&be.resolve(K.data)},le=()=>{const be=this.#r=K.promise=Nd();$(be)},oe=this.#r;switch(oe.status){case"pending":t.queryHash===i.queryHash&&$(oe);break;case"fulfilled":(K.status==="error"||K.data!==oe.value)&&le();break;case"rejected":(K.status!=="error"||K.error!==oe.reason)&&le();break}}return K}updateResult(){const t=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#h=this.#t),po(a,t))return;this.#s=a;const i=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#m.size)return!0;const d=new Set(o??this.#m);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(c=>{const h=c;return this.#s[h]!==t[h]&&d.has(h)})};this.#E({listeners:i()})}#T(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#E(t){lt.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function sE(t,a){return an(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function jy(t,a){return sE(t,a)||t.state.data!==void 0&&Od(t,a,a.refetchOnMount)}function Od(t,a,i){if(an(a.enabled,t)!==!1&&ja(a.staleTime,t)!=="static"){const r=typeof i=="function"?i(t):i;return r==="always"||r!==!1&&yf(t,a)}return!1}function Cy(t,a,i,r){return(t!==a||an(r.enabled,t)===!1)&&(!i.suspense||t.state.status!=="error")&&yf(t,i)}function yf(t,a){return an(a.enabled,t)!==!1&&t.isStaleByTime(ja(a.staleTime,t))}function iE(t,a){return!po(t.getCurrentResult(),a)}function wy(t){return{onFetch:(a,i)=>{const r=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],c=a.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const y=async()=>{let g=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(a.signal.aborted?g=!0:a.signal.addEventListener("abort",()=>{g=!0}),a.signal)})},S=jv(a.options,a.fetchOptions),j=async(E,C,N)=>{if(g)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const L=(()=>{const J={client:a.client,queryKey:a.queryKey,pageParam:C,direction:N?"backward":"forward",meta:a.options.meta};return x(J),J})(),O=await S(L),{maxPages:Q}=a.options,Z=N?JT:ZT;return{pages:Z(E.pages,O,Q),pageParams:Z(E.pageParams,C,Q)}};if(o&&d.length){const E=o==="backward",C=E?lE:Ay,N={pages:d,pageParams:c},M=C(r,N);h=await j(N,M,E)}else{const E=t??d.length;do{const C=p===0?c[0]??r.initialPageParam:Ay(r,h);if(p>0&&C==null)break;h=await j(h,C),p++}while(p<E)}return h};a.options.persister?a.fetchFn=()=>a.options.persister?.(y,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},i):a.fetchFn=y}}}function Ay(t,{pages:a,pageParams:i}){const r=a.length-1;return a.length>0?t.getNextPageParam(a[r],a,i[r],i):void 0}function lE(t,{pages:a,pageParams:i}){return a.length>0?t.getPreviousPageParam?.(a[0],a,i[0],i):void 0}var rE=class extends Nv{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||Ov(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Av({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(d,c)=>{this.#a({type:"failed",failureCount:d,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",o=!this.#s.canStart();try{if(r)a();else{this.#a({type:"pending",variables:t,isPaused:o}),await this.#n.config.onMutate?.(t,this,i);const c=await this.options.onMutate?.(t,i);c!==this.state.context&&this.#a({type:"pending",context:c,variables:t,isPaused:o})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,t,this.state.context,this,i),await this.options.onSuccess?.(d,t,this.state.context,i),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(d,null,t,this.state.context,i),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,t,this.state.context,this,i),await this.options.onError?.(d,t,this.state.context,i),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,d,t,this.state.context,i),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(t){const a=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),lt.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function Ov(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oE=class extends ai{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,i){const r=new rE({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:i});return this.add(r),r}add(t){this.#e.add(t);const a=Ir(t);if(typeof a=="string"){const i=this.#t.get(a);i?i.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Ir(t);if(typeof a=="string"){const i=this.#t.get(a);if(i)if(i.length>1){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}else i[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Ir(t);if(typeof a=="string"){const r=this.#t.get(a)?.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){const a=Ir(t);return typeof a=="string"?this.#t.get(a)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(i=>xy(a,i))}findAll(t={}){return this.getAll().filter(a=>xy(t,a))}notify(t){lt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return lt.batch(()=>Promise.all(t.map(a=>a.continue().catch(bt))))}};function Ir(t){return t.options.scope?.id}var uE=class extends ai{#e;#t=void 0;#n;#s;constructor(a,i){super(),this.#e=a,this.setOptions(i),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const i=this.options;this.options=this.#e.defaultMutationOptions(a),po(this.options,i)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),i?.mutationKey&&this.options.mutationKey&&as(i.mutationKey)!==as(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,i){return this.#s=i,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??Ov();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){lt.batch(()=>{if(this.#s&&this.hasListeners()){const i=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,i,r,o),this.#s.onSettled?.(a.data,null,i,r,o)):a?.type==="error"&&(this.#s.onError?.(a.error,i,r,o),this.#s.onSettled?.(void 0,a.error,i,r,o))}this.listeners.forEach(i=>{i(this.#t)})})}},cE=class extends ai{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,i){const r=a.queryKey,o=a.queryHash??hf(r,a);let d=this.get(o);return d||(d=new nE({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(a),state:i,defaultOptions:t.getQueryDefaults(r)}),this.add(d)),d}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(i=>vy(a,i))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(i=>vy(t,i)):a}notify(t){lt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},dE=class{#e;#t;#n;#s;#a;#l;#r;#i;constructor(t={}){this.#e=t.queryCache||new cE,this.#t=t.mutationCache||new oE,this.#n=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=pf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=yo.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),i=this.#e.build(this,a),r=i.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&i.isStaleByTime(ja(a.staleTime,i))&&this.prefetchQuery(a),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:i})=>{const r=i.data;return[a,r]})}setQueryData(t,a,i){const r=this.defaultQueryOptions({queryKey:t}),d=this.#e.get(r.queryHash)?.state.data,c=KT(a,d);if(c!==void 0)return this.#e.build(this,r).setData(c,{...i,manual:!0})}setQueriesData(t,a,i){return lt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,a,i)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;lt.batch(()=>{a.findAll(t).forEach(i=>{a.remove(i)})})}resetQueries(t,a){const i=this.#e;return lt.batch(()=>(i.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const i={revert:!0,...a},r=lt.batch(()=>this.#e.findAll(t).map(o=>o.cancel(i)));return Promise.all(r).then(bt).catch(bt)}invalidateQueries(t,a={}){return lt.batch(()=>(this.#e.findAll(t).forEach(i=>{i.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const i={...a,cancelRefetch:a.cancelRefetch??!0},r=lt.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,i);return i.throwOnError||(d=d.catch(bt)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(r).then(bt)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const i=this.#e.build(this,a);return i.isStaleByTime(ja(a.staleTime,i))?i.fetch(a):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bt).catch(bt)}fetchInfiniteQuery(t){return t.behavior=wy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bt).catch(bt)}ensureInfiniteQueryData(t){return t.behavior=wy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yo.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#s.set(as(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#s.values()],i={};return a.forEach(r=>{ml(t,r.queryKey)&&Object.assign(i,r.defaultOptions)}),i}setMutationDefaults(t,a){this.#a.set(as(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],i={};return a.forEach(r=>{ml(t,r.mutationKey)&&Object.assign(i,r.defaultOptions)}),i}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=hf(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===mf&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Dv=T.createContext(void 0),Qt=t=>{const a=T.useContext(Dv);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},fE=({client:t,children:a})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(Dv.Provider,{value:t,children:a})),Mv=T.createContext(!1),hE=()=>T.useContext(Mv);Mv.Provider;function mE(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pE=T.createContext(mE()),yE=()=>T.useContext(pE),gE=(t,a)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(a.isReset()||(t.retryOnMount=!1))},vE=t=>{T.useEffect(()=>{t.clearReset()},[t])},xE=({result:t,errorResetBoundary:a,throwOnError:i,query:r,suspense:o})=>t.isError&&!a.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||Cv(i,[t.error,r])),bE=t=>{if(t.suspense){const i=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>i(r(...o)):i(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},SE=(t,a)=>t.isLoading&&t.isFetching&&!a,TE=(t,a)=>t?.suspense&&a.isPending,Ny=(t,a,i)=>a.fetchOptimistic(t).catch(()=>{i.clearReset()});function EE(t,a,i){const r=hE(),o=yE(),d=Qt(),c=d.defaultQueryOptions(t);d.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=r?"isRestoring":"optimistic",bE(c),gE(c,o),vE(o);const h=!d.getQueryCache().get(c.queryHash),[p]=T.useState(()=>new a(d,c)),y=p.getOptimisticResult(c),g=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const S=g?p.subscribe(lt.batchCalls(x)):bt;return p.updateResult(),S},[p,g]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),T.useEffect(()=>{p.setOptions(c)},[c,p]),TE(c,y))throw Ny(c,p,o);if(xE({result:y,errorResetBoundary:o,throwOnError:c.throwOnError,query:d.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw y.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(c,y),c.experimental_prefetchInRender&&!ns&&SE(y,r)&&(h?Ny(c,p,o):d.getQueryCache().get(c.queryHash)?.promise)?.catch(bt).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?y:p.trackResult(y)}function St(t,a){return EE(t,aE)}function Ae(t,a){const i=Qt(),[r]=T.useState(()=>new uE(i,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const o=T.useSyncExternalStore(T.useCallback(c=>r.subscribe(lt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),d=T.useCallback((c,h)=>{r.mutate(c,h).catch(bt)},[r]);if(o.error&&Cv(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}function Uv(t,a){return function(){return t.apply(a,arguments)}}const{toString:jE}=Object.prototype,{getPrototypeOf:gf}=Object,{iterator:Ao,toStringTag:kv}=Symbol,No=(t=>a=>{const i=jE.call(a);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),pn=t=>(t=t.toLowerCase(),a=>No(a)===t),Ro=t=>a=>typeof a===t,{isArray:si}=Array,$s=Ro("undefined");function Cl(t){return t!==null&&!$s(t)&&t.constructor!==null&&!$s(t.constructor)&&Mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zv=pn("ArrayBuffer");function CE(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&zv(t.buffer),a}const wE=Ro("string"),Mt=Ro("function"),Lv=Ro("number"),wl=t=>t!==null&&typeof t=="object",AE=t=>t===!0||t===!1,lo=t=>{if(No(t)!=="object")return!1;const a=gf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(kv in t)&&!(Ao in t)},NE=t=>{if(!wl(t)||Cl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},RE=pn("Date"),OE=pn("File"),DE=pn("Blob"),ME=pn("FileList"),UE=t=>wl(t)&&Mt(t.pipe),kE=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Mt(t.append)&&((a=No(t))==="formdata"||a==="object"&&Mt(t.toString)&&t.toString()==="[object FormData]"))},zE=pn("URLSearchParams"),[LE,_E,VE,BE]=["ReadableStream","Request","Response","Headers"].map(pn),qE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Al(t,a,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),si(t))for(r=0,o=t.length;r<o;r++)a.call(null,t[r],r,t);else{if(Cl(t))return;const d=i?Object.getOwnPropertyNames(t):Object.keys(t),c=d.length;let h;for(r=0;r<c;r++)h=d[r],a.call(null,t[h],h,t)}}function _v(t,a){if(Cl(t))return null;a=a.toLowerCase();const i=Object.keys(t);let r=i.length,o;for(;r-- >0;)if(o=i[r],a===o.toLowerCase())return o;return null}const Ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vv=t=>!$s(t)&&t!==Ja;function Dd(){const{caseless:t,skipUndefined:a}=Vv(this)&&this||{},i={},r=(o,d)=>{const c=t&&_v(i,d)||d;lo(i[c])&&lo(o)?i[c]=Dd(i[c],o):lo(o)?i[c]=Dd({},o):si(o)?i[c]=o.slice():(!a||!$s(o))&&(i[c]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&Al(arguments[o],r);return i}const HE=(t,a,i,{allOwnKeys:r}={})=>(Al(a,(o,d)=>{i&&Mt(o)?t[d]=Uv(o,i):t[d]=o},{allOwnKeys:r}),t),PE=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FE=(t,a,i,r)=>{t.prototype=Object.create(a.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),i&&Object.assign(t.prototype,i)},QE=(t,a,i,r)=>{let o,d,c;const h={};if(a=a||{},t==null)return a;do{for(o=Object.getOwnPropertyNames(t),d=o.length;d-- >0;)c=o[d],(!r||r(c,t,a))&&!h[c]&&(a[c]=t[c],h[c]=!0);t=i!==!1&&gf(t)}while(t&&(!i||i(t,a))&&t!==Object.prototype);return a},GE=(t,a,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=a.length;const r=t.indexOf(a,i);return r!==-1&&r===i},KE=t=>{if(!t)return null;if(si(t))return t;let a=t.length;if(!Lv(a))return null;const i=new Array(a);for(;a-- >0;)i[a]=t[a];return i},YE=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&gf(Uint8Array)),XE=(t,a)=>{const r=(t&&t[Ao]).call(t);let o;for(;(o=r.next())&&!o.done;){const d=o.value;a.call(t,d[0],d[1])}},ZE=(t,a)=>{let i;const r=[];for(;(i=t.exec(a))!==null;)r.push(i);return r},JE=pn("HTMLFormElement"),$E=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,o){return r.toUpperCase()+o}),Ry=(({hasOwnProperty:t})=>(a,i)=>t.call(a,i))(Object.prototype),IE=pn("RegExp"),Bv=(t,a)=>{const i=Object.getOwnPropertyDescriptors(t),r={};Al(i,(o,d)=>{let c;(c=a(o,d,t))!==!1&&(r[d]=c||o)}),Object.defineProperties(t,r)},WE=t=>{Bv(t,(a,i)=>{if(Mt(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=t[i];if(Mt(r)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},ej=(t,a)=>{const i={},r=o=>{o.forEach(d=>{i[d]=!0})};return si(t)?r(t):r(String(t).split(a)),i},tj=()=>{},nj=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function aj(t){return!!(t&&Mt(t.append)&&t[kv]==="FormData"&&t[Ao])}const sj=t=>{const a=new Array(10),i=(r,o)=>{if(wl(r)){if(a.indexOf(r)>=0)return;if(Cl(r))return r;if(!("toJSON"in r)){a[o]=r;const d=si(r)?[]:{};return Al(r,(c,h)=>{const p=i(c,o+1);!$s(p)&&(d[h]=p)}),a[o]=void 0,d}}return r};return i(t,0)},ij=pn("AsyncFunction"),lj=t=>t&&(wl(t)||Mt(t))&&Mt(t.then)&&Mt(t.catch),qv=((t,a)=>t?setImmediate:a?((i,r)=>(Ja.addEventListener("message",({source:o,data:d})=>{o===Ja&&d===i&&r.length&&r.shift()()},!1),o=>{r.push(o),Ja.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Mt(Ja.postMessage)),rj=typeof queueMicrotask<"u"?queueMicrotask.bind(Ja):typeof process<"u"&&process.nextTick||qv,oj=t=>t!=null&&Mt(t[Ao]),V={isArray:si,isArrayBuffer:zv,isBuffer:Cl,isFormData:kE,isArrayBufferView:CE,isString:wE,isNumber:Lv,isBoolean:AE,isObject:wl,isPlainObject:lo,isEmptyObject:NE,isReadableStream:LE,isRequest:_E,isResponse:VE,isHeaders:BE,isUndefined:$s,isDate:RE,isFile:OE,isBlob:DE,isRegExp:IE,isFunction:Mt,isStream:UE,isURLSearchParams:zE,isTypedArray:YE,isFileList:ME,forEach:Al,merge:Dd,extend:HE,trim:qE,stripBOM:PE,inherits:FE,toFlatObject:QE,kindOf:No,kindOfTest:pn,endsWith:GE,toArray:KE,forEachEntry:XE,matchAll:ZE,isHTMLForm:JE,hasOwnProperty:Ry,hasOwnProp:Ry,reduceDescriptors:Bv,freezeMethods:WE,toObjectSet:ej,toCamelCase:$E,noop:tj,toFiniteNumber:nj,findKey:_v,global:Ja,isContextDefined:Vv,isSpecCompliantForm:aj,toJSONObject:sj,isAsyncFn:ij,isThenable:lj,setImmediate:qv,asap:rj,isIterable:oj};function ye(t,a,i,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),i&&(this.config=i),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}V.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Hv=ye.prototype,Pv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Pv[t]={value:t}});Object.defineProperties(ye,Pv);Object.defineProperty(Hv,"isAxiosError",{value:!0});ye.from=(t,a,i,r,o,d)=>{const c=Object.create(Hv);V.toFlatObject(t,c,function(g){return g!==Error.prototype},y=>y!=="isAxiosError");const h=t&&t.message?t.message:"Error",p=a==null&&t?t.code:a;return ye.call(c,h,p,i,r,o),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",d&&Object.assign(c,d),c};const uj=null;function Md(t){return V.isPlainObject(t)||V.isArray(t)}function Fv(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Oy(t,a,i){return t?t.concat(a).map(function(o,d){return o=Fv(o),!i&&d?"["+o+"]":o}).join(i?".":""):a}function cj(t){return V.isArray(t)&&!t.some(Md)}const dj=V.toFlatObject(V,{},null,function(a){return/^is[A-Z]/.test(a)});function Oo(t,a,i){if(!V.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,i=V.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,N){return!V.isUndefined(N[C])});const r=i.metaTokens,o=i.visitor||g,d=i.dots,c=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(a);if(!V.isFunction(o))throw new TypeError("visitor must be a function");function y(E){if(E===null)return"";if(V.isDate(E))return E.toISOString();if(V.isBoolean(E))return E.toString();if(!p&&V.isBlob(E))throw new ye("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(E)||V.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,C,N){let M=E;if(E&&!N&&typeof E=="object"){if(V.endsWith(C,"{}"))C=r?C:C.slice(0,-2),E=JSON.stringify(E);else if(V.isArray(E)&&cj(E)||(V.isFileList(E)||V.endsWith(C,"[]"))&&(M=V.toArray(E)))return C=Fv(C),M.forEach(function(O,Q){!(V.isUndefined(O)||O===null)&&a.append(c===!0?Oy([C],Q,d):c===null?C:C+"[]",y(O))}),!1}return Md(E)?!0:(a.append(Oy(N,C,d),y(E)),!1)}const x=[],S=Object.assign(dj,{defaultVisitor:g,convertValue:y,isVisitable:Md});function j(E,C){if(!V.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(E),V.forEach(E,function(M,L){(!(V.isUndefined(M)||M===null)&&o.call(a,M,V.isString(L)?L.trim():L,C,S))===!0&&j(M,C?C.concat(L):[L])}),x.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return j(t),a}function Dy(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return a[r]})}function vf(t,a){this._pairs=[],t&&Oo(t,this,a)}const Qv=vf.prototype;Qv.append=function(a,i){this._pairs.push([a,i])};Qv.toString=function(a){const i=a?function(r){return a.call(this,r,Dy)}:Dy;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function fj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gv(t,a,i){if(!a)return t;const r=i&&i.encode||fj;V.isFunction(i)&&(i={serialize:i});const o=i&&i.serialize;let d;if(o?d=o(a,i):d=V.isURLSearchParams(a)?a.toString():new vf(a,i).toString(r),d){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class My{constructor(){this.handlers=[]}use(a,i,r){return this.handlers.push({fulfilled:a,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){V.forEach(this.handlers,function(r){r!==null&&a(r)})}}const Kv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hj=typeof URLSearchParams<"u"?URLSearchParams:vf,mj=typeof FormData<"u"?FormData:null,pj=typeof Blob<"u"?Blob:null,yj={isBrowser:!0,classes:{URLSearchParams:hj,FormData:mj,Blob:pj},protocols:["http","https","file","blob","url","data"]},xf=typeof window<"u"&&typeof document<"u",Ud=typeof navigator=="object"&&navigator||void 0,gj=xf&&(!Ud||["ReactNative","NativeScript","NS"].indexOf(Ud.product)<0),vj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xj=xf&&window.location.href||"http://localhost",bj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xf,hasStandardBrowserEnv:gj,hasStandardBrowserWebWorkerEnv:vj,navigator:Ud,origin:xj},Symbol.toStringTag,{value:"Module"})),yt={...bj,...yj};function Sj(t,a){return Oo(t,new yt.classes.URLSearchParams,{visitor:function(i,r,o,d){return yt.isNode&&V.isBuffer(i)?(this.append(r,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...a})}function Tj(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Ej(t){const a={},i=Object.keys(t);let r;const o=i.length;let d;for(r=0;r<o;r++)d=i[r],a[d]=t[d];return a}function Yv(t){function a(i,r,o,d){let c=i[d++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=d>=i.length;return c=!c&&V.isArray(o)?o.length:c,p?(V.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!h):((!o[c]||!V.isObject(o[c]))&&(o[c]=[]),a(i,r,o[c],d)&&V.isArray(o[c])&&(o[c]=Ej(o[c])),!h)}if(V.isFormData(t)&&V.isFunction(t.entries)){const i={};return V.forEachEntry(t,(r,o)=>{a(Tj(r),o,i,0)}),i}return null}function jj(t,a,i){if(V.isString(t))try{return(a||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}const Nl={transitional:Kv,adapter:["xhr","http","fetch"],transformRequest:[function(a,i){const r=i.getContentType()||"",o=r.indexOf("application/json")>-1,d=V.isObject(a);if(d&&V.isHTMLForm(a)&&(a=new FormData(a)),V.isFormData(a))return o?JSON.stringify(Yv(a)):a;if(V.isArrayBuffer(a)||V.isBuffer(a)||V.isStream(a)||V.isFile(a)||V.isBlob(a)||V.isReadableStream(a))return a;if(V.isArrayBufferView(a))return a.buffer;if(V.isURLSearchParams(a))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Sj(a,this.formSerializer).toString();if((h=V.isFileList(a))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Oo(h?{"files[]":a}:a,p&&new p,this.formSerializer)}}return d||o?(i.setContentType("application/json",!1),jj(a)):a}],transformResponse:[function(a){const i=this.transitional||Nl.transitional,r=i&&i.forcedJSONParsing,o=this.responseType==="json";if(V.isResponse(a)||V.isReadableStream(a))return a;if(a&&V.isString(a)&&(r&&!this.responseType||o)){const c=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(a,this.parseReviver)}catch(h){if(c)throw h.name==="SyntaxError"?ye.from(h,ye.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Nl.headers[t]={}});const Cj=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wj=t=>{const a={};let i,r,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),i=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!i||a[i]&&Cj[i])&&(i==="set-cookie"?a[i]?a[i].push(r):a[i]=[r]:a[i]=a[i]?a[i]+", "+r:r)}),a},Uy=Symbol("internals");function il(t){return t&&String(t).trim().toLowerCase()}function ro(t){return t===!1||t==null?t:V.isArray(t)?t.map(ro):String(t)}function Aj(t){const a=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(t);)a[r[1]]=r[2];return a}const Nj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function id(t,a,i,r,o){if(V.isFunction(r))return r.call(this,a,i);if(o&&(a=i),!!V.isString(a)){if(V.isString(r))return a.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(a)}}function Rj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,i,r)=>i.toUpperCase()+r)}function Oj(t,a){const i=V.toCamelCase(" "+a);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+i,{value:function(o,d,c){return this[r].call(this,a,o,d,c)},configurable:!0})})}let Ut=class{constructor(a){a&&this.set(a)}set(a,i,r){const o=this;function d(h,p,y){const g=il(p);if(!g)throw new Error("header name must be a non-empty string");const x=V.findKey(o,g);(!x||o[x]===void 0||y===!0||y===void 0&&o[x]!==!1)&&(o[x||p]=ro(h))}const c=(h,p)=>V.forEach(h,(y,g)=>d(y,g,p));if(V.isPlainObject(a)||a instanceof this.constructor)c(a,i);else if(V.isString(a)&&(a=a.trim())&&!Nj(a))c(wj(a),i);else if(V.isObject(a)&&V.isIterable(a)){let h={},p,y;for(const g of a){if(!V.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[y=g[0]]=(p=h[y])?V.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}c(h,i)}else a!=null&&d(i,a,r);return this}get(a,i){if(a=il(a),a){const r=V.findKey(this,a);if(r){const o=this[r];if(!i)return o;if(i===!0)return Aj(o);if(V.isFunction(i))return i.call(this,o,r);if(V.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,i){if(a=il(a),a){const r=V.findKey(this,a);return!!(r&&this[r]!==void 0&&(!i||id(this,this[r],r,i)))}return!1}delete(a,i){const r=this;let o=!1;function d(c){if(c=il(c),c){const h=V.findKey(r,c);h&&(!i||id(r,r[h],h,i))&&(delete r[h],o=!0)}}return V.isArray(a)?a.forEach(d):d(a),o}clear(a){const i=Object.keys(this);let r=i.length,o=!1;for(;r--;){const d=i[r];(!a||id(this,this[d],d,a,!0))&&(delete this[d],o=!0)}return o}normalize(a){const i=this,r={};return V.forEach(this,(o,d)=>{const c=V.findKey(r,d);if(c){i[c]=ro(o),delete i[d];return}const h=a?Rj(d):String(d).trim();h!==d&&delete i[d],i[h]=ro(o),r[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const i=Object.create(null);return V.forEach(this,(r,o)=>{r!=null&&r!==!1&&(i[o]=a&&V.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,i])=>a+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...i){const r=new this(a);return i.forEach(o=>r.set(o)),r}static accessor(a){const r=(this[Uy]=this[Uy]={accessors:{}}).accessors,o=this.prototype;function d(c){const h=il(c);r[h]||(Oj(o,c),r[h]=!0)}return V.isArray(a)?a.forEach(d):d(a),this}};Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Ut.prototype,({value:t},a)=>{let i=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(r){this[i]=r}}});V.freezeMethods(Ut);function ld(t,a){const i=this||Nl,r=a||i,o=Ut.from(r.headers);let d=r.data;return V.forEach(t,function(h){d=h.call(i,d,o.normalize(),a?a.status:void 0)}),o.normalize(),d}function Xv(t){return!!(t&&t.__CANCEL__)}function ii(t,a,i){ye.call(this,t??"canceled",ye.ERR_CANCELED,a,i),this.name="CanceledError"}V.inherits(ii,ye,{__CANCEL__:!0});function Zv(t,a,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?t(i):a(new ye("Request failed with status code "+i.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Dj(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function Mj(t,a){t=t||10;const i=new Array(t),r=new Array(t);let o=0,d=0,c;return a=a!==void 0?a:1e3,function(p){const y=Date.now(),g=r[d];c||(c=y),i[o]=p,r[o]=y;let x=d,S=0;for(;x!==o;)S+=i[x++],x=x%t;if(o=(o+1)%t,o===d&&(d=(d+1)%t),y-c<a)return;const j=g&&y-g;return j?Math.round(S*1e3/j):void 0}}function Uj(t,a){let i=0,r=1e3/a,o,d;const c=(y,g=Date.now())=>{i=g,o=null,d&&(clearTimeout(d),d=null),t(...y)};return[(...y)=>{const g=Date.now(),x=g-i;x>=r?c(y,g):(o=y,d||(d=setTimeout(()=>{d=null,c(o)},r-x)))},()=>o&&c(o)]}const go=(t,a,i=3)=>{let r=0;const o=Mj(50,250);return Uj(d=>{const c=d.loaded,h=d.lengthComputable?d.total:void 0,p=c-r,y=o(p),g=c<=h;r=c;const x={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:y||void 0,estimated:y&&h&&g?(h-c)/y:void 0,event:d,lengthComputable:h!=null,[a?"download":"upload"]:!0};t(x)},i)},ky=(t,a)=>{const i=t!=null;return[r=>a[0]({lengthComputable:i,total:t,loaded:r}),a[1]]},zy=t=>(...a)=>V.asap(()=>t(...a)),kj=yt.hasStandardBrowserEnv?((t,a)=>i=>(i=new URL(i,yt.origin),t.protocol===i.protocol&&t.host===i.host&&(a||t.port===i.port)))(new URL(yt.origin),yt.navigator&&/(msie|trident)/i.test(yt.navigator.userAgent)):()=>!0,zj=yt.hasStandardBrowserEnv?{write(t,a,i,r,o,d,c){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(a)}`];V.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),V.isString(r)&&h.push(`path=${r}`),V.isString(o)&&h.push(`domain=${o}`),d===!0&&h.push("secure"),V.isString(c)&&h.push(`SameSite=${c}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Lj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _j(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function Jv(t,a,i){let r=!Lj(a);return t&&(r||i==!1)?_j(t,a):a}const Ly=t=>t instanceof Ut?{...t}:t;function ss(t,a){a=a||{};const i={};function r(y,g,x,S){return V.isPlainObject(y)&&V.isPlainObject(g)?V.merge.call({caseless:S},y,g):V.isPlainObject(g)?V.merge({},g):V.isArray(g)?g.slice():g}function o(y,g,x,S){if(V.isUndefined(g)){if(!V.isUndefined(y))return r(void 0,y,x,S)}else return r(y,g,x,S)}function d(y,g){if(!V.isUndefined(g))return r(void 0,g)}function c(y,g){if(V.isUndefined(g)){if(!V.isUndefined(y))return r(void 0,y)}else return r(void 0,g)}function h(y,g,x){if(x in a)return r(y,g);if(x in t)return r(void 0,y)}const p={url:d,method:d,data:d,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(y,g,x)=>o(Ly(y),Ly(g),x,!0)};return V.forEach(Object.keys({...t,...a}),function(g){const x=p[g]||o,S=x(t[g],a[g],g);V.isUndefined(S)&&x!==h||(i[g]=S)}),i}const $v=t=>{const a=ss({},t);let{data:i,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:d,headers:c,auth:h}=a;if(a.headers=c=Ut.from(c),a.url=Gv(Jv(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),V.isFormData(i)){if(yt.hasStandardBrowserEnv||yt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(V.isFunction(i.getHeaders)){const p=i.getHeaders(),y=["content-type","content-length"];Object.entries(p).forEach(([g,x])=>{y.includes(g.toLowerCase())&&c.set(g,x)})}}if(yt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(a)),r||r!==!1&&kj(a.url))){const p=o&&d&&zj.read(d);p&&c.set(o,p)}return a},Vj=typeof XMLHttpRequest<"u",Bj=Vj&&function(t){return new Promise(function(i,r){const o=$v(t);let d=o.data;const c=Ut.from(o.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:y}=o,g,x,S,j,E;function C(){j&&j(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function M(){if(!N)return;const O=Ut.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),Z={data:!h||h==="text"||h==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:O,config:t,request:N};Zv(function(K){i(K),C()},function(K){r(K),C()},Z),N=null}"onloadend"in N?N.onloadend=M:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(M)},N.onabort=function(){N&&(r(new ye("Request aborted",ye.ECONNABORTED,t,N)),N=null)},N.onerror=function(Q){const Z=Q&&Q.message?Q.message:"Network Error",J=new ye(Z,ye.ERR_NETWORK,t,N);J.event=Q||null,r(J),N=null},N.ontimeout=function(){let Q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const Z=o.transitional||Kv;o.timeoutErrorMessage&&(Q=o.timeoutErrorMessage),r(new ye(Q,Z.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,N)),N=null},d===void 0&&c.setContentType(null),"setRequestHeader"in N&&V.forEach(c.toJSON(),function(Q,Z){N.setRequestHeader(Z,Q)}),V.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),h&&h!=="json"&&(N.responseType=o.responseType),y&&([S,E]=go(y,!0),N.addEventListener("progress",S)),p&&N.upload&&([x,j]=go(p),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",j)),(o.cancelToken||o.signal)&&(g=O=>{N&&(r(!O||O.type?new ii(null,t,N):O),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const L=Dj(o.url);if(L&&yt.protocols.indexOf(L)===-1){r(new ye("Unsupported protocol "+L+":",ye.ERR_BAD_REQUEST,t));return}N.send(d||null)})},qj=(t,a)=>{const{length:i}=t=t?t.filter(Boolean):[];if(a||i){let r=new AbortController,o;const d=function(y){if(!o){o=!0,h();const g=y instanceof Error?y:this.reason;r.abort(g instanceof ye?g:new ii(g instanceof Error?g.message:g))}};let c=a&&setTimeout(()=>{c=null,d(new ye(`timeout ${a} of ms exceeded`,ye.ETIMEDOUT))},a);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(y=>{y.unsubscribe?y.unsubscribe(d):y.removeEventListener("abort",d)}),t=null)};t.forEach(y=>y.addEventListener("abort",d));const{signal:p}=r;return p.unsubscribe=()=>V.asap(h),p}},Hj=function*(t,a){let i=t.byteLength;if(i<a){yield t;return}let r=0,o;for(;r<i;)o=r+a,yield t.slice(r,o),r=o},Pj=async function*(t,a){for await(const i of Fj(t))yield*Hj(i,a)},Fj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:i,value:r}=await a.read();if(i)break;yield r}}finally{await a.cancel()}},_y=(t,a,i,r)=>{const o=Pj(t,a);let d=0,c,h=p=>{c||(c=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:y,value:g}=await o.next();if(y){h(),p.close();return}let x=g.byteLength;if(i){let S=d+=x;i(S)}p.enqueue(new Uint8Array(g))}catch(y){throw h(y),y}},cancel(p){return h(p),o.return()}},{highWaterMark:2})},Vy=64*1024,{isFunction:Wr}=V,Qj=(({Request:t,Response:a})=>({Request:t,Response:a}))(V.global),{ReadableStream:By,TextEncoder:qy}=V.global,Hy=(t,...a)=>{try{return!!t(...a)}catch{return!1}},Gj=t=>{t=V.merge.call({skipUndefined:!0},Qj,t);const{fetch:a,Request:i,Response:r}=t,o=a?Wr(a):typeof fetch=="function",d=Wr(i),c=Wr(r);if(!o)return!1;const h=o&&Wr(By),p=o&&(typeof qy=="function"?(E=>C=>E.encode(C))(new qy):async E=>new Uint8Array(await new i(E).arrayBuffer())),y=d&&h&&Hy(()=>{let E=!1;const C=new i(yt.origin,{body:new By,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!C}),g=c&&h&&Hy(()=>V.isReadableStream(new r("").body)),x={stream:g&&(E=>E.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!x[E]&&(x[E]=(C,N)=>{let M=C&&C[E];if(M)return M.call(C);throw new ye(`Response type '${E}' is not supported`,ye.ERR_NOT_SUPPORT,N)})});const S=async E=>{if(E==null)return 0;if(V.isBlob(E))return E.size;if(V.isSpecCompliantForm(E))return(await new i(yt.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(V.isArrayBufferView(E)||V.isArrayBuffer(E))return E.byteLength;if(V.isURLSearchParams(E)&&(E=E+""),V.isString(E))return(await p(E)).byteLength},j=async(E,C)=>{const N=V.toFiniteNumber(E.getContentLength());return N??S(C)};return async E=>{let{url:C,method:N,data:M,signal:L,cancelToken:O,timeout:Q,onDownloadProgress:Z,onUploadProgress:J,responseType:K,headers:$,withCredentials:le="same-origin",fetchOptions:oe}=$v(E),be=a||fetch;K=K?(K+"").toLowerCase():"text";let te=qj([L,O&&O.toAbortSignal()],Q),Ie=null;const _e=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let Fe;try{if(J&&y&&N!=="get"&&N!=="head"&&(Fe=await j($,M))!==0){let A=new i(C,{method:"POST",body:M,duplex:"half"}),P;if(V.isFormData(M)&&(P=A.headers.get("content-type"))&&$.setContentType(P),A.body){const[I,ee]=ky(Fe,go(zy(J)));M=_y(A.body,Vy,I,ee)}}V.isString(le)||(le=le?"include":"omit");const _=d&&"credentials"in i.prototype,Y={...oe,signal:te,method:N.toUpperCase(),headers:$.normalize().toJSON(),body:M,duplex:"half",credentials:_?le:void 0};Ie=d&&new i(C,Y);let W=await(d?be(Ie,oe):be(C,Y));const fe=g&&(K==="stream"||K==="response");if(g&&(Z||fe&&_e)){const A={};["status","statusText","headers"].forEach(ue=>{A[ue]=W[ue]});const P=V.toFiniteNumber(W.headers.get("content-length")),[I,ee]=Z&&ky(P,go(zy(Z),!0))||[];W=new r(_y(W.body,Vy,I,()=>{ee&&ee(),_e&&_e()}),A)}K=K||"text";let me=await x[V.findKey(x,K)||"text"](W,E);return!fe&&_e&&_e(),await new Promise((A,P)=>{Zv(A,P,{data:me,headers:Ut.from(W.headers),status:W.status,statusText:W.statusText,config:E,request:Ie})})}catch(_){throw _e&&_e(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,E,Ie),{cause:_.cause||_}):ye.from(_,_&&_.code,E,Ie)}}},Kj=new Map,Iv=t=>{let a=t&&t.env||{};const{fetch:i,Request:r,Response:o}=a,d=[r,o,i];let c=d.length,h=c,p,y,g=Kj;for(;h--;)p=d[h],y=g.get(p),y===void 0&&g.set(p,y=h?new Map:Gj(a)),g=y;return y};Iv();const bf={http:uj,xhr:Bj,fetch:{get:Iv}};V.forEach(bf,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Py=t=>`- ${t}`,Yj=t=>V.isFunction(t)||t===null||t===!1;function Xj(t,a){t=V.isArray(t)?t:[t];const{length:i}=t;let r,o;const d={};for(let c=0;c<i;c++){r=t[c];let h;if(o=r,!Yj(r)&&(o=bf[(h=String(r)).toLowerCase()],o===void 0))throw new ye(`Unknown adapter '${h}'`);if(o&&(V.isFunction(o)||(o=o.get(a))))break;d[h||"#"+c]=o}if(!o){const c=Object.entries(d).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=i?c.length>1?`since :
`+c.map(Py).join(`
`):" "+Py(c[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return o}const Wv={getAdapter:Xj,adapters:bf};function rd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ii(null,t)}function Fy(t){return rd(t),t.headers=Ut.from(t.headers),t.data=ld.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Wv.getAdapter(t.adapter||Nl.adapter,t)(t).then(function(r){return rd(t),r.data=ld.call(t,t.transformResponse,r),r.headers=Ut.from(r.headers),r},function(r){return Xv(r)||(rd(t),r&&r.response&&(r.response.data=ld.call(t,t.transformResponse,r.response),r.response.headers=Ut.from(r.response.headers))),Promise.reject(r)})}const ex="1.13.2",Do={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Do[t]=function(r){return typeof r===t||"a"+(a<1?"n ":" ")+t}});const Qy={};Do.transitional=function(a,i,r){function o(d,c){return"[Axios v"+ex+"] Transitional option '"+d+"'"+c+(r?". "+r:"")}return(d,c,h)=>{if(a===!1)throw new ye(o(c," has been removed"+(i?" in "+i:"")),ye.ERR_DEPRECATED);return i&&!Qy[c]&&(Qy[c]=!0,console.warn(o(c," has been deprecated since v"+i+" and will be removed in the near future"))),a?a(d,c,h):!0}};Do.spelling=function(a){return(i,r)=>(console.warn(`${r} is likely a misspelling of ${a}`),!0)};function Zj(t,a,i){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const d=r[o],c=a[d];if(c){const h=t[d],p=h===void 0||c(h,d,t);if(p!==!0)throw new ye("option "+d+" must be "+p,ye.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ye("Unknown option "+d,ye.ERR_BAD_OPTION)}}const oo={assertOptions:Zj,validators:Do},Tn=oo.validators;let Wa=class{constructor(a){this.defaults=a||{},this.interceptors={request:new My,response:new My}}async request(a,i){try{return await this._request(a,i)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?d&&!String(r.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+d):r.stack=d}catch{}}throw r}}_request(a,i){typeof a=="string"?(i=i||{},i.url=a):i=a||{},i=ss(this.defaults,i);const{transitional:r,paramsSerializer:o,headers:d}=i;r!==void 0&&oo.assertOptions(r,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),o!=null&&(V.isFunction(o)?i.paramsSerializer={serialize:o}:oo.assertOptions(o,{encode:Tn.function,serialize:Tn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),oo.assertOptions(i,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let c=d&&V.merge(d.common,d[i.method]);d&&V.forEach(["delete","get","head","post","put","patch","common"],E=>{delete d[E]}),i.headers=Ut.concat(c,d);const h=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(i)===!1||(p=p&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const y=[];this.interceptors.response.forEach(function(C){y.push(C.fulfilled,C.rejected)});let g,x=0,S;if(!p){const E=[Fy.bind(this),void 0];for(E.unshift(...h),E.push(...y),S=E.length,g=Promise.resolve(i);x<S;)g=g.then(E[x++],E[x++]);return g}S=h.length;let j=i;for(;x<S;){const E=h[x++],C=h[x++];try{j=E(j)}catch(N){C.call(this,N);break}}try{g=Fy.call(this,j)}catch(E){return Promise.reject(E)}for(x=0,S=y.length;x<S;)g=g.then(y[x++],y[x++]);return g}getUri(a){a=ss(this.defaults,a);const i=Jv(a.baseURL,a.url,a.allowAbsoluteUrls);return Gv(i,a.params,a.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(a){Wa.prototype[a]=function(i,r){return this.request(ss(r||{},{method:a,url:i,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(a){function i(r){return function(d,c,h){return this.request(ss(h||{},{method:a,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:c}))}}Wa.prototype[a]=i(),Wa.prototype[a+"Form"]=i(!0)});let Jj=class tx{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const r=this;this.promise.then(o=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](o);r._listeners=null}),this.promise.then=o=>{let d;const c=new Promise(h=>{r.subscribe(h),d=h}).then(o);return c.cancel=function(){r.unsubscribe(d)},c},a(function(d,c,h){r.reason||(r.reason=new ii(d,c,h),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const i=this._listeners.indexOf(a);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const a=new AbortController,i=r=>{a.abort(r)};return this.subscribe(i),a.signal.unsubscribe=()=>this.unsubscribe(i),a.signal}static source(){let a;return{token:new tx(function(o){a=o}),cancel:a}}};function $j(t){return function(i){return t.apply(null,i)}}function Ij(t){return V.isObject(t)&&t.isAxiosError===!0}const kd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kd).forEach(([t,a])=>{kd[a]=t});function nx(t){const a=new Wa(t),i=Uv(Wa.prototype.request,a);return V.extend(i,Wa.prototype,a,{allOwnKeys:!0}),V.extend(i,a,null,{allOwnKeys:!0}),i.create=function(o){return nx(ss(t,o))},i}const $e=nx(Nl);$e.Axios=Wa;$e.CanceledError=ii;$e.CancelToken=Jj;$e.isCancel=Xv;$e.VERSION=ex;$e.toFormData=Oo;$e.AxiosError=ye;$e.Cancel=$e.CanceledError;$e.all=function(a){return Promise.all(a)};$e.spread=$j;$e.isAxiosError=Ij;$e.mergeConfig=ss;$e.AxiosHeaders=Ut;$e.formToJSON=t=>Yv(V.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=Wv.getAdapter;$e.HttpStatusCode=kd;$e.default=$e;const{Axios:bO,AxiosError:SO,CanceledError:TO,isCancel:EO,CancelToken:jO,VERSION:CO,all:wO,Cancel:AO,isAxiosError:NO,spread:RO,toFormData:OO,AxiosHeaders:DO,HttpStatusCode:MO,formToJSON:UO,getAdapter:kO,mergeConfig:zO}=$e,Rl="/api",se=$e.create({baseURL:Rl});se.interceptors.request.use(t=>{const a=localStorage.getItem("token");return a&&(t.headers.Authorization=`Bearer ${a}`),t});function Sf({visible:t}){return t?m.jsx("div",{className:"splash-overlay",children:m.jsxs("div",{className:"splash-card",children:[m.jsx("div",{className:"splash-content",children:m.jsxs("div",{className:"splash-logo",children:[m.jsx("div",{className:"logo-main",children:m.jsxs("svg",{viewBox:"0 0 29.667 31.69",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[m.jsx("path",{d:"M12.827,1.628A1.561,1.561,0,0,1,14.31,0h2.964a1.561,1.561,0,0,1,1.483,1.628v11.9a9.252,9.252,0,0,1-2.432,6.852q-2.432,2.409-6.963,2.409T2.4,20.452Q0,18.094,0,13.669V1.628A1.561,1.561,0,0,1,1.483,0h2.98A1.561,1.561,0,0,1,5.947,1.628V13.191a5.635,5.635,0,0,0,.85,3.451,3.153,3.153,0,0,0,2.632,1.094,3.032,3.032,0,0,0,2.582-1.076,5.836,5.836,0,0,0,.816-3.486Z"}),m.jsx("path",{d:"M29.297,20.857a1.561,1.561,0,0,1-1.483,1.628h-2.98a1.561,1.561,0,0,1-1.483-1.628V1.628A1.561,1.561,0,0,1,24.833,0h2.98a1.561,1.561,0,0,1,1.483,1.628Z"}),m.jsx("path",{d:"M0,28.055A1.561,1.561,0,0,1,1.483,26.427h26.7a1.561,1.561,0,0,1,1.483,1.628v2.006a1.561,1.561,0,0,1-1.483,1.628H1.483A1.561,1.561,0,0,1,0,30.061Z"})]})}),m.jsx("div",{className:"logo-second-text",children:"Socialito"}),m.jsx("span",{className:"logo-trail"})]})}),m.jsx("span",{className:"splash-bottom"})]})}):null}const ax=T.createContext(null),Wj=3e3;function eC({children:t}){const[a,i]=T.useState(null),[r,o]=T.useState(localStorage.getItem("token")),[d,c]=T.useState(!0),[h,p]=T.useState(!1);T.useEffect(()=>{(async()=>{if(!r){c(!1);return}p(!0);try{const{data:E}=await se.get("/auth/me");i(E.user),setTimeout(()=>p(!1),Wj)}catch{p(!1),x()}finally{c(!1)}})()},[r]);const y=async(j,E)=>{const{data:C}=await se.post("/auth/login",{identifier:j,password:E});return localStorage.setItem("token",C.token),o(C.token),i(C.user),C.user},g=async({name:j,username:E,email:C,password:N})=>{const{data:M}=await se.post("/auth/register",{name:j,username:E,email:C,password:N});return localStorage.setItem("token",M.token),o(M.token),i(M.user),M.user},x=()=>{localStorage.removeItem("token"),o(null),i(null),p(!1)},S=T.useMemo(()=>({user:a,token:r,loading:d,login:y,register:g,logout:x,setUser:i,showSplash:h,setShowSplash:p}),[a,r,d,h]);return m.jsxs(ax.Provider,{value:S,children:[t,m.jsx(Sf,{visible:h})]})}function Gt(){const t=T.useContext(ax);if(!t)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t}const sx=T.createContext(null);function tC({children:t}){const[a,i]=T.useState(null),r=(c,h="",p={})=>{i(typeof c=="object"&&c!==null?c:{src:c,alt:h,isVideo:p.isVideo||!1})},o=()=>i(null),d=T.useMemo(()=>({media:a,open:r,close:o}),[a]);return m.jsx(sx.Provider,{value:d,children:t})}function Tf(){const t=T.useContext(sx);if(!t)throw new Error("useLightbox debe usarse dentro de LightboxProvider");return t}function nC(t=""){const a=t.match(/#t=([\d.]+),?([\d.]*)/);if(!a)return{cleanSrc:t,start:0,end:null};const i=parseFloat(a[1])||0,r=a[2]?parseFloat(a[2]):null;return{cleanSrc:t.split("#")[0],start:i,end:r}}function Ca({user:t,size:a=48,className:i=""}){const r=Rl.replace(/\/api$/,""),o=t?.avatar?`${r}/${t.avatar}`:null,d=t?.profileVideoUrl?`${r}/${t.profileVideoUrl}`:null,c=t?.useVideoAvatar&&d,h=t?.name?t.name.charAt(0).toUpperCase():"?",{open:p}=Tf(),y=T.useRef(null),g=T.useMemo(()=>nC(d||""),[d]);return T.useEffect(()=>{if(!c||!y.current)return;const x=y.current,S=g.start||0,j=g.end,E=()=>{x.currentTime=S},C=()=>{j&&x.currentTime>=j-.05&&(x.currentTime=S,x.play())};return x.addEventListener("loadedmetadata",E),x.addEventListener("timeupdate",C),()=>{x.removeEventListener("loadedmetadata",E),x.removeEventListener("timeupdate",C)}},[c,g.start,g.end]),m.jsx("div",{className:`rounded-full bg-slate-200 overflow-hidden flex items-center justify-center text-slate-700 font-semibold ${i} ${o||c?"cursor-pointer":""}`,style:{width:a,height:a},onClick:()=>{const x=c?d:o;x&&p(x,t?.name||"avatar",{isVideo:!!c})},children:c?m.jsx("video",{ref:y,src:g.cleanSrc,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):o?m.jsx("img",{src:o,alt:t?.name||"avatar",className:"w-full h-full object-cover"}):m.jsx("span",{children:h})})}function Gy(){const[t,a]=T.useState(""),[i,r]=T.useState([]),[o,d]=T.useState(!1),c=is();return T.useEffect(()=>{if(!t.trim()){r([]);return}let h=!0;return d(!0),se.get("/users/search",{params:{q:t.trim()}}).then(({data:p})=>{h&&r(p||[])}).catch(()=>{h&&r([])}).finally(()=>h&&d(!1)),()=>{h=!1}},[t]),m.jsxs("div",{className:"relative w-full",children:[m.jsx("input",{type:"text",value:t,onChange:h=>a(h.target.value),placeholder:"Buscar personas...",className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-500 focus:outline-none","aria-label":"Buscar personas"}),t&&m.jsxs("div",{className:"absolute z-30 mt-2 w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 shadow-lg overflow-hidden",children:[o&&m.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Buscando..."}),!o&&i.map(h=>m.jsxs("button",{onClick:()=>{c(`/profile/${h.username}`),a(""),r([])},className:"w-full text-left px-3 py-2 text-sm text-slate-900 dark:text-slate-100 hover:bg-indigo-50 dark:hover:bg-slate-800 transition flex items-center gap-3",children:[m.jsx(Ca,{user:h,size:36}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold",children:h.name}),m.jsxs("div",{className:"text-xs text-slate-500",children:["@",h.username]})]})]},h.id)),!o&&i.length===0&&m.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Sin resultados"})]})]})}const ix=T.createContext(null),Ky="sn_theme";function aC({children:t}){const[a,i]=T.useState(()=>localStorage.getItem(Ky)||"light");T.useEffect(()=>{const d=document.documentElement;a==="dark"?d.classList.add("dark"):d.classList.remove("dark"),localStorage.setItem(Ky,a)},[a]);const r=()=>i(d=>d==="dark"?"light":"dark"),o=T.useMemo(()=>({theme:a,toggleTheme:r}),[a]);return m.jsx(ix.Provider,{value:o,children:t})}function sC(){const t=T.useContext(ix);if(!t)throw new Error("useTheme debe usarse dentro de ThemeProvider");return t}function iC({iconOnly:t=!1}){const{theme:a,toggleTheme:i}=sC(),r="border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition",o=a==="dark";return m.jsxs("button",{onClick:i,className:t?`${r} h-10 w-10 rounded-full flex items-center justify-center text-lg`:`${r} px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2`,"aria-label":"Cambiar tema",children:[m.jsx("span",{"aria-hidden":!0,children:o?"":""}),!t&&m.jsx("span",{children:o?"Claro":"Oscuro"})]})}const Ef=T.createContext({});function jf(t){const a=T.useRef(null);return a.current===null&&(a.current=t()),a.current}const Cf=typeof window<"u",lx=Cf?T.useLayoutEffect:T.useEffect,Mo=T.createContext(null);function wf(t,a){t.indexOf(a)===-1&&t.push(a)}function Af(t,a){const i=t.indexOf(a);i>-1&&t.splice(i,1)}const Yn=(t,a,i)=>i>a?a:i<t?t:i;let Nf=()=>{};const Xn={},rx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ox(t){return typeof t=="object"&&t!==null}const ux=t=>/^0[^.\s]+$/u.test(t);function Rf(t){let a;return()=>(a===void 0&&(a=t()),a)}const ln=t=>t,lC=(t,a)=>i=>a(t(i)),Ol=(...t)=>t.reduce(lC),pl=(t,a,i)=>{const r=a-t;return r===0?1:(i-t)/r};class Of{constructor(){this.subscriptions=[]}add(a){return wf(this.subscriptions,a),()=>Af(this.subscriptions,a)}notify(a,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](a,i,r);else for(let d=0;d<o;d++){const c=this.subscriptions[d];c&&c(a,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const En=t=>t*1e3,sn=t=>t/1e3;function cx(t,a){return a?t*(1e3/a):0}const dx=(t,a,i)=>(((1-3*i+3*a)*t+(3*i-6*a))*t+3*a)*t,rC=1e-7,oC=12;function uC(t,a,i,r,o){let d,c,h=0;do c=a+(i-a)/2,d=dx(c,r,o)-t,d>0?i=c:a=c;while(Math.abs(d)>rC&&++h<oC);return c}function Dl(t,a,i,r){if(t===a&&i===r)return ln;const o=d=>uC(d,0,1,t,i);return d=>d===0||d===1?d:dx(o(d),a,r)}const fx=t=>a=>a<=.5?t(2*a)/2:(2-t(2*(1-a)))/2,hx=t=>a=>1-t(1-a),mx=Dl(.33,1.53,.69,.99),Df=hx(mx),px=fx(Df),yx=t=>(t*=2)<1?.5*Df(t):.5*(2-Math.pow(2,-10*(t-1))),Mf=t=>1-Math.sin(Math.acos(t)),gx=hx(Mf),vx=fx(Mf),cC=Dl(.42,0,1,1),dC=Dl(0,0,.58,1),xx=Dl(.42,0,.58,1),fC=t=>Array.isArray(t)&&typeof t[0]!="number",bx=t=>Array.isArray(t)&&typeof t[0]=="number",hC={linear:ln,easeIn:cC,easeInOut:xx,easeOut:dC,circIn:Mf,circInOut:vx,circOut:gx,backIn:Df,backInOut:px,backOut:mx,anticipate:yx},mC=t=>typeof t=="string",Yy=t=>{if(bx(t)){Nf(t.length===4);const[a,i,r,o]=t;return Dl(a,i,r,o)}else if(mC(t))return hC[t];return t},eo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pC(t,a){let i=new Set,r=new Set,o=!1,d=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(g){c.has(g)&&(y.schedule(g),t()),g(h)}const y={schedule:(g,x=!1,S=!1)=>{const E=S&&o?i:r;return x&&c.add(g),E.has(g)||E.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,o){d=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,d&&(d=!1,y.process(g))}};return y}const yC=40;function Sx(t,a){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},d=()=>i=!0,c=eo.reduce((O,Q)=>(O[Q]=pC(d),O),{}),{setup:h,read:p,resolveKeyframes:y,preUpdate:g,update:x,preRender:S,render:j,postRender:E}=c,C=()=>{const O=Xn.useManualTiming?o.timestamp:performance.now();i=!1,Xn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(O-o.timestamp,yC),1)),o.timestamp=O,o.isProcessing=!0,h.process(o),p.process(o),y.process(o),g.process(o),x.process(o),S.process(o),j.process(o),E.process(o),o.isProcessing=!1,i&&a&&(r=!1,t(C))},N=()=>{i=!0,r=!0,o.isProcessing||t(C)};return{schedule:eo.reduce((O,Q)=>{const Z=c[Q];return O[Q]=(J,K=!1,$=!1)=>(i||N(),Z.schedule(J,K,$)),O},{}),cancel:O=>{for(let Q=0;Q<eo.length;Q++)c[eo[Q]].cancel(O)},state:o,steps:c}}const{schedule:He,cancel:wa,state:mt,steps:od}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0);let uo;function gC(){uo=void 0}const Dt={now:()=>(uo===void 0&&Dt.set(mt.isProcessing||Xn.useManualTiming?mt.timestamp:performance.now()),uo),set:t=>{uo=t,queueMicrotask(gC)}},Tx=t=>a=>typeof a=="string"&&a.startsWith(t),Uf=Tx("--"),vC=Tx("var(--"),kf=t=>vC(t)?xC.test(t.split("/*")[0].trim()):!1,xC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,li={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yl={...li,transform:t=>Yn(0,1,t)},to={...li,default:1},ul=t=>Math.round(t*1e5)/1e5,zf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bC(t){return t==null}const SC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lf=(t,a)=>i=>!!(typeof i=="string"&&SC.test(i)&&i.startsWith(t)||a&&!bC(i)&&Object.prototype.hasOwnProperty.call(i,a)),Ex=(t,a,i)=>r=>{if(typeof r!="string")return r;const[o,d,c,h]=r.match(zf);return{[t]:parseFloat(o),[a]:parseFloat(d),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},TC=t=>Yn(0,255,t),ud={...li,transform:t=>Math.round(TC(t))},$a={test:Lf("rgb","red"),parse:Ex("red","green","blue"),transform:({red:t,green:a,blue:i,alpha:r=1})=>"rgba("+ud.transform(t)+", "+ud.transform(a)+", "+ud.transform(i)+", "+ul(yl.transform(r))+")"};function EC(t){let a="",i="",r="",o="";return t.length>5?(a=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(a=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),a+=a,i+=i,r+=r,o+=o),{red:parseInt(a,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const zd={test:Lf("#"),parse:EC,transform:$a.transform},Ml=t=>({test:a=>typeof a=="string"&&a.endsWith(t)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${t}`}),Ea=Ml("deg"),jn=Ml("%"),de=Ml("px"),jC=Ml("vh"),CC=Ml("vw"),Xy={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},Gs={test:Lf("hsl","hue"),parse:Ex("hue","saturation","lightness"),transform:({hue:t,saturation:a,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(ul(a))+", "+jn.transform(ul(i))+", "+ul(yl.transform(r))+")"},at={test:t=>$a.test(t)||zd.test(t)||Gs.test(t),parse:t=>$a.test(t)?$a.parse(t):Gs.test(t)?Gs.parse(t):zd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$a.transform(t):Gs.transform(t),getAnimatableNone:t=>{const a=at.parse(t);return a.alpha=0,at.transform(a)}},wC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AC(t){return isNaN(t)&&typeof t=="string"&&(t.match(zf)?.length||0)+(t.match(wC)?.length||0)>0}const jx="number",Cx="color",NC="var",RC="var(",Zy="${}",OC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gl(t){const a=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let d=0;const h=a.replace(OC,p=>(at.test(p)?(r.color.push(d),o.push(Cx),i.push(at.parse(p))):p.startsWith(RC)?(r.var.push(d),o.push(NC),i.push(p)):(r.number.push(d),o.push(jx),i.push(parseFloat(p))),++d,Zy)).split(Zy);return{values:i,split:h,indexes:r,types:o}}function wx(t){return gl(t).values}function Ax(t){const{split:a,types:i}=gl(t),r=a.length;return o=>{let d="";for(let c=0;c<r;c++)if(d+=a[c],o[c]!==void 0){const h=i[c];h===jx?d+=ul(o[c]):h===Cx?d+=at.transform(o[c]):d+=o[c]}return d}}const DC=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function MC(t){const a=wx(t);return Ax(t)(a.map(DC))}const Aa={test:AC,parse:wx,createTransformer:Ax,getAnimatableNone:MC};function cd(t,a,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(a-t)*6*i:i<1/2?a:i<2/3?t+(a-t)*(2/3-i)*6:t}function UC({hue:t,saturation:a,lightness:i,alpha:r}){t/=360,a/=100,i/=100;let o=0,d=0,c=0;if(!a)o=d=c=i;else{const h=i<.5?i*(1+a):i+a-i*a,p=2*i-h;o=cd(p,h,t+1/3),d=cd(p,h,t),c=cd(p,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(d*255),blue:Math.round(c*255),alpha:r}}function vo(t,a){return i=>i>0?a:t}const Qe=(t,a,i)=>t+(a-t)*i,dd=(t,a,i)=>{const r=t*t,o=i*(a*a-r)+r;return o<0?0:Math.sqrt(o)},kC=[zd,$a,Gs],zC=t=>kC.find(a=>a.test(t));function Jy(t){const a=zC(t);if(!a)return!1;let i=a.parse(t);return a===Gs&&(i=UC(i)),i}const $y=(t,a)=>{const i=Jy(t),r=Jy(a);if(!i||!r)return vo(t,a);const o={...i};return d=>(o.red=dd(i.red,r.red,d),o.green=dd(i.green,r.green,d),o.blue=dd(i.blue,r.blue,d),o.alpha=Qe(i.alpha,r.alpha,d),$a.transform(o))},Ld=new Set(["none","hidden"]);function LC(t,a){return Ld.has(t)?i=>i<=0?t:a:i=>i>=1?a:t}function _C(t,a){return i=>Qe(t,a,i)}function _f(t){return typeof t=="number"?_C:typeof t=="string"?kf(t)?vo:at.test(t)?$y:qC:Array.isArray(t)?Nx:typeof t=="object"?at.test(t)?$y:VC:vo}function Nx(t,a){const i=[...t],r=i.length,o=t.map((d,c)=>_f(d)(d,a[c]));return d=>{for(let c=0;c<r;c++)i[c]=o[c](d);return i}}function VC(t,a){const i={...t,...a},r={};for(const o in i)t[o]!==void 0&&a[o]!==void 0&&(r[o]=_f(t[o])(t[o],a[o]));return o=>{for(const d in r)i[d]=r[d](o);return i}}function BC(t,a){const i=[],r={color:0,var:0,number:0};for(let o=0;o<a.values.length;o++){const d=a.types[o],c=t.indexes[d][r[d]],h=t.values[c]??0;i[o]=h,r[d]++}return i}const qC=(t,a)=>{const i=Aa.createTransformer(a),r=gl(t),o=gl(a);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Ld.has(t)&&!o.values.length||Ld.has(a)&&!r.values.length?LC(t,a):Ol(Nx(BC(r,o),o.values),i):vo(t,a)};function Rx(t,a,i){return typeof t=="number"&&typeof a=="number"&&typeof i=="number"?Qe(t,a,i):_f(t)(t,a)}const HC=t=>{const a=({timestamp:i})=>t(i);return{start:(i=!0)=>He.update(a,i),stop:()=>wa(a),now:()=>mt.isProcessing?mt.timestamp:Dt.now()}},Ox=(t,a,i=10)=>{let r="";const o=Math.max(Math.round(a/i),2);for(let d=0;d<o;d++)r+=Math.round(t(d/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xo=2e4;function Vf(t){let a=0;const i=50;let r=t.next(a);for(;!r.done&&a<xo;)a+=i,r=t.next(a);return a>=xo?1/0:a}function PC(t,a=100,i){const r=i({...t,keyframes:[0,a]}),o=Math.min(Vf(r),xo);return{type:"keyframes",ease:d=>r.next(o*d).value/a,duration:sn(o)}}const FC=5;function Dx(t,a,i){const r=Math.max(a-FC,0);return cx(i-t(r),a-r)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fd=.001;function QC({duration:t=Ye.duration,bounce:a=Ye.bounce,velocity:i=Ye.velocity,mass:r=Ye.mass}){let o,d,c=1-a;c=Yn(Ye.minDamping,Ye.maxDamping,c),t=Yn(Ye.minDuration,Ye.maxDuration,sn(t)),c<1?(o=y=>{const g=y*c,x=g*t,S=g-i,j=_d(y,c),E=Math.exp(-x);return fd-S/j*E},d=y=>{const x=y*c*t,S=x*i+i,j=Math.pow(c,2)*Math.pow(y,2)*t,E=Math.exp(-x),C=_d(Math.pow(y,2),c);return(-o(y)+fd>0?-1:1)*((S-j)*E)/C}):(o=y=>{const g=Math.exp(-y*t),x=(y-i)*t+1;return-fd+g*x},d=y=>{const g=Math.exp(-y*t),x=(i-y)*(t*t);return g*x});const h=5/t,p=KC(o,d,h);if(t=En(t),isNaN(p))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const y=Math.pow(p,2)*r;return{stiffness:y,damping:c*2*Math.sqrt(r*y),duration:t}}}const GC=12;function KC(t,a,i){let r=i;for(let o=1;o<GC;o++)r=r-t(r)/a(r);return r}function _d(t,a){return t*Math.sqrt(1-a*a)}const YC=["duration","bounce"],XC=["stiffness","damping","mass"];function Iy(t,a){return a.some(i=>t[i]!==void 0)}function ZC(t){let a={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!Iy(t,XC)&&Iy(t,YC))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,d=2*Yn(.05,1,1-(t.bounce||0))*Math.sqrt(o);a={...a,mass:Ye.mass,stiffness:o,damping:d}}else{const i=QC(t);a={...a,...i,mass:Ye.mass},a.isResolvedFromDuration=!0}return a}function bo(t=Ye.visualDuration,a=Ye.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:a}:t;let{restSpeed:r,restDelta:o}=i;const d=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:d},{stiffness:p,damping:y,mass:g,duration:x,velocity:S,isResolvedFromDuration:j}=ZC({...i,velocity:-sn(i.velocity||0)}),E=S||0,C=y/(2*Math.sqrt(p*g)),N=c-d,M=sn(Math.sqrt(p/g)),L=Math.abs(N)<5;r||(r=L?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=L?Ye.restDelta.granular:Ye.restDelta.default);let O;if(C<1){const Z=_d(M,C);O=J=>{const K=Math.exp(-C*M*J);return c-K*((E+C*M*N)/Z*Math.sin(Z*J)+N*Math.cos(Z*J))}}else if(C===1)O=Z=>c-Math.exp(-M*Z)*(N+(E+M*N)*Z);else{const Z=M*Math.sqrt(C*C-1);O=J=>{const K=Math.exp(-C*M*J),$=Math.min(Z*J,300);return c-K*((E+C*M*N)*Math.sinh($)+Z*N*Math.cosh($))/Z}}const Q={calculatedDuration:j&&x||null,next:Z=>{const J=O(Z);if(j)h.done=Z>=x;else{let K=Z===0?E:0;C<1&&(K=Z===0?En(E):Dx(O,Z,J));const $=Math.abs(K)<=r,le=Math.abs(c-J)<=o;h.done=$&&le}return h.value=h.done?c:J,h},toString:()=>{const Z=Math.min(Vf(Q),xo),J=Ox(K=>Q.next(Z*K).value,Z,30);return Z+"ms "+J},toTransition:()=>{}};return Q}bo.applyToOptions=t=>{const a=PC(t,100,bo);return t.ease=a.ease,t.duration=En(a.duration),t.type="keyframes",t};function Vd({keyframes:t,velocity:a=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:d=500,modifyTarget:c,min:h,max:p,restDelta:y=.5,restSpeed:g}){const x=t[0],S={done:!1,value:x},j=$=>h!==void 0&&$<h||p!==void 0&&$>p,E=$=>h===void 0?p:p===void 0||Math.abs(h-$)<Math.abs(p-$)?h:p;let C=i*a;const N=x+C,M=c===void 0?N:c(N);M!==N&&(C=M-x);const L=$=>-C*Math.exp(-$/r),O=$=>M+L($),Q=$=>{const le=L($),oe=O($);S.done=Math.abs(le)<=y,S.value=S.done?M:oe};let Z,J;const K=$=>{j(S.value)&&(Z=$,J=bo({keyframes:[S.value,E(S.value)],velocity:Dx(O,$,S.value),damping:o,stiffness:d,restDelta:y,restSpeed:g}))};return K(0),{calculatedDuration:null,next:$=>{let le=!1;return!J&&Z===void 0&&(le=!0,Q($),K($)),Z!==void 0&&$>=Z?J.next($-Z):(!le&&Q($),S)}}}function JC(t,a,i){const r=[],o=i||Xn.mix||Rx,d=t.length-1;for(let c=0;c<d;c++){let h=o(t[c],t[c+1]);if(a){const p=Array.isArray(a)?a[c]||ln:a;h=Ol(p,h)}r.push(h)}return r}function $C(t,a,{clamp:i=!0,ease:r,mixer:o}={}){const d=t.length;if(Nf(d===a.length),d===1)return()=>a[0];if(d===2&&a[0]===a[1])return()=>a[1];const c=t[0]===t[1];t[0]>t[d-1]&&(t=[...t].reverse(),a=[...a].reverse());const h=JC(a,r,o),p=h.length,y=g=>{if(c&&g<t[0])return a[0];let x=0;if(p>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const S=pl(t[x],t[x+1],g);return h[x](S)};return i?g=>y(Yn(t[0],t[d-1],g)):y}function IC(t,a){const i=t[t.length-1];for(let r=1;r<=a;r++){const o=pl(0,a,r);t.push(Qe(i,1,o))}}function WC(t){const a=[0];return IC(a,t.length-1),a}function ew(t,a){return t.map(i=>i*a)}function tw(t,a){return t.map(()=>a||xx).splice(0,t.length-1)}function cl({duration:t=300,keyframes:a,times:i,ease:r="easeInOut"}){const o=fC(r)?r.map(Yy):Yy(r),d={done:!1,value:a[0]},c=ew(i&&i.length===a.length?i:WC(a),t),h=$C(c,a,{ease:Array.isArray(o)?o:tw(a,o)});return{calculatedDuration:t,next:p=>(d.value=h(p),d.done=p>=t,d)}}const nw=t=>t!==null;function Bf(t,{repeat:a,repeatType:i="loop"},r,o=1){const d=t.filter(nw),h=o<0||a&&i!=="loop"&&a%2===1?0:d.length-1;return!h||r===void 0?d[h]:r}const aw={decay:Vd,inertia:Vd,tween:cl,keyframes:cl,spring:bo};function Mx(t){typeof t.type=="string"&&(t.type=aw[t.type])}class qf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,i){return this.finished.then(a,i)}}const sw=t=>t/100;class Hf extends qf{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=a,this.initAnimation(),this.play(),a.autoplay===!1&&this.pause()}initAnimation(){const{options:a}=this;Mx(a);const{type:i=cl,repeat:r=0,repeatDelay:o=0,repeatType:d,velocity:c=0}=a;let{keyframes:h}=a;const p=i||cl;p!==cl&&typeof h[0]!="number"&&(this.mixKeyframes=Ol(sw,Rx(h[0],h[1])),h=[0,100]);const y=p({...a,keyframes:h});d==="mirror"&&(this.mirroredGenerator=p({...a,keyframes:[...h].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Vf(y));const{calculatedDuration:g}=y;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(a){const i=Math.round(a-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(a,i=!1){const{generator:r,totalDuration:o,mixKeyframes:d,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:g,repeat:x,repeatType:S,repeatDelay:j,type:E,onUpdate:C,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-o/this.speed,this.startTime)),i?this.currentTime=a:this.updateTime(a);const M=this.currentTime-y*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?M<0:M>o;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let O=this.currentTime,Q=r;if(x){const $=Math.min(this.currentTime,o)/h;let le=Math.floor($),oe=$%1;!oe&&$>=1&&(oe=1),oe===1&&le--,le=Math.min(le,x+1),!!(le%2)&&(S==="reverse"?(oe=1-oe,j&&(oe-=j/h)):S==="mirror"&&(Q=c)),O=Yn(0,1,oe)*h}const Z=L?{done:!1,value:g[0]}:Q.next(O);d&&(Z.value=d(Z.value));let{done:J}=Z;!L&&p!==null&&(J=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return K&&E!==Vd&&(Z.value=Bf(g,this.options,N,this.speed)),C&&C(Z.value),K&&this.finish(),Z}then(a,i){return this.finished.then(a,i)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+sn(a)}get time(){return sn(this.currentTime)}set time(a){a=En(a),this.currentTime=a,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(Dt.now());const i=this.playbackSpeed!==a;this.playbackSpeed=a,i&&(this.time=sn(this.currentTime))}play(){if(this.isStopped)return;const{driver:a=HC,startTime:i}=this.options;this.driver||(this.driver=a(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function iw(t){for(let a=1;a<t.length;a++)t[a]??(t[a]=t[a-1])}const Ia=t=>t*180/Math.PI,Bd=t=>{const a=Ia(Math.atan2(t[1],t[0]));return qd(a)},lw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bd,rotateZ:Bd,skewX:t=>Ia(Math.atan(t[1])),skewY:t=>Ia(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qd=t=>(t=t%360,t<0&&(t+=360),t),Wy=Bd,eg=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eg,scaleY:tg,scale:t=>(eg(t)+tg(t))/2,rotateX:t=>qd(Ia(Math.atan2(t[6],t[5]))),rotateY:t=>qd(Ia(Math.atan2(-t[2],t[0]))),rotateZ:Wy,rotate:Wy,skewX:t=>Ia(Math.atan(t[4])),skewY:t=>Ia(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hd(t){return t.includes("scale")?1:0}function Pd(t,a){if(!t||t==="none")return Hd(a);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=rw,o=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lw,o=h}if(!o)return Hd(a);const d=r[a],c=o[1].split(",").map(uw);return typeof d=="function"?d(c):c[d]}const ow=(t,a)=>{const{transform:i="none"}=getComputedStyle(t);return Pd(i,a)};function uw(t){return parseFloat(t.trim())}const ri=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oi=new Set(ri),ng=t=>t===li||t===de,cw=new Set(["x","y","z"]),dw=ri.filter(t=>!cw.has(t));function fw(t){const a=[];return dw.forEach(i=>{const r=t.getValue(i);r!==void 0&&(a.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),a}const es={width:({x:t},{paddingLeft:a="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(a)-parseFloat(i),height:({y:t},{paddingTop:a="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(a)-parseFloat(i),top:(t,{top:a})=>parseFloat(a),left:(t,{left:a})=>parseFloat(a),bottom:({y:t},{top:a})=>parseFloat(a)+(t.max-t.min),right:({x:t},{left:a})=>parseFloat(a)+(t.max-t.min),x:(t,{transform:a})=>Pd(a,"x"),y:(t,{transform:a})=>Pd(a,"y")};es.translateX=es.x;es.translateY=es.y;const ts=new Set;let Fd=!1,Qd=!1,Gd=!1;function Ux(){if(Qd){const t=Array.from(ts).filter(r=>r.needsMeasurement),a=new Set(t.map(r=>r.element)),i=new Map;a.forEach(r=>{const o=fw(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),a.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([d,c])=>{r.getValue(d)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qd=!1,Fd=!1,ts.forEach(t=>t.complete(Gd)),ts.clear()}function kx(){ts.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qd=!0)})}function hw(){Gd=!0,kx(),Ux(),Gd=!1}class Pf{constructor(a,i,r,o,d,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=i,this.name=r,this.motionValue=o,this.element=d,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ts.add(this),Fd||(Fd=!0,He.read(kx),He.resolveKeyframes(Ux))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:i,element:r,motionValue:o}=this;if(a[0]===null){const d=o?.get(),c=a[a.length-1];if(d!==void 0)a[0]=d;else if(r&&i){const h=r.readValue(i,c);h!=null&&(a[0]=h)}a[0]===void 0&&(a[0]=c),o&&d===void 0&&o.set(a[0])}iw(a)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),ts.delete(this)}cancel(){this.state==="scheduled"&&(ts.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mw=t=>t.startsWith("--");function pw(t,a,i){mw(a)?t.style.setProperty(a,i):t.style[a]=i}const yw=Rf(()=>window.ScrollTimeline!==void 0),gw={};function vw(t,a){const i=Rf(t);return()=>gw[a]??i()}const zx=vw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ol=([t,a,i,r])=>`cubic-bezier(${t}, ${a}, ${i}, ${r})`,ag={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ol([0,.65,.55,1]),circOut:ol([.55,0,1,.45]),backIn:ol([.31,.01,.66,-.59]),backOut:ol([.33,1.53,.69,.99])};function Lx(t,a){if(t)return typeof t=="function"?zx()?Ox(t,a):"ease-out":bx(t)?ol(t):Array.isArray(t)?t.map(i=>Lx(i,a)||ag.easeOut):ag[t]}function xw(t,a,i,{delay:r=0,duration:o=300,repeat:d=0,repeatType:c="loop",ease:h="easeOut",times:p}={},y=void 0){const g={[a]:i};p&&(g.offset=p);const x=Lx(h,o);Array.isArray(x)&&(g.easing=x);const S={delay:r,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:d+1,direction:c==="reverse"?"alternate":"normal"};return y&&(S.pseudoElement=y),t.animate(g,S)}function _x(t){return typeof t=="function"&&"applyToOptions"in t}function bw({type:t,...a}){return _x(t)&&zx()?t.applyToOptions(a):(a.duration??(a.duration=300),a.ease??(a.ease="easeOut"),a)}class Sw extends qf{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;const{element:i,name:r,keyframes:o,pseudoElement:d,allowFlatten:c=!1,finalKeyframe:h,onComplete:p}=a;this.isPseudoElement=!!d,this.allowFlatten=c,this.options=a,Nf(typeof a.type!="string");const y=bw(a);this.animation=xw(i,r,o,y,d),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const g=Bf(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):pw(i,r,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:a}=this;a==="idle"||a==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const a=this.animation.effect?.getComputedTiming?.().duration||0;return sn(Number(a))}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+sn(a)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(a){this.finishedTime=null,this.animation.currentTime=En(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&yw()?(this.animation.timeline=a,ln):i(this)}}const Vx={anticipate:yx,backInOut:px,circInOut:vx};function Tw(t){return t in Vx}function Ew(t){typeof t.ease=="string"&&Tw(t.ease)&&(t.ease=Vx[t.ease])}const sg=10;class jw extends Sw{constructor(a){Ew(a),Mx(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){const{motionValue:i,onUpdate:r,onComplete:o,element:d,...c}=this.options;if(!i)return;if(a!==void 0){i.set(a);return}const h=new Hf({...c,autoplay:!1}),p=En(this.finishedTime??this.time);i.setWithVelocity(h.sample(p-sg).value,h.sample(p).value,sg),h.stop()}}const ig=(t,a)=>a==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Aa.test(t)||t==="0")&&!t.startsWith("url("));function Cw(t){const a=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==a)return!0}function ww(t,a,i,r){const o=t[0];if(o===null)return!1;if(a==="display"||a==="visibility")return!0;const d=t[t.length-1],c=ig(o,a),h=ig(d,a);return!c||!h?!1:Cw(t)||(i==="spring"||_x(i))&&r}function Kd(t){t.duration=0,t.type="keyframes"}const Aw=new Set(["opacity","clipPath","filter","transform"]),Nw=Rf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rw(t){const{motionValue:a,name:i,repeatDelay:r,repeatType:o,damping:d,type:c}=t;if(!(a?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=a.owner.getProps();return Nw()&&i&&Aw.has(i)&&(i!=="transform"||!y)&&!p&&!r&&o!=="mirror"&&d!==0&&c!=="inertia"}const Ow=40;class Dw extends qf{constructor({autoplay:a=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:d=0,repeatType:c="loop",keyframes:h,name:p,motionValue:y,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dt.now();const S={autoplay:a,delay:i,type:r,repeat:o,repeatDelay:d,repeatType:c,name:p,motionValue:y,element:g,...x},j=g?.KeyframeResolver||Pf;this.keyframeResolver=new j(h,(E,C,N)=>this.onKeyframesResolved(E,C,S,!N),p,y,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,i,r,o){this.keyframeResolver=void 0;const{name:d,type:c,velocity:h,delay:p,isHandoff:y,onUpdate:g}=r;this.resolvedAt=Dt.now(),ww(a,d,c,h)||((Xn.instantAnimations||!p)&&g?.(Bf(a,r,i)),a[0]=a[a.length-1],Kd(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Ow?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:a},j=!y&&Rw(S)?new jw({...S,element:S.motionValue.owner.current}):new Hf(S);j.finished.then(()=>this.notifyFinished()).catch(ln),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(a,i){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Mw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uw(t){const a=Mw.exec(t);if(!a)return[,];const[,i,r,o]=a;return[`--${i??r}`,o]}function Bx(t,a,i=1){const[r,o]=Uw(t);if(!r)return;const d=window.getComputedStyle(a).getPropertyValue(r);if(d){const c=d.trim();return rx(c)?parseFloat(c):c}return kf(o)?Bx(o,a,i+1):o}function Ff(t,a){return t?.[a]??t?.default??t}const qx=new Set(["width","height","top","left","right","bottom",...ri]),kw={test:t=>t==="auto",parse:t=>t},Hx=t=>a=>a.test(t),Px=[li,de,jn,Ea,CC,jC,kw],lg=t=>Px.find(Hx(t));function zw(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ux(t):!0}const Lw=new Set(["brightness","contrast","saturate","opacity"]);function _w(t){const[a,i]=t.slice(0,-1).split("(");if(a==="drop-shadow")return t;const[r]=i.match(zf)||[];if(!r)return t;const o=i.replace(r,"");let d=Lw.has(a)?1:0;return r!==i&&(d*=100),a+"("+d+o+")"}const Vw=/\b([a-z-]*)\(.*?\)/gu,Yd={...Aa,getAnimatableNone:t=>{const a=t.match(Vw);return a?a.map(_w).join(" "):t}},rg={...li,transform:Math.round},Bw={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:to,scaleX:to,scaleY:to,scaleZ:to,skew:Ea,skewX:Ea,skewY:Ea,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:yl,originX:Xy,originY:Xy,originZ:de},Qf={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...Bw,zIndex:rg,fillOpacity:yl,strokeOpacity:yl,numOctaves:rg},qw={...Qf,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Yd,WebkitFilter:Yd},Fx=t=>qw[t];function Qx(t,a){let i=Fx(t);return i!==Yd&&(i=Aa),i.getAnimatableNone?i.getAnimatableNone(a):void 0}const Hw=new Set(["auto","none","0"]);function Pw(t,a,i){let r=0,o;for(;r<t.length&&!o;){const d=t[r];typeof d=="string"&&!Hw.has(d)&&gl(d).values.length&&(o=t[r]),r++}if(o&&i)for(const d of a)t[d]=Qx(i,o)}class Fw extends Pf{constructor(a,i,r,o,d){super(a,i,r,o,d,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<a.length;p++){let y=a[p];if(typeof y=="string"&&(y=y.trim(),kf(y))){const g=Bx(y,i.current);g!==void 0&&(a[p]=g),p===a.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!qx.has(r)||a.length!==2)return;const[o,d]=a,c=lg(o),h=lg(d);if(c!==h)if(ng(c)&&ng(h))for(let p=0;p<a.length;p++){const y=a[p];typeof y=="string"&&(a[p]=parseFloat(y))}else es[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:i}=this,r=[];for(let o=0;o<a.length;o++)(a[o]===null||zw(a[o]))&&r.push(o);r.length&&Pw(a,r,i)}measureInitialState(){const{element:a,unresolvedKeyframes:i,name:r}=this;if(!a||!a.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=es[r](a.measureViewportBox(),window.getComputedStyle(a.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&a.getValue(r,o).jump(o,!1)}measureEndState(){const{element:a,name:i,unresolvedKeyframes:r}=this;if(!a||!a.current)return;const o=a.getValue(i);o&&o.jump(this.measuredOrigin,!1);const d=r.length-1,c=r[d];r[d]=es[i](a.measureViewportBox(),window.getComputedStyle(a.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{a.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function Qw(t,a,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=i?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Gx=(t,a)=>a&&typeof t=="number"?a.transform(t):t;function Kx(t){return ox(t)&&"offsetHeight"in t}const og=30,Gw=t=>!isNaN(parseFloat(t));class Kw{constructor(a,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=i.owner}setCurrent(a){this.current=a,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=Gw(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,i){this.events[a]||(this.events[a]=new Of);const r=this.events[a].add(i);return a==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,i){this.passiveEffect=a,this.stopPassiveEffect=i}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-r}jump(a,i=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>og)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,og);return cx(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(a){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=a(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Is(t,a){return new Kw(t,a)}const{schedule:Gf}=Sx(queueMicrotask,!1),hn={x:!1,y:!1};function Yx(){return hn.x||hn.y}function Yw(t){return t==="x"||t==="y"?hn[t]?null:(hn[t]=!0,()=>{hn[t]=!1}):hn.x||hn.y?null:(hn.x=hn.y=!0,()=>{hn.x=hn.y=!1})}function Xx(t,a){const i=Qw(t),r=new AbortController,o={passive:!0,...a,signal:r.signal};return[i,o,()=>r.abort()]}function ug(t){return!(t.pointerType==="touch"||Yx())}function Xw(t,a,i={}){const[r,o,d]=Xx(t,i),c=h=>{if(!ug(h))return;const{target:p}=h,y=a(p,h);if(typeof y!="function"||!p)return;const g=x=>{ug(x)&&(y(x),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),d}const Zx=(t,a)=>a?t===a?!0:Zx(t,a.parentElement):!1,Kf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Zw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Jw(t){return Zw.has(t.tagName)||t.tabIndex!==-1}const co=new WeakSet;function cg(t){return a=>{a.key==="Enter"&&t(a)}}function hd(t,a){t.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const $w=(t,a)=>{const i=t.currentTarget;if(!i)return;const r=cg(()=>{if(co.has(i))return;hd(i,"down");const o=cg(()=>{hd(i,"up")}),d=()=>hd(i,"cancel");i.addEventListener("keyup",o,a),i.addEventListener("blur",d,a)});i.addEventListener("keydown",r,a),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),a)};function dg(t){return Kf(t)&&!Yx()}function Iw(t,a,i={}){const[r,o,d]=Xx(t,i),c=h=>{const p=h.currentTarget;if(!dg(h))return;co.add(p);const y=a(p,h),g=(j,E)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",S),co.has(p)&&co.delete(p),dg(j)&&typeof y=="function"&&y(j,{success:E})},x=j=>{g(j,p===window||p===document||i.useGlobalTarget||Zx(p,j.target))},S=j=>{g(j,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",S,o)};return r.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),Kx(h)&&(h.addEventListener("focus",y=>$w(y,o)),!Jw(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),d}function Jx(t){return ox(t)&&"ownerSVGElement"in t}function Ww(t){return Jx(t)&&t.tagName==="svg"}const gt=t=>!!(t&&t.getVelocity),eA=[...Px,at,Aa],tA=t=>eA.find(Hx(t)),Yf=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fg(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function nA(...t){return a=>{let i=!1;const r=t.map(o=>{const d=fg(o,a);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let o=0;o<r.length;o++){const d=r[o];typeof d=="function"?d():fg(t[o],null)}}}}function aA(...t){return T.useCallback(nA(...t),t)}class sA extends T.Component{getSnapshotBeforeUpdate(a){const i=this.props.childRef.current;if(i&&a.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=Kx(r)&&r.offsetWidth||0,d=this.props.sizeRef.current;d.height=i.offsetHeight||0,d.width=i.offsetWidth||0,d.top=i.offsetTop,d.left=i.offsetLeft,d.right=o-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iA({children:t,isPresent:a,anchorX:i,root:r}){const o=T.useId(),d=T.useRef(null),c=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=T.useContext(Yf),p=aA(d,t?.ref);return T.useInsertionEffect(()=>{const{width:y,height:g,top:x,left:S,right:j}=c.current;if(a||!d.current||!y||!g)return;const E=i==="left"?`left: ${S}`:`right: ${j}`;d.current.dataset.motionPopId=o;const C=document.createElement("style");h&&(C.nonce=h);const N=r??document.head;return N.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${g}px !important;
            ${E}px !important;
            top: ${x}px !important;
          }
        `),()=>{N.contains(C)&&N.removeChild(C)}},[a]),m.jsx(sA,{isPresent:a,childRef:d,sizeRef:c,children:T.cloneElement(t,{ref:p})})}const lA=({children:t,initial:a,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:d,mode:c,anchorX:h,root:p})=>{const y=jf(rA),g=T.useId();let x=!0,S=T.useMemo(()=>(x=!1,{id:g,initial:a,isPresent:i,custom:o,onExitComplete:j=>{y.set(j,!0);for(const E of y.values())if(!E)return;r&&r()},register:j=>(y.set(j,!1),()=>y.delete(j))}),[i,y,r]);return d&&x&&(S={...S}),T.useMemo(()=>{y.forEach((j,E)=>y.set(E,!1))},[i]),T.useEffect(()=>{!i&&!y.size&&r&&r()},[i]),c==="popLayout"&&(t=m.jsx(iA,{isPresent:i,anchorX:h,root:p,children:t})),m.jsx(Mo.Provider,{value:S,children:t})};function rA(){return new Map}function $x(t=!0){const a=T.useContext(Mo);if(a===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=a,d=T.useId();T.useEffect(()=>{if(t)return o(d)},[t]);const c=T.useCallback(()=>t&&r&&r(d),[d,r,t]);return!i&&r?[!1,c]:[!0]}const no=t=>t.key||"";function hg(t){const a=[];return T.Children.forEach(t,i=>{T.isValidElement(i)&&a.push(i)}),a}const So=({children:t,custom:a,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:d="sync",propagate:c=!1,anchorX:h="left",root:p})=>{const[y,g]=$x(c),x=T.useMemo(()=>hg(t),[t]),S=c&&!y?[]:x.map(no),j=T.useRef(!0),E=T.useRef(x),C=jf(()=>new Map),[N,M]=T.useState(x),[L,O]=T.useState(x);lx(()=>{j.current=!1,E.current=x;for(let J=0;J<L.length;J++){const K=no(L[J]);S.includes(K)?C.delete(K):C.get(K)!==!0&&C.set(K,!1)}},[L,S.length,S.join("-")]);const Q=[];if(x!==N){let J=[...x];for(let K=0;K<L.length;K++){const $=L[K],le=no($);S.includes(le)||(J.splice(K,0,$),Q.push($))}return d==="wait"&&Q.length&&(J=Q),O(hg(J)),M(x),null}const{forceRender:Z}=T.useContext(Ef);return m.jsx(m.Fragment,{children:L.map(J=>{const K=no(J),$=c&&!y?!1:x===L||S.includes(K),le=()=>{if(C.has(K))C.set(K,!0);else return;let oe=!0;C.forEach(be=>{be||(oe=!1)}),oe&&(Z?.(),O(E.current),c&&g?.(),r&&r())};return m.jsx(lA,{isPresent:$,initial:!j.current||i?void 0:!1,custom:a,presenceAffectsLayout:o,mode:d,root:p,onExitComplete:$?void 0:le,anchorX:h,children:J},K)})})},Ix=T.createContext({strict:!1}),mg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ws={};for(const t in mg)Ws[t]={isEnabled:a=>mg[t].some(i=>!!a[i])};function oA(t){for(const a in t)Ws[a]={...Ws[a],...t[a]}}const uA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function To(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uA.has(t)}let Wx=t=>!To(t);function cA(t){typeof t=="function"&&(Wx=a=>a.startsWith("on")?!To(a):t(a))}try{cA(require("@emotion/is-prop-valid").default)}catch{}function dA(t,a,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Wx(o)||i===!0&&To(o)||!a&&!To(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Uo=T.createContext({});function ko(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vl(t){return typeof t=="string"||Array.isArray(t)}const Xf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zf=["initial",...Xf];function zo(t){return ko(t.animate)||Zf.some(a=>vl(t[a]))}function eb(t){return!!(zo(t)||t.variants)}function fA(t,a){if(zo(t)){const{initial:i,animate:r}=t;return{initial:i===!1||vl(i)?i:void 0,animate:vl(r)?r:void 0}}return t.inherit!==!1?a:{}}function hA(t){const{initial:a,animate:i}=fA(t,T.useContext(Uo));return T.useMemo(()=>({initial:a,animate:i}),[pg(a),pg(i)])}function pg(t){return Array.isArray(t)?t.join(" "):t}const xl={};function mA(t){for(const a in t)xl[a]=t[a],Uf(a)&&(xl[a].isCSSVariable=!0)}function tb(t,{layout:a,layoutId:i}){return oi.has(t)||t.startsWith("origin")||(a||i!==void 0)&&(!!xl[t]||t==="opacity")}const pA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yA=ri.length;function gA(t,a,i){let r="",o=!0;for(let d=0;d<yA;d++){const c=ri[d],h=t[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||i){const y=Gx(h,Qf[c]);if(!p){o=!1;const g=pA[c]||c;r+=`${g}(${y}) `}i&&(a[c]=y)}}return r=r.trim(),i?r=i(a,o?"":r):o&&(r="none"),r}function Jf(t,a,i){const{style:r,vars:o,transformOrigin:d}=t;let c=!1,h=!1;for(const p in a){const y=a[p];if(oi.has(p)){c=!0;continue}else if(Uf(p)){o[p]=y;continue}else{const g=Gx(y,Qf[p]);p.startsWith("origin")?(h=!0,d[p]=g):r[p]=g}}if(a.transform||(c||i?r.transform=gA(a,t.transform,i):r.transform&&(r.transform="none")),h){const{originX:p="50%",originY:y="50%",originZ:g=0}=d;r.transformOrigin=`${p} ${y} ${g}`}}const $f=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nb(t,a,i){for(const r in a)!gt(a[r])&&!tb(r,i)&&(t[r]=a[r])}function vA({transformTemplate:t},a){return T.useMemo(()=>{const i=$f();return Jf(i,a,t),Object.assign({},i.vars,i.style)},[a])}function xA(t,a){const i=t.style||{},r={};return nb(r,i,t),Object.assign(r,vA(t,a)),r}function bA(t,a){const i={},r=xA(t,a);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const SA={offset:"stroke-dashoffset",array:"stroke-dasharray"},TA={offset:"strokeDashoffset",array:"strokeDasharray"};function EA(t,a,i=1,r=0,o=!0){t.pathLength=1;const d=o?SA:TA;t[d.offset]=de.transform(-r);const c=de.transform(a),h=de.transform(i);t[d.array]=`${c} ${h}`}function ab(t,{attrX:a,attrY:i,attrScale:r,pathLength:o,pathSpacing:d=1,pathOffset:c=0,...h},p,y,g){if(Jf(t,h,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:S}=t;x.transform&&(S.transform=x.transform,delete x.transform),(S.transform||x.transformOrigin)&&(S.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),S.transform&&(S.transformBox=g?.transformBox??"fill-box",delete x.transformBox),a!==void 0&&(x.x=a),i!==void 0&&(x.y=i),r!==void 0&&(x.scale=r),o!==void 0&&EA(x,o,d,c,!1)}const sb=()=>({...$f(),attrs:{}}),ib=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jA(t,a,i,r){const o=T.useMemo(()=>{const d=sb();return ab(d,a,ib(r),t.transformTemplate,t.style),{...d.attrs,style:{...d.style}}},[a]);if(t.style){const d={};nb(d,t.style,t),o.style={...d,...o.style}}return o}const CA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function If(t){return typeof t!="string"||t.includes("-")?!1:!!(CA.indexOf(t)>-1||/[A-Z]/u.test(t))}function wA(t,a,i,{latestValues:r},o,d=!1){const h=(If(t)?jA:bA)(a,r,o,t),p=dA(a,typeof t=="string",d),y=t!==T.Fragment?{...p,...h,ref:i}:{},{children:g}=a,x=T.useMemo(()=>gt(g)?g.get():g,[g]);return T.createElement(t,{...y,children:x})}function yg(t){const a=[{},{}];return t?.values.forEach((i,r)=>{a[0][r]=i.get(),a[1][r]=i.getVelocity()}),a}function Wf(t,a,i,r){if(typeof a=="function"){const[o,d]=yg(r);a=a(i!==void 0?i:t.custom,o,d)}if(typeof a=="string"&&(a=t.variants&&t.variants[a]),typeof a=="function"){const[o,d]=yg(r);a=a(i!==void 0?i:t.custom,o,d)}return a}function fo(t){return gt(t)?t.get():t}function AA({scrapeMotionValuesFromProps:t,createRenderState:a},i,r,o){return{latestValues:NA(i,r,o,t),renderState:a()}}function NA(t,a,i,r){const o={},d=r(t,{});for(const S in d)o[S]=fo(d[S]);let{initial:c,animate:h}=t;const p=zo(t),y=eb(t);a&&y&&!p&&t.inherit!==!1&&(c===void 0&&(c=a.initial),h===void 0&&(h=a.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const x=g?h:c;if(x&&typeof x!="boolean"&&!ko(x)){const S=Array.isArray(x)?x:[x];for(let j=0;j<S.length;j++){const E=Wf(t,S[j]);if(E){const{transitionEnd:C,transition:N,...M}=E;for(const L in M){let O=M[L];if(Array.isArray(O)){const Q=g?O.length-1:0;O=O[Q]}O!==null&&(o[L]=O)}for(const L in C)o[L]=C[L]}}}return o}const lb=t=>(a,i)=>{const r=T.useContext(Uo),o=T.useContext(Mo),d=()=>AA(t,a,r,o);return i?d():jf(d)};function eh(t,a,i){const{style:r}=t,o={};for(const d in r)(gt(r[d])||a.style&&gt(a.style[d])||tb(d,t)||i?.getValue(d)?.liveStyle!==void 0)&&(o[d]=r[d]);return o}const RA=lb({scrapeMotionValuesFromProps:eh,createRenderState:$f});function rb(t,a,i){const r=eh(t,a,i);for(const o in t)if(gt(t[o])||gt(a[o])){const d=ri.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[d]=t[o]}return r}const OA=lb({scrapeMotionValuesFromProps:rb,createRenderState:sb}),DA=Symbol.for("motionComponentSymbol");function Ks(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MA(t,a,i){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),a&&(r?a.mount(r):a.unmount()),i&&(typeof i=="function"?i(r):Ks(i)&&(i.current=r))},[a])}const th=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UA="framerAppearId",ob="data-"+th(UA),ub=T.createContext({});function kA(t,a,i,r,o){const{visualElement:d}=T.useContext(Uo),c=T.useContext(Ix),h=T.useContext(Mo),p=T.useContext(Yf).reducedMotion,y=T.useRef(null);r=r||c.renderer,!y.current&&r&&(y.current=r(t,{visualState:a,parent:d,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=y.current,x=T.useContext(ub);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&zA(y.current,i,o,x);const S=T.useRef(!1);T.useInsertionEffect(()=>{g&&S.current&&g.update(i,h)});const j=i[ob],E=T.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return lx(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),T.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),E.current=!1),g.enteringChildren=void 0)}),g}function zA(t,a,i,r){const{layoutId:o,layout:d,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:y,layoutCrossfade:g}=a;t.projection=new i(t.latestValues,a["data-framer-portal-id"]?void 0:cb(t.parent)),t.projection.setOptions({layoutId:o,layout:d,alwaysMeasureLayout:!!c||h&&Ks(h),visualElement:t,animationType:typeof d=="string"?d:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:p,layoutRoot:y})}function cb(t){if(t)return t.options.allowProjection!==!1?t.projection:cb(t.parent)}function md(t,{forwardMotionProps:a=!1}={},i,r){i&&oA(i);const o=If(t)?OA:RA;function d(h,p){let y;const g={...T.useContext(Yf),...h,layoutId:LA(h)},{isStatic:x}=g,S=hA(h),j=o(h,x);if(!x&&Cf){_A();const E=VA(g);y=E.MeasureLayout,S.visualElement=kA(t,j,g,r,E.ProjectionNode)}return m.jsxs(Uo.Provider,{value:S,children:[y&&S.visualElement?m.jsx(y,{visualElement:S.visualElement,...g}):null,wA(t,h,MA(j,S.visualElement,p),j,x,a)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=T.forwardRef(d);return c[DA]=t,c}function LA({layoutId:t}){const a=T.useContext(Ef).id;return a&&t!==void 0?a+"-"+t:t}function _A(t,a){T.useContext(Ix).strict}function VA(t){const{drag:a,layout:i}=Ws;if(!a&&!i)return{};const r={...a,...i};return{MeasureLayout:a?.isEnabled(t)||i?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function BA(t,a){if(typeof Proxy>"u")return md;const i=new Map,r=(d,c)=>md(d,c,t,a),o=(d,c)=>r(d,c);return new Proxy(o,{get:(d,c)=>c==="create"?r:(i.has(c)||i.set(c,md(c,void 0,t,a)),i.get(c))})}function db({top:t,left:a,right:i,bottom:r}){return{x:{min:a,max:i},y:{min:t,max:r}}}function qA({x:t,y:a}){return{top:a.min,right:t.max,bottom:a.max,left:t.min}}function HA(t,a){if(!a)return t;const i=a({x:t.left,y:t.top}),r=a({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function pd(t){return t===void 0||t===1}function Xd({scale:t,scaleX:a,scaleY:i}){return!pd(t)||!pd(a)||!pd(i)}function Xa(t){return Xd(t)||fb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fb(t){return gg(t.x)||gg(t.y)}function gg(t){return t&&t!=="0%"}function Eo(t,a,i){const r=t-i,o=a*r;return i+o}function vg(t,a,i,r,o){return o!==void 0&&(t=Eo(t,o,r)),Eo(t,i,r)+a}function Zd(t,a=0,i=1,r,o){t.min=vg(t.min,a,i,r,o),t.max=vg(t.max,a,i,r,o)}function hb(t,{x:a,y:i}){Zd(t.x,a.translate,a.scale,a.originPoint),Zd(t.y,i.translate,i.scale,i.originPoint)}const xg=.999999999999,bg=1.0000000000001;function PA(t,a,i,r=!1){const o=i.length;if(!o)return;a.x=a.y=1;let d,c;for(let h=0;h<o;h++){d=i[h],c=d.projectionDelta;const{visualElement:p}=d.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xs(t,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),c&&(a.x*=c.x.scale,a.y*=c.y.scale,hb(t,c)),r&&Xa(d.latestValues)&&Xs(t,d.latestValues))}a.x<bg&&a.x>xg&&(a.x=1),a.y<bg&&a.y>xg&&(a.y=1)}function Ys(t,a){t.min=t.min+a,t.max=t.max+a}function Sg(t,a,i,r,o=.5){const d=Qe(t.min,t.max,o);Zd(t,a,i,d,r)}function Xs(t,a){Sg(t.x,a.x,a.scaleX,a.scale,a.originX),Sg(t.y,a.y,a.scaleY,a.scale,a.originY)}function mb(t,a){return db(HA(t.getBoundingClientRect(),a))}function FA(t,a,i){const r=mb(t,i),{scroll:o}=a;return o&&(Ys(r.x,o.offset.x),Ys(r.y,o.offset.y)),r}const Tg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zs=()=>({x:Tg(),y:Tg()}),Eg=()=>({min:0,max:0}),it=()=>({x:Eg(),y:Eg()}),Jd={current:null},pb={current:!1};function QA(){if(pb.current=!0,!!Cf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),a=()=>Jd.current=t.matches;t.addEventListener("change",a),a()}else Jd.current=!1}const GA=new WeakMap;function KA(t,a,i){for(const r in a){const o=a[r],d=i[r];if(gt(o))t.addValue(r,o);else if(gt(d))t.addValue(r,Is(o,{owner:t}));else if(d!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Is(c!==void 0?c:o,{owner:t}))}}for(const r in i)a[r]===void 0&&t.removeValue(r);return a}const jg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YA{scrapeMotionValuesFromProps(a,i,r){return{}}constructor({parent:a,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:d,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Dt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,He.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=y,this.parent=a,this.props=i,this.presenceContext=r,this.depth=a?a.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!d,this.isControllingVariants=zo(i),this.isVariantNode=eb(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in x){const j=x[S];p[S]!==void 0&&gt(j)&&j.set(p[S])}}mount(a){this.current=a,GA.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),pb.current||QA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const i=this.features[a];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,i){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const r=oi.has(a);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[a]=c,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,a,i)),this.valueSubscriptions.set(a,()=>{o(),d&&d(),i.owner&&i.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in Ws){const i=Ws[a];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[a]&&o&&r(this.props)&&(this.features[a]=new o(this)),this.features[a]){const d=this.features[a];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,i){this.latestValues[a]=i}update(a,i){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<jg.length;r++){const o=jg[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const d="on"+o,c=a[d];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=KA(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(a),()=>i.variantChildren.delete(a)}addValue(a,i){const r=this.values.get(a);i!==r&&(r&&this.removeValue(a),this.bindToMotionValue(a,i),this.values.set(a,i),this.latestValues[a]=i.get())}removeValue(a){this.values.delete(a);const i=this.valueSubscriptions.get(a);i&&(i(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,i){if(this.props.values&&this.props.values[a])return this.props.values[a];let r=this.values.get(a);return r===void 0&&i!==void 0&&(r=Is(i===null?void 0:i,{owner:this}),this.addValue(a,r)),r}readValue(a,i){let r=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options);return r!=null&&(typeof r=="string"&&(rx(r)||ux(r))?r=parseFloat(r):!tA(r)&&Aa.test(i)&&(r=Qx(a,i)),this.setBaseTarget(a,gt(r)?r.get():r)),gt(r)?r.get():r}setBaseTarget(a,i){this.baseTarget[a]=i}getBaseTarget(a){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const d=Wf(this.props,i,this.presenceContext?.custom);d&&(r=d[a])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,a);return o!==void 0&&!gt(o)?o:this.initialValues[a]!==void 0&&r===void 0?void 0:this.baseTarget[a]}on(a,i){return this.events[a]||(this.events[a]=new Of),this.events[a].add(i)}notify(a,...i){this.events[a]&&this.events[a].notify(...i)}scheduleRenderMicrotask(){Gf.render(this.render)}}class yb extends YA{constructor(){super(...arguments),this.KeyframeResolver=Fw}sortInstanceNodePosition(a,i){return a.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(a,i){return a.style?a.style[i]:void 0}removeValueFromRenderState(a,{vars:i,style:r}){delete i[a],delete r[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;gt(a)&&(this.childSubscription=a.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function gb(t,{style:a,vars:i},r,o){const d=t.style;let c;for(c in a)d[c]=a[c];o?.applyProjectionStyles(d,r);for(c in i)d.setProperty(c,i[c])}function XA(t){return window.getComputedStyle(t)}class ZA extends yb{constructor(){super(...arguments),this.type="html",this.renderInstance=gb}readValueFromInstance(a,i){if(oi.has(i))return this.projection?.isProjecting?Hd(i):ow(a,i);{const r=XA(a),o=(Uf(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(a,{transformPagePoint:i}){return mb(a,i)}build(a,i,r){Jf(a,i,r.transformTemplate)}scrapeMotionValuesFromProps(a,i,r){return eh(a,i,r)}}const vb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JA(t,a,i,r){gb(t,a,void 0,r);for(const o in a.attrs)t.setAttribute(vb.has(o)?o:th(o),a.attrs[o])}class $A extends yb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(a,i){return a[i]}readValueFromInstance(a,i){if(oi.has(i)){const r=Fx(i);return r&&r.default||0}return i=vb.has(i)?i:th(i),a.getAttribute(i)}scrapeMotionValuesFromProps(a,i,r){return rb(a,i,r)}build(a,i,r){ab(a,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(a,i,r,o){JA(a,i,r,o)}mount(a){this.isSVGTag=ib(a.tagName),super.mount(a)}}const IA=(t,a)=>If(t)?new $A(a):new ZA(a,{allowProjection:t!==T.Fragment});function Js(t,a,i){const r=t.getProps();return Wf(r,a,i!==void 0?i:r.custom,t)}const $d=t=>Array.isArray(t);function WA(t,a,i){t.hasValue(a)?t.getValue(a).set(i):t.addValue(a,Is(i))}function eN(t){return $d(t)?t[t.length-1]||0:t}function tN(t,a){const i=Js(t,a);let{transitionEnd:r={},transition:o={},...d}=i||{};d={...d,...r};for(const c in d){const h=eN(d[c]);WA(t,c,h)}}function nN(t){return!!(gt(t)&&t.add)}function Id(t,a){const i=t.getValue("willChange");if(nN(i))return i.add(a);if(!i&&Xn.WillChange){const r=new Xn.WillChange("auto");t.addValue("willChange",r),r.add(a)}}function xb(t){return t.props[ob]}const aN=t=>t!==null;function sN(t,{repeat:a,repeatType:i="loop"},r){const o=t.filter(aN),d=a&&i!=="loop"&&a%2===1?0:o.length-1;return o[d]}const iN={type:"spring",stiffness:500,damping:25,restSpeed:10},lN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rN={type:"keyframes",duration:.8},oN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uN=(t,{keyframes:a})=>a.length>2?rN:oi.has(t)?t.startsWith("scale")?lN(a[1]):iN:oN;function cN({when:t,delay:a,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:d,repeatType:c,repeatDelay:h,from:p,elapsed:y,...g}){return!!Object.keys(g).length}const nh=(t,a,i,r={},o,d)=>c=>{const h=Ff(r,t)||{},p=h.delay||r.delay||0;let{elapsed:y=0}=r;y=y-En(p);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:a.getVelocity(),...h,delay:-y,onUpdate:S=>{a.set(S),h.onUpdate&&h.onUpdate(S)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:a,element:d?void 0:o};cN(h)||Object.assign(g,uN(t,g)),g.duration&&(g.duration=En(g.duration)),g.repeatDelay&&(g.repeatDelay=En(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Kd(g),g.delay===0&&(x=!0)),(Xn.instantAnimations||Xn.skipAnimations)&&(x=!0,Kd(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,x&&!d&&a.get()!==void 0){const S=sN(g.keyframes,h);if(S!==void 0){He.update(()=>{g.onUpdate(S),g.onComplete()});return}}return h.isSync?new Hf(g):new Dw(g)};function dN({protectedKeys:t,needsAnimating:a},i){const r=t.hasOwnProperty(i)&&a[i]!==!0;return a[i]=!1,r}function bb(t,a,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:d=t.getDefaultTransition(),transitionEnd:c,...h}=a;r&&(d=r);const p=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const x=t.getValue(g,t.latestValues[g]??null),S=h[g];if(S===void 0||y&&dN(y,g))continue;const j={delay:i,...Ff(d||{},g)},E=x.get();if(E!==void 0&&!x.isAnimating&&!Array.isArray(S)&&S===E&&!j.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=xb(t);if(M){const L=window.MotionHandoffAnimation(M,g,He);L!==null&&(j.startTime=L,C=!0)}}Id(t,g),x.start(nh(g,x,S,t.shouldReduceMotion&&qx.has(g)?{type:!1}:j,t,C));const N=x.animation;N&&p.push(N)}return c&&Promise.all(p).then(()=>{He.update(()=>{c&&tN(t,c)})}),p}function Sb(t,a,i,r=0,o=1){const d=Array.from(t).sort((y,g)=>y.sortNodePosition(g)).indexOf(a),c=t.size,h=(c-1)*r;return typeof i=="function"?i(d,c):o===1?d*r:h-d*r}function Wd(t,a,i={}){const r=Js(t,a,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const d=r?()=>Promise.all(bb(t,r,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:x}=o;return fN(t,a,p,y,g,x,i)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,y]=h==="beforeChildren"?[d,c]:[c,d];return p().then(()=>y())}else return Promise.all([d(),c(i.delay)])}function fN(t,a,i=0,r=0,o=0,d=1,c){const h=[];for(const p of t.variantChildren)p.notify("AnimationStart",a),h.push(Wd(p,a,{...c,delay:i+(typeof r=="function"?0:r)+Sb(t.variantChildren,p,r,o,d)}).then(()=>p.notify("AnimationComplete",a)));return Promise.all(h)}function hN(t,a,i={}){t.notify("AnimationStart",a);let r;if(Array.isArray(a)){const o=a.map(d=>Wd(t,d,i));r=Promise.all(o)}else if(typeof a=="string")r=Wd(t,a,i);else{const o=typeof a=="function"?Js(t,a,i.custom):a;r=Promise.all(bb(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",a)})}function Tb(t,a){if(!Array.isArray(a))return!1;const i=a.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(a[r]!==t[r])return!1;return!0}const mN=Zf.length;function Eb(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?Eb(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const a={};for(let i=0;i<mN;i++){const r=Zf[i],o=t.props[r];(vl(o)||o===!1)&&(a[r]=o)}return a}const pN=[...Xf].reverse(),yN=Xf.length;function gN(t){return a=>Promise.all(a.map(({animation:i,options:r})=>hN(t,i,r)))}function vN(t){let a=gN(t),i=Cg(),r=!0;const o=p=>(y,g)=>{const x=Js(t,g,p==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:S,transitionEnd:j,...E}=x;y={...y,...E,...j}}return y};function d(p){a=p(t)}function c(p){const{props:y}=t,g=Eb(t.parent)||{},x=[],S=new Set;let j={},E=1/0;for(let N=0;N<yN;N++){const M=pN[N],L=i[M],O=y[M]!==void 0?y[M]:g[M],Q=vl(O),Z=M===p?L.isActive:null;Z===!1&&(E=N);let J=O===g[M]&&O!==y[M]&&Q;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),L.protectedKeys={...j},!L.isActive&&Z===null||!O&&!L.prevProp||ko(O)||typeof O=="boolean")continue;const K=xN(L.prevProp,O);let $=K||M===p&&L.isActive&&!J&&Q||N>E&&Q,le=!1;const oe=Array.isArray(O)?O:[O];let be=oe.reduce(o(M),{});Z===!1&&(be={});const{prevResolvedValues:te={}}=L,Ie={...te,...be},_e=Y=>{$=!0,S.has(Y)&&(le=!0,S.delete(Y)),L.needsAnimating[Y]=!0;const W=t.getValue(Y);W&&(W.liveStyle=!1)};for(const Y in Ie){const W=be[Y],fe=te[Y];if(j.hasOwnProperty(Y))continue;let me=!1;$d(W)&&$d(fe)?me=!Tb(W,fe):me=W!==fe,me?W!=null?_e(Y):S.add(Y):W!==void 0&&S.has(Y)?_e(Y):L.protectedKeys[Y]=!0}L.prevProp=O,L.prevResolvedValues=be,L.isActive&&(j={...j,...be}),r&&t.blockInitialAnimation&&($=!1);const Fe=J&&K;$&&(!Fe||le)&&x.push(...oe.map(Y=>{const W={type:M};if(typeof Y=="string"&&r&&!Fe&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,me=Js(fe,Y);if(fe.enteringChildren&&me){const{delayChildren:A}=me.transition||{};W.delay=Sb(fe.enteringChildren,t,A)}}return{animation:Y,options:W}}))}if(S.size){const N={};if(typeof y.initial!="boolean"){const M=Js(t,Array.isArray(y.initial)?y.initial[0]:y.initial);M&&M.transition&&(N.transition=M.transition)}S.forEach(M=>{const L=t.getBaseTarget(M),O=t.getValue(M);O&&(O.liveStyle=!0),N[M]=L??null}),x.push({animation:N})}let C=!!x.length;return r&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?a(x):Promise.resolve()}function h(p,y){if(i[p].isActive===y)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(p,y)),i[p].isActive=y;const g=c(p);for(const x in i)i[x].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:d,getState:()=>i,reset:()=>{i=Cg()}}}function xN(t,a){return typeof a=="string"?a!==t:Array.isArray(a)?!Tb(a,t):!1}function Ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cg(){return{animate:Ya(!0),whileInView:Ya(),whileHover:Ya(),whileTap:Ya(),whileDrag:Ya(),whileFocus:Ya(),exit:Ya()}}class Na{constructor(a){this.isMounted=!1,this.node=a}update(){}}class bN extends Na{constructor(a){super(a),a.animationState||(a.animationState=vN(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();ko(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:i}=this.node.prevProps||{};a!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SN=0;class TN extends Na{constructor(){super(...arguments),this.id=SN++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===r)return;const o=this.node.animationState.setActive("exit",!a);i&&!a&&o.then(()=>{i(this.id)})}mount(){const{register:a,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),a&&(this.unmount=a(this.id))}unmount(){}}const EN={animation:{Feature:bN},exit:{Feature:TN}};function bl(t,a,i,r={passive:!0}){return t.addEventListener(a,i,r),()=>t.removeEventListener(a,i)}function Ul(t){return{point:{x:t.pageX,y:t.pageY}}}const jN=t=>a=>Kf(a)&&t(a,Ul(a));function dl(t,a,i,r){return bl(t,a,jN(i),r)}const jb=1e-4,CN=1-jb,wN=1+jb,Cb=.01,AN=0-Cb,NN=0+Cb;function Tt(t){return t.max-t.min}function RN(t,a,i){return Math.abs(t-a)<=i}function wg(t,a,i,r=.5){t.origin=r,t.originPoint=Qe(a.min,a.max,t.origin),t.scale=Tt(i)/Tt(a),t.translate=Qe(i.min,i.max,t.origin)-t.originPoint,(t.scale>=CN&&t.scale<=wN||isNaN(t.scale))&&(t.scale=1),(t.translate>=AN&&t.translate<=NN||isNaN(t.translate))&&(t.translate=0)}function fl(t,a,i,r){wg(t.x,a.x,i.x,r?r.originX:void 0),wg(t.y,a.y,i.y,r?r.originY:void 0)}function Ag(t,a,i){t.min=i.min+a.min,t.max=t.min+Tt(a)}function ON(t,a,i){Ag(t.x,a.x,i.x),Ag(t.y,a.y,i.y)}function Ng(t,a,i){t.min=a.min-i.min,t.max=t.min+Tt(a)}function jo(t,a,i){Ng(t.x,a.x,i.x),Ng(t.y,a.y,i.y)}function nn(t){return[t("x"),t("y")]}const wb=({current:t})=>t?t.ownerDocument.defaultView:null,Rg=(t,a)=>Math.abs(t-a);function DN(t,a){const i=Rg(t.x,a.x),r=Rg(t.y,a.y);return Math.sqrt(i**2+r**2)}class Ab{constructor(a,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:d=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=gd(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,E=DN(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!E)return;const{point:C}=S,{timestamp:N}=mt;this.history.push({...C,timestamp:N});const{onStart:M,onMove:L}=this.handlers;j||(M&&M(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,S)},this.handlePointerMove=(S,j)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=yd(j,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(S,j)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=gd(S.type==="pointercancel"?this.lastMoveEventInfo:yd(j,this.transformPagePoint),this.history);this.startEvent&&E&&E(S,M),C&&C(S,M)},!Kf(a))return;this.dragSnapToOrigin=d,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const h=Ul(a),p=yd(h,this.transformPagePoint),{point:y}=p,{timestamp:g}=mt;this.history=[{...y,timestamp:g}];const{onSessionStart:x}=i;x&&x(a,gd(p,this.history)),this.removeListeners=Ol(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function yd(t,a){return a?{point:a(t.point)}:t}function Og(t,a){return{x:t.x-a.x,y:t.y-a.y}}function gd({point:t},a){return{point:t,delta:Og(t,Nb(a)),offset:Og(t,MN(a)),velocity:UN(a,.1)}}function MN(t){return t[0]}function Nb(t){return t[t.length-1]}function UN(t,a){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=Nb(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>En(a)));)i--;if(!r)return{x:0,y:0};const d=sn(o.timestamp-r.timestamp);if(d===0)return{x:0,y:0};const c={x:(o.x-r.x)/d,y:(o.y-r.y)/d};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function kN(t,{min:a,max:i},r){return a!==void 0&&t<a?t=r?Qe(a,t,r.min):Math.max(t,a):i!==void 0&&t>i&&(t=r?Qe(i,t,r.max):Math.min(t,i)),t}function Dg(t,a,i){return{min:a!==void 0?t.min+a:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function zN(t,{top:a,left:i,bottom:r,right:o}){return{x:Dg(t.x,i,o),y:Dg(t.y,a,r)}}function Mg(t,a){let i=a.min-t.min,r=a.max-t.max;return a.max-a.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function LN(t,a){return{x:Mg(t.x,a.x),y:Mg(t.y,a.y)}}function _N(t,a){let i=.5;const r=Tt(t),o=Tt(a);return o>r?i=pl(a.min,a.max-r,t.min):r>o&&(i=pl(t.min,t.max-o,a.min)),Yn(0,1,i)}function VN(t,a){const i={};return a.min!==void 0&&(i.min=a.min-t.min),a.max!==void 0&&(i.max=a.max-t.min),i}const ef=.35;function BN(t=ef){return t===!1?t=0:t===!0&&(t=ef),{x:Ug(t,"left","right"),y:Ug(t,"top","bottom")}}function Ug(t,a,i){return{min:kg(t,a),max:kg(t,i)}}function kg(t,a){return typeof t=="number"?t:t[a]||0}const qN=new WeakMap;class HN{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const d=x=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Ul(x).point)},c=(x,S)=>{const{drag:j,dragPropagation:E,onDragStart:C}=this.getProps();if(j&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yw(j),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(M=>{let L=this.getAxisMotionValue(M).get()||0;if(jn.test(L)){const{projection:O}=this.visualElement;if(O&&O.layout){const Q=O.layout.layoutBox[M];Q&&(L=Tt(Q)*(parseFloat(L)/100))}}this.originPoint[M]=L}),C&&He.postRender(()=>C(x,S)),Id(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S;const{dragPropagation:j,dragDirectionLock:E,onDirectionLock:C,onDrag:N}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:M}=S;if(E&&this.currentDirection===null){this.currentDirection=PN(M),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",S.point,M),this.updateAxis("y",S.point,M),this.visualElement.render(),N&&N(x,S)},p=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S,this.stop(x,S),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>nn(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Ab(a,{onSessionStart:d,onStart:c,onMove:h,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:wb(this.visualElement)})}stop(a,i){const r=a||this.latestPointerEvent,o=i||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&He.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:a,animationState:i}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(a,i,r){const{drag:o}=this.getProps();if(!r||!ao(a,o,this.currentDirection))return;const d=this.getAxisMotionValue(a);let c=this.originPoint[a]+r[a];this.constraints&&this.constraints[a]&&(c=kN(c,this.constraints[a],this.elastic[a])),d.set(c)}resolveConstraints(){const{dragConstraints:a,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;a&&Ks(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&r?this.constraints=zN(r.layoutBox,a):this.constraints=!1,this.elastic=BN(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=VN(r.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:i}=this.getProps();if(!a||!Ks(a))return!1;const r=a.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const d=FA(r,o.root,this.visualElement.getTransformPagePoint());let c=LN(o.layout.layoutBox,d);if(i){const h=i(qA(c));this.hasMutatedConstraints=!!h,h&&(c=db(h))}return c}startAnimation(a){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:d,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},y=nn(g=>{if(!ao(g,i,this.currentDirection))return;let x=p&&p[g]||{};c&&(x={min:0,max:0});const S=o?200:1e6,j=o?40:1e7,E={type:"inertia",velocity:r?a[g]:0,bounceStiffness:S,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...d,...x};return this.startAxisValueAnimation(g,E)});return Promise.all(y).then(h)}startAxisValueAnimation(a,i){const r=this.getAxisMotionValue(a);return Id(this.visualElement,a),r.start(nh(a,r,0,i,this.visualElement,!1))}stopAnimation(){nn(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){nn(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){const i=`_drag${a.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(a,(r.initial?r.initial[a]:void 0)||0)}snapToCursor(a){nn(i=>{const{drag:r}=this.getProps();if(!ao(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,d=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[i];d.set(a[i]-Qe(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Ks(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();o[c]=_N({min:p,max:p},this.constraints[c])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(c=>{if(!ao(c,a,null))return;const h=this.getAxisMotionValue(c),{min:p,max:y}=this.constraints[c];h.set(Qe(p,y,o[c]))})}addListeners(){if(!this.visualElement.current)return;qN.set(this.visualElement,this);const a=this.visualElement.current,i=dl(a,"pointerdown",p=>{const{drag:y,dragListener:g=!0}=this.getProps();y&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ks(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,d=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),He.read(r);const c=bl(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(nn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=p[g].translate,x.set(x.get()+p[g].translate))}),this.visualElement.render())}));return()=>{c(),i(),d(),h&&h()}}getProps(){const a=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:d=!1,dragElastic:c=ef,dragMomentum:h=!0}=a;return{...a,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:d,dragElastic:c,dragMomentum:h}}}function ao(t,a,i){return(a===!0||a===t)&&(i===null||i===t)}function PN(t,a=10){let i=null;return Math.abs(t.y)>a?i="y":Math.abs(t.x)>a&&(i="x"),i}class FN extends Na{constructor(a){super(a),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new HN(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const zg=t=>(a,i)=>{t&&He.postRender(()=>t(a,i))};class QN extends Na{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(a){this.session=new Ab(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wb(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:zg(a),onStart:zg(i),onMove:r,onEnd:(d,c)=>{delete this.session,o&&He.postRender(()=>o(d,c))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ho={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lg(t,a){return a.max===a.min?0:t/(a.max-a.min)*100}const ll={correct:(t,a)=>{if(!a.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const i=Lg(t,a.target.x),r=Lg(t,a.target.y);return`${i}% ${r}%`}},GN={correct:(t,{treeScale:a,projectionDelta:i})=>{const r=t,o=Aa.parse(t);if(o.length>5)return r;const d=Aa.createTransformer(t),c=typeof o[0]!="number"?1:0,h=i.x.scale*a.x,p=i.y.scale*a.y;o[0+c]/=h,o[1+c]/=p;const y=Qe(h,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=y),typeof o[3+c]=="number"&&(o[3+c]/=y),d(o)}};let vd=!1;class KN extends T.Component{componentDidMount(){const{visualElement:a,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:d}=a;mA(YN),d&&(i.group&&i.group.add(d),r&&r.register&&o&&r.register(d),vd&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),ho.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:i,visualElement:r,drag:o,isPresent:d}=this.props,{projection:c}=r;return c&&(c.isPresent=d,vd=!0,o||a.layoutDependency!==i||i===void 0||a.isPresent!==d?c.willUpdate():this.safeToRemove(),a.isPresent!==d&&(d?c.promote():c.relegate()||He.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),Gf.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=a;vd=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function Rb(t){const[a,i]=$x(),r=T.useContext(Ef);return m.jsx(KN,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(ub),isPresent:a,safeToRemove:i})}const YN={borderRadius:{...ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ll,borderTopRightRadius:ll,borderBottomLeftRadius:ll,borderBottomRightRadius:ll,boxShadow:GN};function XN(t,a,i){const r=gt(t)?t:Is(t);return r.start(nh("",r,a,i)),r.animation}const ZN=(t,a)=>t.depth-a.depth;class JN{constructor(){this.children=[],this.isDirty=!1}add(a){wf(this.children,a),this.isDirty=!0}remove(a){Af(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(ZN),this.isDirty=!1,this.children.forEach(a)}}function $N(t,a){const i=Dt.now(),r=({timestamp:o})=>{const d=o-i;d>=a&&(wa(r),t(d-a))};return He.setup(r,!0),()=>wa(r)}const Ob=["TopLeft","TopRight","BottomLeft","BottomRight"],IN=Ob.length,_g=t=>typeof t=="string"?parseFloat(t):t,Vg=t=>typeof t=="number"||de.test(t);function WN(t,a,i,r,o,d){o?(t.opacity=Qe(0,i.opacity??1,eR(r)),t.opacityExit=Qe(a.opacity??1,0,tR(r))):d&&(t.opacity=Qe(a.opacity??1,i.opacity??1,r));for(let c=0;c<IN;c++){const h=`border${Ob[c]}Radius`;let p=Bg(a,h),y=Bg(i,h);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||Vg(p)===Vg(y)?(t[h]=Math.max(Qe(_g(p),_g(y),r),0),(jn.test(y)||jn.test(p))&&(t[h]+="%")):t[h]=y}(a.rotate||i.rotate)&&(t.rotate=Qe(a.rotate||0,i.rotate||0,r))}function Bg(t,a){return t[a]!==void 0?t[a]:t.borderRadius}const eR=Db(0,.5,gx),tR=Db(.5,.95,ln);function Db(t,a,i){return r=>r<t?0:r>a?1:i(pl(t,a,r))}function qg(t,a){t.min=a.min,t.max=a.max}function fn(t,a){qg(t.x,a.x),qg(t.y,a.y)}function Hg(t,a){t.translate=a.translate,t.scale=a.scale,t.originPoint=a.originPoint,t.origin=a.origin}function Pg(t,a,i,r,o){return t-=a,t=Eo(t,1/i,r),o!==void 0&&(t=Eo(t,1/o,r)),t}function nR(t,a=0,i=1,r=.5,o,d=t,c=t){if(jn.test(a)&&(a=parseFloat(a),a=Qe(c.min,c.max,a/100)-c.min),typeof a!="number")return;let h=Qe(d.min,d.max,r);t===d&&(h-=a),t.min=Pg(t.min,a,i,h,o),t.max=Pg(t.max,a,i,h,o)}function Fg(t,a,[i,r,o],d,c){nR(t,a[i],a[r],a[o],a.scale,d,c)}const aR=["x","scaleX","originX"],sR=["y","scaleY","originY"];function Qg(t,a,i,r){Fg(t.x,a,aR,i?i.x:void 0,r?r.x:void 0),Fg(t.y,a,sR,i?i.y:void 0,r?r.y:void 0)}function Gg(t){return t.translate===0&&t.scale===1}function Mb(t){return Gg(t.x)&&Gg(t.y)}function Kg(t,a){return t.min===a.min&&t.max===a.max}function iR(t,a){return Kg(t.x,a.x)&&Kg(t.y,a.y)}function Yg(t,a){return Math.round(t.min)===Math.round(a.min)&&Math.round(t.max)===Math.round(a.max)}function Ub(t,a){return Yg(t.x,a.x)&&Yg(t.y,a.y)}function Xg(t){return Tt(t.x)/Tt(t.y)}function Zg(t,a){return t.translate===a.translate&&t.scale===a.scale&&t.originPoint===a.originPoint}class lR{constructor(){this.members=[]}add(a){wf(this.members,a),a.scheduleRender()}remove(a){if(Af(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(a){const i=this.members.findIndex(o=>a===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const d=this.members[o];if(d.isPresent!==!1){r=d;break}}return r?(this.promote(r),!0):!1}promote(a,i){const r=this.lead;if(a!==r&&(this.prevLead=r,this.lead=a,a.show(),r)){r.instance&&r.scheduleRender(),a.scheduleRender(),a.resumeFrom=r,i&&(a.resumeFrom.preserveOpacity=!0),r.snapshot&&(a.snapshot=r.snapshot,a.snapshot.latestValues=r.animationValues||r.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:o}=a.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:i,resumingFrom:r}=a;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rR(t,a,i){let r="";const o=t.x.translate/a.x,d=t.y.translate/a.y,c=i?.z||0;if((o||d||c)&&(r=`translate3d(${o}px, ${d}px, ${c}px) `),(a.x!==1||a.y!==1)&&(r+=`scale(${1/a.x}, ${1/a.y}) `),i){const{transformPerspective:y,rotate:g,rotateX:x,rotateY:S,skewX:j,skewY:E}=i;y&&(r=`perspective(${y}px) ${r}`),g&&(r+=`rotate(${g}deg) `),x&&(r+=`rotateX(${x}deg) `),S&&(r+=`rotateY(${S}deg) `),j&&(r+=`skewX(${j}deg) `),E&&(r+=`skewY(${E}deg) `)}const h=t.x.scale*a.x,p=t.y.scale*a.y;return(h!==1||p!==1)&&(r+=`scale(${h}, ${p})`),r||"none"}const xd=["","X","Y","Z"],oR=1e3;let uR=0;function bd(t,a,i,r){const{latestValues:o}=a;o[t]&&(i[t]=o[t],a.setStaticValue(t,0),r&&(r[t]=0))}function kb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:a}=t.options;if(!a)return;const i=xb(a);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:d}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",He,!(o||d))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kb(r)}function zb({attachResizeListener:t,defaultParent:a,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=a?.()){this.id=uR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fR),this.nodes.forEach(yR),this.nodes.forEach(gR),this.nodes.forEach(hR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new JN)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Of),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Jx(c)&&!Ww(c),this.instance=c;const{layoutId:h,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),t){let g,x=0;const S=()=>this.root.updateBlockedByResize=!1;He.read(()=>{x=window.innerWidth}),t(c,()=>{const j=window.innerWidth;j!==x&&(x=j,this.root.updateBlockedByResize=!0,g&&g(),g=$N(S,250),ho.hasAnimatedSinceResize&&(ho.hasAnimatedSinceResize=!1,this.nodes.forEach(Ig)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||TR,{onLayoutAnimationStart:C,onLayoutAnimationComplete:N}=y.getProps(),M=!this.targetLayout||!Ub(this.targetLayout,j),L=!x&&S;if(this.options.layoutRoot||this.resumeFrom||L||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...Ff(E,"layout"),onPlay:C,onComplete:N};(y.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,L)}else x||Ig(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vR),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($g);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pR),this.nodes.forEach(cR),this.nodes.forEach(dR)):this.nodes.forEach($g),this.clearAllSnapshots();const h=Dt.now();mt.delta=Yn(0,1e3/60,h-mt.timestamp),mt.timestamp=h,mt.isProcessing=!0,od.update.process(mt),od.preRender.process(mt),od.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mR),this.sharedNodes.forEach(xR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tt(this.snapshot.measuredBox.x)&&!Tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Mb(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,g=y!==this.prevTransformTemplateValue;c&&this.instance&&(h||Xa(this.latestValues)||g)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),ER(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return it();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jR))){const{scroll:y}=this.root;y&&(Ys(h.x,y.offset.x),Ys(h.y,y.offset.y))}return h}removeElementScroll(c){const h=it();if(fn(h,c),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:g,options:x}=y;y!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&fn(h,c),Ys(h.x,g.offset.x),Ys(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const p=it();fn(p,c);for(let y=0;y<this.path.length;y++){const g=this.path[y];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xs(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xa(g.latestValues)&&Xs(p,g.latestValues)}return Xa(this.latestValues)&&Xs(p,this.latestValues),p}removeTransform(c){const h=it();fn(h,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!Xa(y.latestValues))continue;Xd(y.latestValues)&&y.updateSnapshot();const g=it(),x=y.measurePageBox();fn(g,x),Qg(h,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,g)}return Xa(this.latestValues)&&Qg(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!this.layout||!(g||x))return;this.resolvedRelativeTargetAt=mt.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ON(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),hb(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xd(this.parent.latestValues)||fb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),jo(this.relativeTargetOrigin,h,p),fn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||g))return;fn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;PA(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=it());const{target:j}=c;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hg(this.prevProjectionDelta.x,this.projectionDelta.x),Hg(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!Zg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zs(),this.projectionDelta=Zs(),this.projectionDeltaWithTransform=Zs()}setAnimationOrigin(c,h=!1){const p=this.snapshot,y=p?p.latestValues:{},g={...this.latestValues},x=Zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const S=it(),j=p?p.source:void 0,E=this.layout?this.layout.source:void 0,C=j!==E,N=this.getStack(),M=!N||N.members.length<=1,L=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(SR));this.animationProgress=0;let O;this.mixTargetDelta=Q=>{const Z=Q/1e3;Wg(x.x,c.x,Z),Wg(x.y,c.y,Z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jo(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bR(this.relativeTarget,this.relativeTargetOrigin,S,Z),O&&iR(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=it()),fn(O,this.relativeTarget)),C&&(this.animationValues=g,WN(g,y,this.latestValues,Z,L,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{ho.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Is(0)),this.currentAnimation=XN(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:y,latestValues:g}=c;if(!(!h||!p||!y)){if(this!==c&&this.layout&&y&&Lb(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||it();const x=Tt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+x;const S=Tt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}fn(h,p),Xs(h,g),fl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new lR),this.sharedNodes.get(c).add(h);const y=h.options.initialPromotionConfig;h.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const y={};p.z&&bd("z",c,y,this.animationValues);for(let g=0;g<xd.length;g++)bd(`rotate${xd[g]}`,c,y,this.animationValues),bd(`skew${xd[g]}`,c,y,this.animationValues);c.render();for(const g in y)c.setStaticValue(g,y[g]),this.animationValues&&(this.animationValues[g]=y[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=fo(h?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=fo(h?.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=y.animationValues||y.latestValues;this.applyTransformsToTarget();let x=rR(this.projectionDeltaWithTransform,this.treeScale,g);p&&(x=p(g,x)),c.transform=x;const{x:S,y:j}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${j.origin*100}% 0`,y.animationValues?c.opacity=y===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=y===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in xl){if(g[E]===void 0)continue;const{correct:C,applyTo:N,isCSSVariable:M}=xl[E],L=x==="none"?g[E]:C(g[E],y);if(N){const O=N.length;for(let Q=0;Q<O;Q++)c[N[Q]]=L}else M?this.options.visualElement.renderState.vars[E]=L:c[E]=L}this.options.layoutId&&(c.pointerEvents=y===this?fo(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Jg),this.root.sharedNodes.clear()}}}function cR(t){t.updateLayout()}function dR(t){const a=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&a&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,d=a.source!==t.layout.source;o==="size"?nn(g=>{const x=d?a.measuredBox[g]:a.layoutBox[g],S=Tt(x);x.min=i[g].min,x.max=x.min+S}):Lb(o,a.layoutBox,i)&&nn(g=>{const x=d?a.measuredBox[g]:a.layoutBox[g],S=Tt(i[g]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const c=Zs();fl(c,i,a.layoutBox);const h=Zs();d?fl(h,t.applyTransform(r,!0),a.measuredBox):fl(h,i,a.layoutBox);const p=!Mb(c);let y=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:S}=g;if(x&&S){const j=it();jo(j,a.layoutBox,x.layoutBox);const E=it();jo(E,i,S.layoutBox),Ub(j,E)||(y=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=j,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:a,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function fR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mR(t){t.clearSnapshot()}function Jg(t){t.clearMeasurements()}function $g(t){t.isLayoutDirty=!1}function pR(t){const{visualElement:a}=t.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ig(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yR(t){t.resolveTargetDelta()}function gR(t){t.calcProjection()}function vR(t){t.resetSkewAndRotation()}function xR(t){t.removeLeadSnapshot()}function Wg(t,a,i){t.translate=Qe(a.translate,0,i),t.scale=Qe(a.scale,1,i),t.origin=a.origin,t.originPoint=a.originPoint}function ev(t,a,i,r){t.min=Qe(a.min,i.min,r),t.max=Qe(a.max,i.max,r)}function bR(t,a,i,r){ev(t.x,a.x,i.x,r),ev(t.y,a.y,i.y,r)}function SR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TR={duration:.45,ease:[.4,0,.1,1]},tv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nv=tv("applewebkit/")&&!tv("chrome/")?Math.round:ln;function av(t){t.min=nv(t.min),t.max=nv(t.max)}function ER(t){av(t.x),av(t.y)}function Lb(t,a,i){return t==="position"||t==="preserve-aspect"&&!RN(Xg(a),Xg(i),.2)}function jR(t){return t!==t.root&&t.scroll?.wasRoot}const CR=zb({attachResizeListener:(t,a)=>bl(t,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sd={current:void 0},_b=zb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sd.current){const t=new CR({});t.mount(window),t.setOptions({layoutScroll:!0}),Sd.current=t}return Sd.current},resetTransform:(t,a)=>{t.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wR={pan:{Feature:QN},drag:{Feature:FN,ProjectionNode:_b,MeasureLayout:Rb}};function sv(t,a,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,d=r[o];d&&He.postRender(()=>d(a,Ul(a)))}class AR extends Na{mount(){const{current:a}=this.node;a&&(this.unmount=Xw(a,(i,r)=>(sv(this.node,r,"Start"),o=>sv(this.node,o,"End"))))}unmount(){}}class NR extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(bl(this.node.current,"focus",()=>this.onFocus()),bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iv(t,a,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),d=r[o];d&&He.postRender(()=>d(a,Ul(a)))}class RR extends Na{mount(){const{current:a}=this.node;a&&(this.unmount=Iw(a,(i,r)=>(iv(this.node,r,"Start"),(o,{success:d})=>iv(this.node,o,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tf=new WeakMap,Td=new WeakMap,OR=t=>{const a=tf.get(t.target);a&&a(t)},DR=t=>{t.forEach(OR)};function MR({root:t,...a}){const i=t||document;Td.has(i)||Td.set(i,{});const r=Td.get(i),o=JSON.stringify(a);return r[o]||(r[o]=new IntersectionObserver(DR,{root:t,...a})),r[o]}function UR(t,a,i){const r=MR(a);return tf.set(t,i),r.observe(t),()=>{tf.delete(t),r.unobserve(t)}}const kR={some:0,all:1};class zR extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:d}=a,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:kR[o]},h=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,d&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),S=y?g:x;S&&S(p)};return UR(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:i}=this.node;["amount","margin","root"].some(LR(a,i))&&this.startObserver()}unmount(){}}function LR({viewport:t={}},{viewport:a={}}={}){return i=>t[i]!==a[i]}const _R={inView:{Feature:zR},tap:{Feature:RR},focus:{Feature:NR},hover:{Feature:AR}},VR={layout:{ProjectionNode:_b,MeasureLayout:Rb}},BR={...EN,..._R,...wR,...VR},Sl=BA(BR,IA);function qR({label:t="Notificaciones",iconOnly:a=!1}){const i=Qt(),{data:r}=St({queryKey:["notifications"],queryFn:async()=>{try{const{data:p}=await se.get("/notifications"),y=Array.isArray(p)?p:Array.isArray(p?.notifications)?p.notifications:[];return Array.isArray(y)||console.warn("[NotificationBell] Respuesta inesperada de /notifications",p),y}catch(p){return console.warn("[NotificationBell] Error cargando notificaciones",p),[]}},refetchInterval:15e3}),d=(Array.isArray(r)?r:[]).filter(p=>!p.readAt).length,c=async()=>{await se.post("/notifications/read"),i.invalidateQueries({queryKey:["notifications"]})},h="relative border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition";return m.jsxs("button",{onClick:c,className:a?`${h} h-10 w-10 rounded-full flex items-center justify-center text-lg`:`${h} px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2`,"aria-label":t,children:[m.jsx("span",{"aria-hidden":!0,children:""}),!a&&m.jsx("span",{children:t}),m.jsx(So,{children:d>0&&m.jsx(Sl.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-2",children:d})})]})}function HR({iconOnly:t=!1}){const[a,i]=T.useState(!1),r=Qt(),{data:o}=St({queryKey:["friends"],queryFn:async()=>{try{const{data:x}=await se.get("/friends"),S=Array.isArray(x)?x:Array.isArray(x?.requests)?x.requests:Array.isArray(x?.friendRequests)?x.friendRequests:[];return Array.isArray(S)||console.warn("[FriendRequests] Respuesta inesperada de /friends",x),S}catch(x){return console.warn("[FriendRequests] Error cargando solicitudes",x),[]}},refetchInterval:15e3}),c=(Array.isArray(o)?o:[]).filter(x=>(x.status==="PENDING"||x.status==="PENDIENTE")&&x.direction==="INCOMING"),h=c.length,p=Ae({mutationFn:async x=>se.post(`/friends/${x}/accept`),onSuccess:()=>{r.invalidateQueries({queryKey:["friends"]}),i(!1)}}),y=Ae({mutationFn:async x=>se.delete(`/friends/${x}`),onSuccess:()=>{r.invalidateQueries({queryKey:["friends"]}),i(!1)}}),g="relative border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition";return m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>i(x=>!x),className:t?`${g} h-10 w-10 rounded-full flex items-center justify-center text-lg`:`${g} px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2`,"aria-label":"Solicitudes de amistad",children:[m.jsx("span",{"aria-hidden":!0,children:""}),!t&&m.jsx("span",{children:"Amigos"}),m.jsx(So,{children:h>0&&m.jsx(Sl.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-2",children:h})})]}),m.jsx(So,{children:a&&m.jsxs(Sl.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:"absolute right-0 mt-2 w-72 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900 shadow-xl backdrop-blur z-30",children:[m.jsx("div",{className:"px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Solicitudes de amistad"}),c.length===0&&m.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No tienes solicitudes pendientes."}),c.map(x=>m.jsxs("div",{className:"px-4 py-3 border-t border-slate-100 dark:border-slate-800 text-sm text-slate-800 dark:text-slate-100",children:[m.jsxs(Je,{to:`/profile/${x.user.username}`,className:"flex items-center gap-3 hover:opacity-90",children:[m.jsx(Ca,{user:x.user,size:42}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold",children:x.user.name}),m.jsxs("div",{className:"text-xs text-slate-500",children:["@",x.user.username]})]})]}),m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("button",{onClick:()=>p.mutate(x.user.username),className:"px-3 py-1 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-500",children:"Aceptar"}),m.jsx("button",{onClick:()=>{window.confirm("Seguro que quieres eliminar esta solicitud/amigo?")&&y.mutate(x.user.username)},className:"px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs hover:bg-slate-100 dark:hover:bg-slate-800",children:"Rechazar"})]})]},x.user.id))]})})]})}function PR(){const{user:t,logout:a}=Gt(),i=Zn();if(!t)return null;const r=o=>`${o?"bg-indigo-600 text-white":"text-slate-600 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"} px-3 py-2 rounded-full transition`;return m.jsx("header",{className:"bg-white/90 dark:bg-slate-950/80 backdrop-blur border-b border-slate-200 dark:border-slate-800 sticky top-0 z-40",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 space-y-3",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(Je,{to:"/feed",className:"flex items-center gap-2 text-lg font-bold text-indigo-600 dark:text-indigo-300",children:[m.jsx("span",{className:"inline-flex items-center justify-center h-9 w-9 rounded-full bg-indigo-600 text-white",children:"M"}),m.jsx("span",{children:"Macanudos"})]}),m.jsx("div",{className:"hidden md:block w-[380px]",children:m.jsx(Gy,{})})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[m.jsx("button",{onClick:a,className:"hidden sm:inline-flex items-center gap-2 px-3 py-2 rounded-full border border-slate-200 dark:border-slate-700 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Salir"}),m.jsx(HR,{iconOnly:!0}),m.jsx(qR,{iconOnly:!0}),m.jsx(iC,{iconOnly:!0}),m.jsx(Je,{to:"/feed#composer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 shadow-sm",children:" Crear"}),m.jsxs(Je,{to:`/profile/${t.username}`,className:"flex items-center gap-2",children:[m.jsx(Ca,{user:t,size:40}),m.jsxs("div",{className:"leading-tight hidden md:block",children:[m.jsx("div",{className:"text-slate-900 dark:text-white font-semibold",children:t.name}),m.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["@",t.username]})]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx("div",{className:"flex-1 min-w-[260px] md:hidden",children:m.jsx(Gy,{})}),m.jsxs("nav",{className:"flex items-center gap-2 text-sm font-semibold",children:[m.jsx(Je,{to:"/feed",className:r(i.pathname==="/feed"),children:"Inicio"}),m.jsx(Je,{to:"/chat",className:r(i.pathname==="/chat"),children:"Chat"}),m.jsx(Je,{to:`/profile/${t.username}`,className:r(i.pathname.startsWith("/profile/")&&i.pathname!=="/profile/edit"),children:"Perfil"}),m.jsx(Je,{to:"/profile/edit",className:r(i.pathname==="/profile/edit"),children:"Editar"}),m.jsx(Je,{to:"/settings",className:r(i.pathname==="/settings"),children:"Personaliza"}),m.jsx(Je,{to:"/shop",className:r(i.pathname==="/shop"),children:"Tienda"}),m.jsx(Je,{to:"/squads",className:r(i.pathname.startsWith("/squads")),children:"Squads"}),m.jsx(Je,{to:"/feedback",className:r(i.pathname==="/feedback"),children:"Ideas"})]}),m.jsx("div",{className:"flex items-center gap-2 ml-auto",children:m.jsxs("div",{className:"px-3 py-2 rounded-full border border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-700 dark:text-slate-200 bg-slate-50 dark:bg-slate-900/60",children:["Puntos: ",m.jsx("span",{className:"text-indigo-600 dark:text-indigo-300",children:t?.points??0})]})})]})]})})}function Qn({children:t}){const{user:a,loading:i}=Gt();return i?m.jsx("div",{className:"flex items-center justify-center min-h-screen text-slate-600",children:"Cargando..."}):a?t:m.jsx(rl,{to:"/login",replace:!0})}function FR(){const{user:t,setUser:a}=Gt(),i=is(),r=Qt(),[o,d]=T.useState({name:"",username:"",bio:""}),[c,h]=T.useState(null),[p,y]=T.useState(null),[g,x]=T.useState(null),[S,j]=T.useState(null),[E,C]=T.useState(null),[N,M]=T.useState(null),[L,O]=T.useState(0),[Q,Z]=T.useState(0),[J,K]=T.useState(3),[$,le]=T.useState(0),[oe,be]=T.useState(0),[te,Ie]=T.useState(3),[_e,Fe]=T.useState(!1),[_,Y]=T.useState(null),W=Rl.replace(/\/api$/,"");T.useEffect(()=>{t&&(d({name:t.name||"",username:t.username||"",bio:t.bio||""}),Fe(!!t.useVideoAvatar))},[t]);const fe=Ae({mutationFn:async()=>{const{data:X}=await se.put("/users/me",o);return X},onSuccess:({user:X})=>{a(X),r.invalidateQueries({queryKey:["profile",X.username]}),Y("Perfil actualizado"),i(`/profile/${X.username}`)}}),me=Ae({mutationFn:async X=>{const ie=new FormData;ie.append("avatar",X);const{data:xe}=await se.put("/users/me/avatar",ie,{headers:{"Content-Type":"multipart/form-data"}});return xe},onSuccess:({user:X})=>{a(X),r.invalidateQueries({queryKey:["profile",X.username]}),Y("Avatar actualizado"),h(null),y(null)}}),A=X=>{X&&(h(X),y(URL.createObjectURL(X)))},P=X=>{X.preventDefault(),fe.mutate()},I=Ae({mutationFn:async X=>{const ie=new FormData;ie.append("profileVideo",X),ie.append("start",$),ie.append("length",te),ie.append("end",Math.min($+te,oe||$+te));const{data:xe}=await se.put("/users/me/profile-video",ie,{headers:{"Content-Type":"multipart/form-data"}});return xe},onSuccess:({user:X})=>{a(X),r.invalidateQueries({queryKey:["profile",X.username]}),Y("Video de perfil actualizado"),x(null),be(0),le(0)}}),ee=Ae({mutationFn:async X=>{const ie=new FormData;ie.append("coverImage",X);const{data:xe}=await se.put("/users/me/cover",ie,{headers:{"Content-Type":"multipart/form-data"}});return xe},onSuccess:({user:X})=>{a(X),r.invalidateQueries({queryKey:["profile",X.username]}),Y("Portada actualizada"),j(null),C(null)}}),ue=Ae({mutationFn:async X=>{const ie=new FormData;ie.append("coverVideo",X),ie.append("start",L),ie.append("length",J),ie.append("end",Math.min(L+J,Q||L+J));const{data:xe}=await se.put("/users/me/cover-video",ie,{headers:{"Content-Type":"multipart/form-data"}});return xe},onSuccess:({user:X})=>{a(X),r.invalidateQueries({queryKey:["profile",X.username]}),Y("Portada en video actualizada"),M(null),Z(0),O(0)}}),ge=Ae({mutationFn:async X=>se.put("/users/me/avatar-mode",{useVideoAvatar:X}),onSuccess:({user:X})=>{a(X),Fe(X.useVideoAvatar),r.invalidateQueries({queryKey:["profile",X.username]}),Y("Modo de avatar actualizado")}});return m.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[m.jsx("h1",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 mb-4",children:"Editar perfil"}),_&&m.jsx("div",{className:"mb-4 text-sm text-green-700 bg-green-50 border border-green-200 rounded-lg p-3",children:_}),m.jsxs("form",{className:"space-y-4",onSubmit:P,children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Portada"}),m.jsx("div",{className:"w-full h-32 rounded-xl overflow-hidden bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-800 dark:to-slate-700 border border-slate-200 dark:border-slate-700",children:E?m.jsx("img",{src:E,alt:"Portada",className:"w-full h-full object-cover"}):t?.coverImageUrl?m.jsx("img",{src:`${W}/${t.coverImageUrl}`,alt:"Portada",className:"w-full h-full object-cover"}):t?.coverVideoUrl?m.jsx("video",{src:`${W}/${t.coverVideoUrl}`,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):null}),m.jsxs("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer",children:[m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>{const ie=X.target.files?.[0];ie&&(j(ie),C(URL.createObjectURL(ie)))}}),"Cambiar portada"]}),S&&m.jsx("button",{type:"button",onClick:()=>ee.mutate(S),className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",disabled:ee.isPending,children:ee.isPending?"Guardando...":"Guardar portada"}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer",children:[m.jsx("input",{type:"file",accept:"video/*",className:"hidden",onChange:X=>{const ie=X.target.files?.[0]||null;if(ie&&ie.size>20*1024*1024){alert("El video no puede superar 20MB");return}if(M(ie),ie){const xe=URL.createObjectURL(ie),vt=document.createElement("video");vt.src=xe,vt.onloadedmetadata=()=>{const yn=vt.duration;Z(yn),O(0)}}}}),"Subir video de portada (max. 20MB, clip de 3 o 5s)"]}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[m.jsx("span",{children:"Duracion:"}),[3,5].map(X=>m.jsxs("button",{type:"button",onClick:()=>{K(X),O(ie=>Math.min(ie,Math.max(0,(Q||X)-X)))},className:`px-2 py-1 rounded-full border ${J===X?"bg-indigo-600 text-white border-indigo-600":"border-slate-300 dark:border-slate-700"}`,children:[X,"s"]},X))]}),Q>0&&m.jsxs("div",{className:"text-xs text-slate-500",children:["Selecciona inicio (clip ",J,"s):"," ",m.jsx("input",{type:"range",min:"0",max:Math.max(0,Q-J),step:"0.1",value:L,onChange:X=>O(Number(X.target.value))}),m.jsxs("span",{className:"ml-2",children:[L.toFixed(1),"s - ",(L+J).toFixed(1),"s"]})]}),N&&m.jsx("button",{type:"button",onClick:()=>ue.mutate(N),className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",disabled:ue.isPending,children:ue.isPending?"Guardando...":"Guardar video de portada"})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ca,{user:t,size:72}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer",children:[m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>A(X.target.files?.[0])}),"Cambiar avatar"]}),p&&m.jsx("img",{src:p,alt:"Preview avatar",className:"w-24 h-24 rounded-full object-cover border border-slate-200 dark:border-slate-700"}),c&&m.jsx("button",{type:"button",onClick:()=>me.mutate(c),className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",disabled:me.isPending,children:me.isPending?"Guardando...":"Guardar avatar"}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer",children:[m.jsx("input",{type:"file",accept:"video/*",className:"hidden",onChange:X=>{const ie=X.target.files?.[0]||null;if(ie&&ie.size>20*1024*1024){alert("El video no puede superar 20MB");return}if(x(ie),ie){const xe=URL.createObjectURL(ie),vt=document.createElement("video");vt.src=xe,vt.onloadedmetadata=()=>{const yn=vt.duration;be(yn),le(0)}}}}),"Subir video de perfil (max. 20 MB, clip de 3 o 5s)"]}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[m.jsx("span",{children:"Duracion:"}),[3,5].map(X=>m.jsxs("button",{type:"button",onClick:()=>{Ie(X),le(ie=>Math.min(ie,Math.max(0,(oe||X)-X)))},className:`px-2 py-1 rounded-full border ${te===X?"bg-indigo-600 text-white border-indigo-600":"border-slate-300 dark:border-slate-700"}`,children:[X,"s"]},X))]}),g&&m.jsx("button",{type:"button",onClick:()=>I.mutate(g),className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",disabled:I.isPending,children:I.isPending?"Guardando...":"Guardar video"}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200",children:[m.jsx("input",{type:"checkbox",checked:_e,onChange:X=>ge.mutate(X.target.checked)}),"Usar video como foto de perfil (recomendado: 3-5s, sin audio)"]}),oe>0&&m.jsxs("div",{className:"text-xs text-slate-500",children:["Selecciona el inicio (clip ",te,"s):"," ",m.jsx("input",{type:"range",min:"0",max:Math.max(0,oe-te),step:"0.1",value:$,onChange:X=>le(Number(X.target.value))}),m.jsxs("span",{className:"ml-2",children:[$.toFixed(1),"s - ",($+te).toFixed(1),"s"]})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Nombre"}),m.jsx("input",{value:o.name,onChange:X=>d(ie=>({...ie,name:X.target.value})),required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"@username"}),m.jsx("input",{value:o.username,onChange:X=>d(ie=>({...ie,username:X.target.value})),required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Bio"}),m.jsx("textarea",{value:o.bio,onChange:X=>d(ie=>({...ie,bio:X.target.value})),rows:3,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"Cuntanos sobre ti"})]}),m.jsx("button",{type:"submit",disabled:fe.isPending,className:"px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50 dark:bg-indigo-600 dark:hover:bg-indigo-500",children:fe.isPending?"Guardando...":"Guardar cambios"})]}),t?.avatar&&m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-4",children:["Ruta de avatar actual: ",`${W}/${t.avatar}`]})]})}const Vb=T.createContext(null);function QR({children:t}){const{user:a}=Gt(),[i,r]=T.useState(null),[o,d]=T.useState(!1);T.useEffect(()=>{if(!a){r(null);return}d(!0),se.get("/preferences").then(({data:p})=>r(p||{})).catch(()=>r({})).finally(()=>d(!1))},[a]);const c=async p=>{const{data:y}=await se.put("/preferences",p);return r(y),y},h=T.useMemo(()=>({preferences:i,loading:o,savePreferences:c}),[i,o]);return m.jsx(Vb.Provider,{value:h,children:t})}function Bb(){const t=T.useContext(Vb);if(!t)throw new Error("usePreferences debe usarse dentro de PreferencesProvider");return t}function qb(){const{preferences:t}=Bb(),a=t?.cardStyle?.rounded??16,i=t?.cardStyle?.glass??!1;return{style:{borderRadius:`${a}px`,background:i?"rgba(255,255,255,0.7)":void 0,backdropFilter:i?"blur(8px)":void 0}}}function GR({onCreated:t}){const{user:a}=Gt(),i=Qt(),[r,o]=T.useState(""),[d,c]=T.useState(null),[h,p]=T.useState(null),{style:y}=qb(),{mutateAsync:g,isPending:x}=Ae({mutationFn:async()=>{const j=new FormData;j.append("content",r),d&&j.append("image",d);const{data:E}=await se.post("/posts",j,{headers:{"Content-Type":"multipart/form-data"}});return E},onSuccess:j=>{o(""),c(null),p(null),i.invalidateQueries({queryKey:["posts"]}),t&&t(j)}}),S=j=>{c(j),p(j?URL.createObjectURL(j):null)};return m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-4 shadow-sm",style:y,children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx(Ca,{user:a}),m.jsxs("div",{className:"flex-1",children:[m.jsx("textarea",{value:r,onChange:j=>o(j.target.value),rows:3,className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none",placeholder:"Qu ests pensando?"}),h&&m.jsx("img",{src:h,alt:"Previsualizacin",className:"mt-2 h-48 w-full object-cover rounded-xl border border-slate-200 dark:border-slate-700"}),m.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[m.jsxs("label",{className:"text-sm text-indigo-700 dark:text-indigo-300 font-medium cursor-pointer hover:text-indigo-800 dark:hover:text-indigo-200",children:[m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:j=>S(j.target.files?.[0])}),"Subir imagen"]}),m.jsx("button",{onClick:()=>g(),disabled:!r.trim()||x,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",children:x?"Publicando...":"Publicar"})]})]})]})})}const lv=/#([A-Za-z0-9_]+)/g;function rv(t){if(!t)return null;const a=[];let i=0,r,o=0;for(;(r=lv.exec(t))!==null;){const d=r.index;d>i&&a.push(m.jsx("span",{children:t.slice(i,d)},o++));const c=r[1],h=r[0];a.push(m.jsx(Je,{to:`/tag/${encodeURIComponent(c)}`,className:"hashtag-link",children:h},o++)),i=lv.lastIndex}return i<t.length&&a.push(m.jsx("span",{children:t.slice(i)},o++)),a}const nf={MACANUDO:{label:"Macanudo",icon:""},MESSIRVE:{label:"Messirve",icon:""},JAJAJA:{label:"Jajaja",icon:""},DE_UNA:{label:"De una",icon:""},QUE_BOLUDO:{label:"Qu boludo",icon:""},QUE_BAJON:{label:"Qu bajn",icon:""}},KR=Object.keys(nf);function Tl({post:t,showHelpHighlight:a=!1}){const i=Qt(),{user:r}=Gt(),[o,d]=T.useState(""),c=T.useRef(null),h=Rl.replace(/\/api$/,""),p=t.userReaction,{style:y}=qb(),{open:g}=Tf(),{mutateAsync:x,isPending:S}=Ae({mutationFn:async C=>{const{data:N}=await se.post(`/posts/${t.id}/reactions`,{type:C});return N},onSuccess:()=>i.invalidateQueries({queryKey:["posts"]})}),{mutateAsync:j,isPending:E}=Ae({mutationFn:async C=>{const{data:N}=await se.post(`/posts/${t.id}/comments`,{content:C});return N},onSuccess:()=>{d(""),i.invalidateQueries({queryKey:["posts"]})}});return m.jsx("article",{className:`overflow-hidden rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white dark:bg-slate-950 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md ${a||t.type==="HELP_REQUEST"?"ring-2 ring-amber-300/60":""}`,style:y,children:m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Ca,{user:t.author,size:48}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-slate-900 dark:text-white leading-tight",children:t.author?.name}),m.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["@",t.author?.username]})]}),t.type==="HELP_REQUEST"&&m.jsx("span",{className:"ml-auto inline-flex items-center gap-1 rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-100 px-3 py-1 text-[11px] font-semibold",children:" Ayuda"}),t.squad&&m.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 dark:bg-slate-800 px-3 py-1 text-[11px] text-slate-700 dark:text-slate-200",children:[" ",t.squad.name]})]}),m.jsx("div",{className:"text-xs text-slate-500 mt-1",children:new Date(t.createdAt).toLocaleString()})]})]}),m.jsx("div",{className:"text-slate-800 dark:text-slate-100 text-sm whitespace-pre-line leading-relaxed",children:rv(t.content)}),t.image&&m.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900",children:m.jsx("img",{src:`${h}/${t.image}`,alt:"Post",className:"w-full object-cover max-h-96 cursor-pointer",onClick:()=>g(`${h}/${t.image}`,"Imagen")})}),(t.hashtags?.length||t.tags?.length)&&m.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.hashtags?.map(C=>m.jsxs("span",{className:"px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-200 dark:border-indigo-800",children:["#",C]},C)),t.tags?.map(C=>m.jsxs("span",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700",children:["#",C]},C))]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[KR.map(C=>m.jsxs("button",{onClick:()=>x(C),disabled:S,className:`flex items-center gap-1 rounded-full px-3 py-1 text-sm transition border ${p===C?"bg-indigo-50 dark:bg-indigo-900/40 border-indigo-200 dark:border-indigo-700 text-indigo-700 dark:text-indigo-200":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[m.jsx("span",{children:nf[C].icon}),m.jsx("span",{className:"hidden sm:inline",children:nf[C].label}),m.jsx("span",{className:"font-semibold",children:t.reactions?.[C]??0})]},C)),m.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-slate-500 dark:text-slate-300",children:[" ",t._count?.comments??0]})]}),m.jsxs("div",{className:"space-y-3",children:[t.comments?.slice(0,3).map(C=>m.jsxs("div",{className:"flex gap-2 items-start text-sm",children:[m.jsx(Ca,{user:C.author,size:32}),m.jsxs("div",{className:"flex-1 rounded-xl bg-slate-50 dark:bg-slate-900/60 border border-slate-200 dark:border-slate-800 px-3 py-2",children:[m.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-100",children:C.author?.name}),m.jsx("p",{className:"text-slate-700 dark:text-slate-200 whitespace-pre-line",children:rv(C.content)})]})]},C.id)),m.jsxs("div",{className:"flex gap-2 items-start",children:[m.jsx("input",{value:o,onChange:C=>d(C.target.value),ref:c,className:"flex-1 rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 px-3 py-2 text-sm text-slate-800 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:"Escribe un comentario..."}),m.jsx("button",{onClick:()=>j(o),disabled:!o.trim()||E,className:"px-3 py-2 rounded-xl bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-60",children:E?"Enviando...":"Comentar"})]}),a&&m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{onClick:()=>c.current?.focus(),className:"px-3 py-2 rounded-lg bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200 text-xs font-semibold",children:"Comentar y dar una mano"})})]})]})})}const YR=({active:t="forYou",onChange:a,className:i})=>{const r=[{id:"forYou",label:"Para vos"},{id:"squads",label:"Squads"},{id:"help",label:"Ayuda"},{id:"explore",label:"Explorar"}],o=(...d)=>d.filter(Boolean).join(" ");return m.jsx("div",{className:o("flex items-center border-b border-white/10",i),children:r.map(d=>m.jsxs("button",{type:"button",onClick:()=>a?.(d.id),className:o("relative px-3 pb-2 text-sm font-medium transition-colors",t===d.id?"text-emerald-300":"text-white/45 hover:text-white"),children:[d.label,t===d.id&&m.jsx("span",{className:"absolute left-0 right-0 -bottom-px h-[2px] rounded-full bg-emerald-400"})]},d.id))})},Lo=({title:t,children:a})=>m.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-white shadow-sm shadow-black/30",children:[m.jsx("h2",{className:"text-sm font-semibold mb-2 flex items-center justify-between",children:m.jsx("span",{children:t})}),a]}),XR=()=>m.jsx(Lo,{title:"Hoy en Macanudo",children:m.jsxs("p",{className:"text-xs text-white/70",children:["Ests en modo ",m.jsx("span",{className:"text-emerald-300",children:"creativo"}),". Compartiste proyectos y mates con la comunidad. "]})}),ZR=()=>m.jsx(Lo,{title:"Tus proyectos",children:m.jsxs("ul",{className:"text-xs text-white/80 space-y-2",children:[m.jsxs("li",{className:"flex flex-col",children:[m.jsx("span",{className:"font-medium",children:"Aprender React"}),m.jsx("span",{className:"text-white/40",children:"Progreso: 40%  3 posts"})]}),m.jsxs("li",{className:"flex flex-col",children:[m.jsx("span",{className:"font-medium",children:"Bajar 10kg caminando"}),m.jsx("span",{className:"text-white/40",children:"Progreso: 10%  1 post"})]})]})}),JR=()=>m.jsx(Lo,{title:"Gente como vos",children:m.jsxs("ul",{className:"text-xs text-white/80 space-y-2",children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"flex justify-between",children:m.jsx("span",{className:"font-medium",children:"@f1ycode"})}),m.jsx("span",{className:"text-white/40",children:"F1  Programacin"})]})]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"font-medium",children:"@mateanddev"}),m.jsx("div",{className:"text-white/40",children:"Mate  Proyectos locos"})]})]})]})}),$R=()=>m.jsx(Lo,{title:"Trending hoy",children:m.jsxs("ul",{className:"text-xs text-white/80 space-y-1.5",children:[m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"#F1"}),m.jsx("span",{className:"text-white/40",children:"+128 posts"})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"#mate"}),m.jsx("span",{className:"text-white/40",children:"+76 posts"})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"#proyectos"}),m.jsx("span",{className:"text-white/40",children:"+33 posts"})]})]})}),IR=()=>m.jsxs("aside",{className:"space-y-4",children:[m.jsx(XR,{}),m.jsx(ZR,{}),m.jsx(JR,{}),m.jsx($R,{})]});function WR(){const[t,a]=T.useState("forYou"),{data:i,isLoading:r}=St({queryKey:["posts",t],queryFn:async()=>{const d=t==="forYou"?"/posts/feed/personal":t==="help"?"/posts/feed/help":"/posts",{data:c}=await se.get(d),h=Array.isArray(c)?c:Array.isArray(c?.posts)?c.posts:[];return Array.isArray(h)||console.warn("[Feed] Respuesta inesperada en",d,c),h}}),o=Array.isArray(i)?i:[];return m.jsxs("div",{className:"max-w-6xl mx-auto px-4 space-y-4",children:[m.jsx("div",{id:"composer",className:"pt-2",children:m.jsx(GR,{})}),m.jsxs("div",{className:"grid md:grid-cols-[minmax(0,1.6fr)_minmax(0,1fr)] gap-6 pb-16",children:[m.jsxs("section",{className:"space-y-4",children:[m.jsx(YR,{active:t,onChange:a}),r&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Cargando publicaciones..."}),!r&&o.length===0&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"An no hay publicaciones. Crea la primera!"}),!r&&o.map(d=>m.jsx(Tl,{post:d,showHelpHighlight:t==="help"},d.id))]}),m.jsx("aside",{className:"hidden md:block",children:m.jsx(IR,{})})]})]})}function eO(){const t=is(),{login:a}=Gt(),[i,r]=T.useState(""),[o,d]=T.useState(""),[c,h]=T.useState(null),[p,y]=T.useState(!1),[g,x]=T.useState(!1),S=async j=>{j.preventDefault(),y(!0),h(null);try{await a(i,o),x(!0),setTimeout(()=>{t("/feed")},3e3)}catch(E){h(E.response?.data?.message||"Error al iniciar sesin"),y(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[m.jsx(Sf,{visible:g}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-lg rounded-2xl p-8 w-full max-w-md relative z-10",children:[m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-50 mb-1",children:"Bienvenido"}),m.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Inicia sesin para ver el feed."}),c&&m.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:c}),m.jsxs("form",{className:"space-y-4",onSubmit:S,children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Email o @username"}),m.jsx("input",{value:i,onChange:j=>r(j.target.value),required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:"tu@email.com"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Contrasea"}),m.jsx("input",{type:"password",value:o,onChange:j=>d(j.target.value),required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:p||g,className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500 disabled:opacity-50",children:p?"Entrando...":"Entrar"})]}),m.jsxs("p",{className:"text-sm text-center text-slate-500 mt-4",children:["No tienes cuenta?"," ",m.jsx(Je,{to:"/register",className:"text-indigo-700 dark:text-indigo-300 font-semibold",children:"Regstrate"})]})]})]})}const tO=(t="")=>{const a=t.match(/#t=([\d.]+),?([\d.]*)/);if(!a)return{cleanSrc:t,start:0,end:null};const i=parseFloat(a[1])||0,r=a[2]?parseFloat(a[2]):null;return{cleanSrc:t.split("#")[0],start:i,end:r}};function nO(){const{username:t}=of(),{user:a}=Gt(),i=Qt(),[r,o]=T.useState({category:"",detail:""}),[d,c]=T.useState(!1),[h,p]=T.useState([]),[y,g]=T.useState(""),[x,S]=T.useState(""),[j,E]=T.useState({title:"",description:"",category:"OTRO",targetDate:"",visibility:"PUBLIC",needsHelp:!1}),[C,N]=T.useState(null),[M,L]=T.useState(!1),[O,Q]=T.useState([]),Z=T.useRef(null),{data:J,isLoading:K,isError:$}=St({queryKey:["profile",t],queryFn:async()=>{const{data:q}=await se.get(`/users/${t}`);return q}}),{data:le}=St({queryKey:["my-projects"],queryFn:async()=>{const{data:q}=await se.get("/users/me/projects");return q},enabled:a?.username===t}),{data:oe}=St({queryKey:["my-projects-overview"],queryFn:async()=>{const{data:q}=await se.get("/users/me/projects/overview");return q},enabled:a?.username===t}),{data:be}=St({queryKey:["my-squads"],queryFn:async()=>{const{data:q}=await se.get("/squads");return q},enabled:a?.username===t}),te=J?.user,Ie=J?.posts||[],_e=Rl.replace(/\/api$/,""),Fe=te?.coverVideoUrl?`${_e}/${te.coverVideoUrl}`:null,_=Fe?tO(Fe):null;T.useEffect(()=>{J?.user&&(o({category:J.user.relationCategory||"",detail:J.user.relationDetail||""}),p(J.user.interests||[]),S(J.user.location||""))},[J]),T.useEffect(()=>{if(!_||!Z.current)return;const q=Z.current,Ee=_.start||0,Jn=_.end,$n=()=>{q.currentTime=Ee},gn=()=>{Jn&&q.currentTime>=Jn-.05&&(q.currentTime=Ee,q.play())};return q.addEventListener("loadedmetadata",$n),q.addEventListener("timeupdate",gn),()=>{q.removeEventListener("loadedmetadata",$n),q.removeEventListener("timeupdate",gn)}},[_]);const Y=Ae({mutationFn:async()=>{await se.post(`/friends/${t}`)},onSuccess:()=>i.invalidateQueries({queryKey:["profile",t]})}),W=Ae({mutationFn:async()=>{await se.post(`/friends/${t}/accept`)},onSuccess:()=>i.invalidateQueries({queryKey:["profile",t]})}),fe=Ae({mutationFn:async()=>{await se.delete(`/friends/${t}`)},onSuccess:()=>i.invalidateQueries({queryKey:["profile",t]})}),me=Ae({mutationFn:async()=>{await se.post(`/friends/${t}/relation`,r)},onSuccess:()=>{i.invalidateQueries({queryKey:["profile",t]}),c(!1)}}),A=Ae({mutationFn:async q=>se.put("/users/me/interests",{interests:q}),onSuccess:()=>i.invalidateQueries({queryKey:["profile",t]})}),P=Ae({mutationFn:async q=>se.put("/users/me/location",{location:q}),onSuccess:()=>i.invalidateQueries({queryKey:["profile",t]})}),I=Ae({mutationFn:async q=>se.post("/users/me/projects",q),onSuccess:()=>{i.invalidateQueries({queryKey:["my-projects"]}),E({title:"",description:"",category:"OTRO",targetDate:"",visibility:"PUBLIC",needsHelp:!1})}}),ee=Ae({mutationFn:async({id:q,...Ee})=>se.put(`/users/me/projects/${q}`,Ee),onSuccess:()=>{i.invalidateQueries({queryKey:["my-projects"]}),N(null),E({title:"",description:"",category:"OTRO",targetDate:"",visibility:"PUBLIC",needsHelp:!1})}}),ue=Ae({mutationFn:async q=>se.delete(`/users/me/projects/${q}`),onSuccess:()=>i.invalidateQueries({queryKey:["my-projects"]})}),ge=Ae({mutationFn:async({id:q,progress:Ee})=>se.put(`/users/me/projects/${q}/progress`,{progress:Ee}),onSuccess:()=>i.invalidateQueries({queryKey:["my-projects-overview"]})}),X=Ae({mutationFn:async q=>{const Jn={SALUD:["salud"],CREATIVO:["creativo"],PERSONAL:["personal"],ESTUDIO:["estudio"],OTRO:["ayuda"]}[q.category]||["ayuda"],$n=`Estoy buscando ayuda para este proyecto: ${q.title}${q.description?`\\n${q.description}`:""}`,{data:gn}=await se.post("/posts",{content:$n,type:"HELP_REQUEST",projectId:q.id,tags:Jn});return gn},onSuccess:()=>i.invalidateQueries({queryKey:["posts"]})});if(K)return m.jsx("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Cargando perfil..."});if($||!J)return m.jsx("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-red-600",children:"No pudimos cargar este perfil."});te.relationCategory,te.relationDetail;const xe=a?.username===te.username,vt=["PERSONAL","CREATIVO","SALUD","ESTUDIO","OTRO"],yn=["PUBLIC","FRIENDS","PRIVATE"],ui=q=>q?new Date(q).toLocaleDateString():"",ls=te.friendshipStatus,Cn=()=>a?.username===te.username?m.jsx(Je,{to:"/profile/edit",className:"text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Editar perfil"}):ls==="FRIENDS"?m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{onClick:()=>{window.confirm("Seguro que quieres quitar a esta persona de tus amigos?")&&fe.mutate()},className:"text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Amigos  (quitar)"}),!d&&m.jsx("button",{onClick:()=>c(!0),className:"text-sm px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500",children:"Editar relacin"}),d&&m.jsxs(m.Fragment,{children:[m.jsxs("select",{value:r.category,onChange:q=>o(Ee=>({...Ee,category:q.target.value})),className:"text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-2 py-1",children:[m.jsx("option",{value:"",children:"Categora"}),m.jsx("option",{value:"amigo",children:"Amigo/Amiga"}),m.jsx("option",{value:"familia",children:"Familia"}),m.jsx("option",{value:"trabajo",children:"Trabajo"}),m.jsx("option",{value:"deporte",children:"Deporte"}),m.jsx("option",{value:"pareja",children:"Pareja"}),m.jsx("option",{value:"conocido",children:"Conocido/a"}),m.jsx("option",{value:"otro",children:"Otro"})]}),r.category==="familia"&&m.jsx("input",{value:r.detail,onChange:q=>o(Ee=>({...Ee,detail:q.target.value})),placeholder:"Primo, madre, etc.",className:"text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-2 py-1"}),r.category&&m.jsx("button",{onClick:()=>me.mutate(),className:"text-sm px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500",children:"Guardar relacin"}),m.jsx("button",{onClick:()=>{c(!1),o({category:te.relationCategory||"",detail:te.relationDetail||""})},className:"text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Cancelar"})]})]}):ls==="OUTGOING"?m.jsx("button",{onClick:()=>{window.confirm("Cancelar solicitud de amistad?")&&fe.mutate()},className:"text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Solicitud enviada (cancelar)"}):ls==="INCOMING"?m.jsx("button",{onClick:()=>W.mutate(),className:"text-sm px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500",children:"Aceptar solicitud"}):m.jsx("button",{onClick:()=>Y.mutate(),className:"text-sm px-3 py-1 rounded-lg bg-slate-900 text-white hover:bg-slate-800",children:"Agregar amigo"});return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-5",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-sm",children:[m.jsx("div",{className:"h-32 w-full rounded-t-2xl overflow-hidden bg-gradient-to-r from-indigo-100 to-slate-200 dark:from-slate-800 dark:to-slate-700",children:_?m.jsx("video",{ref:Z,src:_.cleanSrc,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}):te.coverImageUrl?m.jsx("img",{src:`${_e}/${te.coverImageUrl}`,alt:"Portada",className:"w-full h-full object-cover"}):null}),m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx(Ca,{user:te,size:72,className:"border border-slate-200 dark:border-slate-700 -mt-10 bg-white"}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("h1",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50",children:te.name}),Cn()]}),m.jsxs("div",{className:"text-sm text-slate-500",children:["@",te.username]}),xe&&m.jsx("div",{className:"mt-1",children:m.jsx(Je,{to:"/feedback",className:"text-xs px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-200 dark:border-indigo-800",children:"Ir al muro del creador"})}),te.badges&&te.badges.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:te.badges.map(q=>m.jsx("span",{className:"px-2 py-1 rounded-full bg-amber-100 text-amber-800 text-xs font-semibold dark:bg-amber-900/40 dark:text-amber-200 border border-amber-200 dark:border-amber-800",children:q.name},q.code))}),te.email&&m.jsx("div",{className:"text-sm text-slate-500",children:te.email}),te.bio&&m.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm mt-2",children:te.bio}),m.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[te._count?.posts??0," publicaciones  ",te.friendsCount??0," amigos"]}),te.relationCategory&&m.jsxs("div",{className:"text-xs text-slate-500",children:["Relacin: ",te.relationCategory," ",te.relationDetail?`(${te.relationDetail})`:""]}),xe&&m.jsxs("div",{className:"mt-4 space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Intereses"}),m.jsx("button",{onClick:()=>A.mutateAsync(h),className:"text-xs px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500 disabled:opacity-50",disabled:A.isPending,children:A.isPending?"Guardando...":"Guardar intereses"})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.map((q,Ee)=>m.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200",children:["#",q,m.jsx("button",{onClick:()=>p(Jn=>Jn.filter(($n,gn)=>gn!==Ee)),className:"text-slate-500 hover:text-red-500",type:"button",children:""})]},`${q}-${Ee}`)),m.jsx("input",{value:y,onChange:q=>g(q.target.value),onKeyDown:q=>{q.key==="Enter"&&(q.preventDefault(),y.trim()&&(p(Ee=>[...Ee,y.trim()]),g("")))},className:"px-3 py-1 rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-xs text-slate-700 dark:text-slate-200",placeholder:"Agregar inters y Enter"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{value:x,onChange:q=>S(q.target.value),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-1 text-slate-800 dark:text-slate-100",placeholder:"Ciudad / zona"}),m.jsx("button",{onClick:()=>P.mutateAsync(x),className:"px-3 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50",disabled:P.isPending,children:P.isPending?"Guardando...":"Guardar ubicacin"})]})]}),!xe&&te.interests?.length>0&&m.jsxs("div",{className:"mt-3",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Intereses"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:te.interests.map(q=>m.jsxs("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200",children:["#",q]},q))}),te.location&&m.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Ubicacin: ",te.location]})]}),xe&&be&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Mis squads"}),m.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[be.filter(q=>q.joined).map(q=>m.jsx(Je,{to:`/squads/${q.id}`,className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:q.name},q.id)),be.filter(q=>q.joined).length===0&&m.jsx("div",{className:"text-xs text-slate-500",children:"An no te uniste a squads."})]})]})]})]})})]}),xe&&m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Proyectos y metas"}),m.jsx("button",{onClick:()=>{N(null),E({title:"",description:"",category:"OTRO",targetDate:"",visibility:"PUBLIC",needsHelp:!1})},className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500",children:"Agregar proyecto"})]}),m.jsxs("div",{className:"grid gap-3",children:[le?.map(q=>m.jsxs("div",{className:"border border-slate-200 dark:border-slate-800 rounded-xl p-3 bg-slate-50 dark:bg-slate-800/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:q.title}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200",children:q.category}),q.needsHelp&&m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200",children:"Pide ayuda"}),m.jsxs("div",{className:"ml-auto flex items-center gap-2 text-xs text-slate-500",children:[q.targetDate&&m.jsxs("span",{children:["Objetivo: ",ui(q.targetDate)]}),m.jsxs("span",{children:["Visibilidad: ",q.visibility]})]})]}),q.description&&m.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 mt-1",children:q.description}),m.jsxs("div",{className:"flex gap-2 mt-2",children:[m.jsx("button",{onClick:()=>{N(q.id),E({title:q.title,description:q.description||"",category:q.category,targetDate:q.targetDate?q.targetDate.split("T")[0]:"",visibility:q.visibility,needsHelp:q.needsHelp})},className:"text-xs px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Editar"}),m.jsx("button",{onClick:()=>ue.mutate(q.id),className:"text-xs px-3 py-1 rounded-lg border border-red-200 bg-red-50 text-red-700 dark:border-red-800 dark:bg-red-900/30 dark:text-red-200",children:"Eliminar"}),m.jsx("button",{onClick:()=>X.mutate(q),className:"text-xs px-3 py-1 rounded-lg bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200",children:"Pedir ayuda a la comunidad"})]})]},q.id)),(!le||le.length===0)&&m.jsx("div",{className:"text-sm text-slate-500",children:"An no tienes proyectos. Crea el primero!"})]}),m.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4 space-y-3",children:[m.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ttulo *"}),m.jsx("input",{value:j.title,onChange:q=>E(Ee=>({...Ee,title:q.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",placeholder:"Nuevo proyecto"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Categora"}),m.jsx("select",{value:j.category,onChange:q=>E(Ee=>({...Ee,category:q.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",children:vt.map(q=>m.jsx("option",{value:q,children:q},q))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Descripcin"}),m.jsx("textarea",{value:j.description,onChange:q=>E(Ee=>({...Ee,description:q.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",rows:3,placeholder:"Detalles adicionales"})]}),m.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Fecha objetivo"}),m.jsx("input",{type:"date",value:j.targetDate,onChange:q=>E(Ee=>({...Ee,targetDate:q.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Visibilidad"}),m.jsx("select",{value:j.visibility,onChange:q=>E(Ee=>({...Ee,visibility:q.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",children:yn.map(q=>m.jsx("option",{value:q,children:q},q))})]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200 mt-6",children:[m.jsx("input",{type:"checkbox",checked:j.needsHelp,onChange:q=>E(Ee=>({...Ee,needsHelp:q.target.checked}))}),"Necesito ayuda de la comunidad"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>C?ee.mutate({id:C,...j}):I.mutate(j),className:"px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50",disabled:!j.title,children:C?"Actualizar proyecto":"Crear proyecto"}),C&&m.jsx("button",{onClick:()=>{N(null),E({title:"",description:"",category:"OTRO",targetDate:"",visibility:"PUBLIC",needsHelp:!1})},className:"px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm",children:"Cancelar"})]})]})]}),xe&&m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Mis proyectos (resumen)"}),m.jsxs("div",{className:"space-y-3",children:[oe?.map(q=>m.jsxs("div",{className:"border border-slate-200 dark:border-slate-800 rounded-xl p-3 space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:q.title}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200",children:q.category}),m.jsxs("div",{className:"ml-auto text-xs text-slate-500",children:["Progreso: ",q.progress,"%"]})]}),m.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden",children:m.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${Math.min(100,Math.max(0,q.progress))}%`}})}),m.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-300",children:["Actualizaciones: ",q.updatesCount,"  Pedidos de ayuda: ",q.helpRequestsCount,"  ltimo movimiento:"," ",q.lastUpdateAt?new Date(q.lastUpdateAt).toLocaleDateString():"sin actividad"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"range",min:"0",max:"100",value:q.progress,onChange:Ee=>ge.mutate({id:q.id,progress:Number(Ee.target.value)}),className:"flex-1"}),m.jsx("button",{onClick:async()=>{const{data:Ee}=await se.get(`/posts/project/${q.id}`);Q(Ee),L(!0)},className:"text-xs px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Ver posts relacionados"})]})]},q.id)),(!oe||oe.length===0)&&m.jsx("div",{className:"text-sm text-slate-500",children:"Sin proyectos todava."})]})]}),M&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-4 max-w-4xl w-full max-h-[80vh] overflow-auto space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Posts del proyecto"}),m.jsx("button",{onClick:()=>L(!1),className:"px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-sm",children:"Cerrar"})]}),O.map(q=>m.jsx(Tl,{post:q},q.id)),O.length===0&&m.jsx("div",{className:"text-sm text-slate-500",children:"Sin posts para este proyecto."})]})}),m.jsxs("div",{className:"space-y-4",children:[Ie.length===0&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Sin publicaciones todava."}),Ie.map(q=>m.jsx(Tl,{post:q},q.id))]})]})}function aO(){const t=is(),{register:a}=Gt(),[i,r]=T.useState({name:"",username:"",email:"",password:""}),[o,d]=T.useState(null),[c,h]=T.useState(!1),[p,y]=T.useState(!1),g=S=>{r(j=>({...j,[S.target.name]:S.target.value}))},x=async S=>{S.preventDefault(),d(null),h(!0);try{await a(i),y(!0),setTimeout(()=>{t("/feed")},3e3)}catch(j){d(j.response?.data?.message||"Error al registrarse")}finally{h(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[m.jsx(Sf,{visible:p}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-lg rounded-2xl p-8 w-full max-w-md relative z-10",children:[m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-50 mb-1",children:"Crear cuenta"}),m.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"nete y comparte tus ideas."}),o&&m.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:o}),m.jsxs("form",{className:"space-y-4",onSubmit:x,children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Nombre completo"}),m.jsx("input",{name:"name",value:i.name,onChange:g,required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:"Tu nombre"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"@username"}),m.jsx("input",{name:"username",value:i.username,onChange:g,required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:"usuario"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Email"}),m.jsx("input",{type:"email",name:"email",value:i.email,onChange:g,required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:"tu@email.com"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Contrasea"}),m.jsx("input",{type:"password",name:"password",value:i.password,onChange:g,required:!0,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:c||p,className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500 disabled:opacity-50",children:c?"Creando cuenta...":"Registrarme"})]}),m.jsxs("p",{className:"text-sm text-center text-slate-500 mt-4",children:["Ya tienes cuenta?"," ",m.jsx(Je,{to:"/login",className:"text-indigo-700 dark:text-indigo-300 font-semibold",children:"Inicia sesin"})]})]})]})}function sO(){const{user:t}=Gt(),a=Qt(),[i,r]=T.useState(null),[o,d]=T.useState(""),{data:c}=St({queryKey:["conversations"],queryFn:async()=>{const{data:x}=await se.get("/chat/conversations");return x||[]},refetchInterval:15e3}),{data:h}=St({queryKey:["friends"],queryFn:async()=>{const{data:x}=await se.get("/friends");return x||[]}}),{data:p}=St({enabled:!!i,queryKey:["messages",i],queryFn:async()=>{const{data:x}=await se.get(`/chat/${i}/messages`);return x||[]},refetchInterval:5e3});T.useEffect(()=>{!i&&c&&c.length>0&&r(c[0].id)},[c,i]);const y=Ae({mutationFn:async x=>{const{data:S}=await se.post(`/chat/start/${x}`);return S},onSuccess:({id:x})=>{r(x),a.invalidateQueries({queryKey:["conversations"]})}}),g=Ae({mutationFn:async()=>{if(!o.trim())return;const j=c?.find(E=>E.id===i)?.participants?.find(E=>E.id!==t.id)?.username;j&&await se.post(`/chat/to/${j}`,{content:o})},onSuccess:()=>{d(""),a.invalidateQueries({queryKey:["messages",i]}),a.invalidateQueries({queryKey:["conversations"]})}});return m.jsxs("div",{className:"grid md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Amigos"}),h?.filter(x=>x.status==="ACCEPTED")?.map(x=>m.jsxs("button",{onClick:()=>y.mutate(x.user.username),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:[m.jsx("div",{className:"font-semibold",children:x.user.name}),m.jsxs("div",{className:"text-xs text-slate-500",children:["@",x.user.username]})]},x.user.id)),h?.filter(x=>x.status==="ACCEPTED")?.length===0&&m.jsx("div",{className:"text-xs text-slate-500",children:"No tienes amigos aceptados an."})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Chats"}),c?.map(x=>{const S=x.participants?.find(j=>j.id!==t.id)||x.participants?.[0];return m.jsxs("button",{onClick:()=>r(x.id),className:`w-full text-left px-3 py-2 rounded-lg ${i===x.id?"bg-indigo-50 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-200":"hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[m.jsx("div",{className:"font-semibold",children:S?.name||"Chat"}),m.jsxs("div",{className:"text-xs text-slate-500",children:["@",S?.username]}),x.lastMessage&&m.jsxs("div",{className:"text-xs text-slate-500 truncate",children:[x.lastMessage.sender?.username===t.username?"T: ":"",x.lastMessage.content]})]},x.id)}),(!c||c.length===0)&&m.jsx("div",{className:"text-xs text-slate-500",children:"An no hay chats. Elige un amigo para empezar."})]}),m.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 flex flex-col gap-3 min-h-[400px]",children:[m.jsxs("div",{className:"flex-1 space-y-2 overflow-y-auto pr-2",children:[p?.map(x=>m.jsxs("div",{className:`max-w-[80%] px-3 py-2 rounded-xl text-sm ${x.sender?.id===t.id?"ml-auto bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-100"}`,children:[m.jsxs("div",{className:"text-[11px] opacity-70",children:["@",x.sender?.username]}),m.jsx("div",{children:x.content})]},x.id)),!i&&m.jsx("div",{className:"text-sm text-slate-500",children:"Selecciona un chat o un amigo para empezar."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{value:o,onChange:x=>d(x.target.value),className:"flex-1 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-800 dark:text-slate-100 focus:border-indigo-400 focus:outline-none",placeholder:"Escribe un mensaje..."}),m.jsx("button",{onClick:()=>g.mutate(),disabled:!o.trim()||!i,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",children:"Enviar"})]})]})]})}function iO(){const{preferences:t,savePreferences:a}=Bb(),[i,r]=T.useState(()=>t?.cardStyle||{rounded:16,glass:!0}),[o,d]=T.useState(()=>t?.theme||"light"),[c,h]=T.useState(""),p=async()=>{await a({cardStyle:i,theme:o}),h("Guardado"),setTimeout(()=>h(""),1500)};return m.jsxs("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 space-y-4",children:[m.jsx("h1",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50",children:"Personaliza tu experiencia"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Tema"}),m.jsxs("select",{value:o,onChange:y=>d(y.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-800 dark:text-slate-100",children:[m.jsx("option",{value:"light",children:"Claro"}),m.jsx("option",{value:"dark",children:"Oscuro"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Radio de borde (cards)"}),m.jsx("input",{type:"range",min:"8",max:"32",value:i.rounded??16,onChange:y=>r(g=>({...g,rounded:Number(y.target.value)})),className:"w-full"}),m.jsxs("div",{className:"text-sm text-slate-500",children:[i.rounded??16,"px"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:i.glass??!0,onChange:y=>r(g=>({...g,glass:y.target.checked}))}),m.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Efecto glass"})]}),m.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500",children:"Guardar preferencias"}),c&&m.jsx("div",{className:"text-green-600 text-sm",children:c}),m.jsx("div",{className:"p-4 border border-slate-200 dark:border-slate-800",style:{borderRadius:`${i.rounded??16}px`,background:i.glass?"rgba(255,255,255,0.7)":void 0,backdropFilter:i.glass?"blur(6px)":void 0},children:"Vista previa de card personalizada"})]})}function lO(t=""){const a=t.match(/#t=([\d.]+),?([\d.]*)/);if(!a)return{cleanSrc:t,start:0,end:null};const i=parseFloat(a[1])||0,r=a[2]?parseFloat(a[2]):null;return{cleanSrc:t.split("#")[0],start:i,end:r}}function rO(){const{media:t,close:a}=Tf(),i=T.useRef(null),r=T.useMemo(()=>lO(t?.src),[t]);return T.useEffect(()=>{if(!t?.isVideo||!i.current)return;const o=i.current,d=r.start||0,c=r.end,h=()=>{o.currentTime=d},p=()=>{c&&o.currentTime>=c-.05&&(o.currentTime=d,o.play())};return o.addEventListener("loadedmetadata",h),o.addEventListener("timeupdate",p),()=>{o.removeEventListener("loadedmetadata",h),o.removeEventListener("timeupdate",p)}},[t,r.start,r.end]),m.jsx(So,{children:t&&m.jsx(Sl.div,{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,children:m.jsx(Sl.div,{className:"max-h-[90vh] max-w-[90vw] rounded-2xl shadow-2xl overflow-hidden bg-black/40 p-1",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:t.isVideo?m.jsx("video",{ref:i,src:r.cleanSrc,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"max-h-[90vh] max-w-[90vw] object-contain rounded-xl"}):m.jsx("img",{src:t.src,alt:t.alt||"media",className:"max-h-[90vh] max-w-[90vw] object-contain rounded-xl"})})})})}function oO(){const[t,a]=T.useState(""),i=Qt(),{data:r,isLoading:o}=St({queryKey:["squads",t],queryFn:async()=>{const{data:h}=await se.get("/squads",{params:{q:t||void 0}});return h}}),d=Ae({mutationFn:async h=>se.post(`/squads/${h}/join`),onSuccess:()=>i.invalidateQueries({queryKey:["squads"]})}),c=Ae({mutationFn:async h=>se.post(`/squads/${h}/leave`),onSuccess:()=>i.invalidateQueries({queryKey:["squads"]})});return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("input",{value:t,onChange:h=>a(h.target.value),className:"flex-1 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",placeholder:"Buscar squads por nombre o tag"})}),o&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Cargando squads..."}),m.jsxs("div",{className:"space-y-3",children:[r?.map(h=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Je,{to:`/squads/${h.id}`,className:"text-lg font-semibold text-indigo-700 dark:text-indigo-300",children:h.name}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200",children:h.type}),m.jsxs("span",{className:"text-xs text-slate-500 ml-auto",children:[h.membersCount," miembros"]})]}),m.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:h.description}),h.tags?.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:h.tags.map(p=>m.jsxs("span",{className:"px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700",children:["#",p]},p))}),m.jsx("div",{className:"flex gap-2",children:h.joined?m.jsx("button",{onClick:()=>c.mutate(h.id),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm hover:bg-slate-100 dark:hover:bg-slate-800",disabled:c.isPending,children:"Salir"}):m.jsx("button",{onClick:()=>d.mutate(h.id),className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",disabled:d.isPending,children:"Unirme"})})]},h.id)),!o&&(!r||r.length===0)&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"No se encontraron squads."})]})]})}function uO(){const{id:t}=of(),a=Qt(),i=Number(t),{data:r,isLoading:o}=St({queryKey:["squad",i],queryFn:async()=>{const{data:p}=await se.get(`/squads/${i}`);return p},enabled:!Number.isNaN(i)}),{data:d}=St({queryKey:["squad-posts",i],queryFn:async()=>{const{data:p}=await se.get(`/squads/${i}/posts`);return p},enabled:!Number.isNaN(i)}),c=Ae({mutationFn:async()=>se.post(`/squads/${i}/join`),onSuccess:()=>{a.invalidateQueries({queryKey:["squad",i]}),a.invalidateQueries({queryKey:["squads"]})}}),h=Ae({mutationFn:async()=>se.post(`/squads/${i}/leave`),onSuccess:()=>{a.invalidateQueries({queryKey:["squad",i]}),a.invalidateQueries({queryKey:["squads"]})}});return o?m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Cargando squad..."}):r?m.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h1",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50",children:r.name}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200",children:r.type}),m.jsxs("span",{className:"ml-auto text-xs text-slate-500",children:[r.membersCount," miembros"]})]}),m.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:r.description}),r.tags?.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:r.tags.map(p=>m.jsxs("span",{className:"px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700",children:["#",p]},p))}),m.jsx("div",{className:"flex gap-2",children:r.joined?m.jsx("button",{onClick:()=>h.mutate(),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm hover:bg-slate-100 dark:hover:bg-slate-800",disabled:h.isPending,children:"Salir"}):m.jsx("button",{onClick:()=>c.mutate(),className:"px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",disabled:c.isPending,children:"Unirme"})})]}),m.jsxs("div",{className:"space-y-3",children:[d?.map(p=>m.jsx(Tl,{post:p},p.id)),d&&d.length===0&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"No hay publicaciones en este squad."})]})]}):m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Squad no encontrado."})}function cO(){const[t,a]=T.useState(""),[i,r]=T.useState(""),[o,d]=T.useState("latest"),c=Qt(),{data:h,isLoading:p}=St({queryKey:["feedback",o],queryFn:async()=>{const x=o==="top"?{sort:"top"}:{},{data:S}=await se.get("/feedback",{params:x});return S}}),y=Ae({mutationFn:async()=>se.post("/feedback",{title:t,description:i}),onSuccess:()=>{a(""),r(""),c.invalidateQueries({queryKey:["feedback"]})}}),g=Ae({mutationFn:async x=>se.post(`/feedback/${x}/vote`),onSuccess:()=>c.invalidateQueries({queryKey:["feedback"]})});return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-3",children:[m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-50",children:"Muro del creador"}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Ac pods dejar ideas, quejas o sueos para mejorar esta red. Todo se lee."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("input",{value:t,onChange:x=>a(x.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",placeholder:"Ttulo de tu idea"}),m.jsx("textarea",{value:i,onChange:x=>r(x.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",rows:3,placeholder:"Describe qu te gustara ver, mejorar o arreglar"}),m.jsx("button",{onClick:()=>y.mutate(),disabled:!t.trim()||!i.trim()||y.isPending,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",children:y.isPending?"Enviando...":"Enviar idea"})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Ordenar:"}),m.jsx("button",{onClick:()=>d("latest"),className:`px-3 py-1 rounded-full text-sm border ${o==="latest"?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200"}`,children:"ltimas"}),m.jsx("button",{onClick:()=>d("top"),className:`px-3 py-1 rounded-full text-sm border ${o==="top"?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200"}`,children:"Ms votadas"})]}),p&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"Cargando ideas..."}),m.jsxs("div",{className:"space-y-3",children:[h?.map(x=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:x.title}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200",children:x.status}),m.jsxs("span",{className:"text-xs text-slate-500 ml-auto",children:["Votos: ",x.votes]})]}),m.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 line-clamp-3",children:x.description}),m.jsx("div",{className:"flex gap-2",children:m.jsx("button",{onClick:()=>g.mutate(x.id),className:"px-3 py-2 rounded-lg bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200 text-sm font-semibold disabled:opacity-50",disabled:g.isPending,children:"Votar"})})]},x.id)),!p&&(!h||h.length===0)&&m.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500",children:"No hay ideas an. S el primero en proponer algo."})]})]})}const dO=["F1","anime","fotografa","comedia","tech","gaming","viajes","salud","msica"],fO={SALUD:["salud"],CREATIVO:["creativo"],PERSONAL:["personal"],ESTUDIO:["estudio"],OTRO:["ayuda"]};function hO(){const{user:t,setUser:a}=Gt(),i=is(),r=Qt(),[o,d]=T.useState(1),[c,h]=T.useState([]),[p,y]=T.useState(""),[g,x]=T.useState(""),[S,j]=T.useState({title:"",description:"",category:"OTRO",targetDate:"",visibility:"PUBLIC",needsHelp:!1});T.useEffect(()=>{t?.interests?.length&&h(t.interests)},[t]);const{data:E}=St({queryKey:["onboarding-squads",g],queryFn:async()=>{const{data:O}=await se.get("/squads",{params:g?{q:g}:{}});return O},enabled:o===2}),C=Ae({mutationFn:async()=>se.put("/users/me/interests",{interests:c}),onSuccess:()=>{r.invalidateQueries({queryKey:["profile",t?.username]}),d(2)}}),N=Ae({mutationFn:async O=>se.post(`/squads/${O}/join`),onSuccess:()=>r.invalidateQueries({queryKey:["onboarding-squads"]})}),M=Ae({mutationFn:async()=>{const{data:O}=await se.post("/users/me/projects",{title:S.title,description:S.description,category:S.category,targetDate:S.targetDate||void 0,visibility:S.visibility,needsHelp:S.needsHelp});return O},onSuccess:async O=>{if(S.needsHelp){const Q=fO[S.category]||["ayuda"];await se.post("/posts",{content:`Estoy buscando ayuda para este proyecto: ${S.title}${S.description?`
${S.description}`:""}`,type:"HELP_REQUEST",projectId:O.id,tags:Q})}await se.put("/users/me/onboarding"),a({...t,hasCompletedOnboarding:!0}),r.invalidateQueries({queryKey:["auth"]}),i("/feed")}}),L=T.useMemo(()=>dO.filter(O=>!c.includes(O)),[c]);return t?m.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-lg",children:[m.jsxs("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-50",children:["Bienvenido/a, ",t.name]}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Completa estos pasos para personalizar tu experiencia."}),o===1&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Paso 1: Intereses"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((O,Q)=>m.jsxs("span",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200",children:["#",O,m.jsx("button",{onClick:()=>h(Z=>Z.filter((J,K)=>K!==Q)),className:"text-slate-500 hover:text-red-500",type:"button",children:""})]},`${O}-${Q}`))}),m.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(O=>m.jsx("button",{onClick:()=>h(Q=>[...Q,O]),className:"px-3 py-1 rounded-full border border-slate-200 dark:border-slate-700 text-xs text-slate-700 dark:text-slate-200",children:O},O))}),m.jsx("input",{value:p,onChange:O=>y(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),p.trim()&&(h(Q=>[...Q,p.trim()]),y("")))},className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",placeholder:"Agregar inters y presiona Enter"}),m.jsx("button",{onClick:()=>C.mutate(),disabled:C.isPending,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",children:C.isPending?"Guardando...":"Guardar y seguir"})]}),o===2&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Paso 2: Squads sugeridos"}),m.jsx("input",{value:g,onChange:O=>x(O.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",placeholder:"Buscar squads por tu inters principal"}),m.jsxs("div",{className:"space-y-2 max-h-64 overflow-auto",children:[E?.map(O=>m.jsxs("div",{className:"border border-slate-200 dark:border-slate-800 rounded-xl p-3 flex items-center gap-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:O.name}),m.jsx("div",{className:"text-xs text-slate-500",children:O.description}),m.jsxs("div",{className:"text-[11px] text-slate-500",children:["Miembros: ",O.membersCount]})]}),O.joined?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Te uniste"}):m.jsx("button",{onClick:()=>N.mutate(O.id),className:"px-3 py-1 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-500",children:"Unirme"})]},O.id)),E&&E.length===0&&m.jsx("div",{className:"text-sm text-slate-500",children:"No se encontraron squads para tu bsqueda."})]}),m.jsx("button",{onClick:()=>d(3),className:"px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800",children:"Continuar"})]}),o===3&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Paso 3: Primer proyecto"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ttulo *"}),m.jsx("input",{value:S.title,onChange:O=>j(Q=>({...Q,title:O.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",placeholder:"Mi gran meta"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Descripcin"}),m.jsx("textarea",{value:S.description,onChange:O=>j(Q=>({...Q,description:O.target.value})),rows:3,className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Categora"}),m.jsx("select",{value:S.category,onChange:O=>j(Q=>({...Q,category:O.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",children:["PERSONAL","CREATIVO","SALUD","ESTUDIO","OTRO"].map(O=>m.jsx("option",{value:O,children:O},O))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Fecha objetivo"}),m.jsx("input",{type:"date",value:S.targetDate,onChange:O=>j(Q=>({...Q,targetDate:O.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Visibilidad"}),m.jsx("select",{value:S.visibility,onChange:O=>j(Q=>({...Q,visibility:O.target.value})),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100",children:["PUBLIC","FRIENDS","PRIVATE"].map(O=>m.jsx("option",{value:O,children:O},O))})]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200",children:[m.jsx("input",{type:"checkbox",checked:S.needsHelp,onChange:O=>j(Q=>({...Q,needsHelp:O.target.checked}))}),"Necesito ayuda de la comunidad"]}),m.jsx("button",{onClick:()=>M.mutate(),disabled:!S.title||M.isPending,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",children:M.isPending?"Guardando...":"Finalizar onboarding"})]})]}):null}function mO(){const{tagName:t}=of(),[a,i]=T.useState([]),[r,o]=T.useState(!0),{user:d,refreshUser:c}=Gt(),[h,p]=T.useState(!1);T.useEffect(()=>{async function g(){o(!0);try{const{data:x}=await se.get(`/posts?tag=${encodeURIComponent(t)}`);i(x)}catch(x){console.error(x)}finally{o(!1)}}g()},[t]);async function y(){try{const g=d?.interests||[],x=t.toLowerCase();if(g.includes(x))return;p(!0);const S=[...g,x];await se.put("/users/me/interests",{interests:S}),await c?.()}catch(g){console.error(g)}finally{p(!1)}}return r?m.jsxs("div",{className:"p-4 text-slate-600 dark:text-slate-200",children:["Cargando posts con #",t,"..."]}):m.jsxs("div",{className:"max-w-3xl mx-auto space-y-4 p-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:["#",t]}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"Publicaciones relacionadas con este tema."}),d&&m.jsx("button",{onClick:y,disabled:h||(d.interests||[]).includes(t.toLowerCase()),className:"mt-2 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50",children:(d.interests||[]).includes(t.toLowerCase())?"Ya sigues este tema":`Seguir tema #${t}`})]}),a.length===0&&m.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"No hay publicaciones con este hashtag todava."}),a.map(g=>m.jsx(Tl,{post:g},g.id))]})}function pO(){const{user:t,loading:a}=Gt();return a?m.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-600",children:"Cargando..."}):m.jsxs("div",{className:"min-h-screen",children:[t&&m.jsx(PR,{}),m.jsx("div",{className:"max-w-5xl mx-auto px-4 py-6",children:t&&!t.hasCompletedOnboarding?m.jsx(hO,{}):m.jsxs(cT,{children:[m.jsx(Ot,{path:"/login",element:t?m.jsx(rl,{to:"/feed"}):m.jsx(eO,{})}),m.jsx(Ot,{path:"/register",element:t?m.jsx(rl,{to:"/feed"}):m.jsx(aO,{})}),m.jsx(Ot,{path:"/feed",element:m.jsx(Qn,{children:m.jsx(WR,{})})}),m.jsx(Ot,{path:"/profile/edit",element:m.jsx(Qn,{children:m.jsx(FR,{})})}),m.jsx(Ot,{path:"/profile/:username",element:m.jsx(Qn,{children:m.jsx(nO,{})})}),m.jsx(Ot,{path:"/chat",element:m.jsx(Qn,{children:m.jsx(sO,{})})}),m.jsx(Ot,{path:"/settings",element:m.jsx(Qn,{children:m.jsx(iO,{})})}),m.jsx(Ot,{path:"/squads",element:m.jsx(Qn,{children:m.jsx(oO,{})})}),m.jsx(Ot,{path:"/squads/:id",element:m.jsx(Qn,{children:m.jsx(uO,{})})}),m.jsx(Ot,{path:"/feedback",element:m.jsx(Qn,{children:m.jsx(cO,{})})}),m.jsx(Ot,{path:"/tag/:tagName",element:m.jsx(Qn,{children:m.jsx(mO,{})})}),m.jsx(Ot,{path:"/",element:m.jsx(rl,{to:"/feed"})}),m.jsx(Ot,{path:"*",element:m.jsx(rl,{to:"/feed"})})]})}),m.jsx(rO,{})]})}const yO=new dE;v2.createRoot(document.getElementById("root")).render(m.jsx(T.StrictMode,{children:m.jsx(fE,{client:yO,children:m.jsx(eC,{children:m.jsx(aC,{children:m.jsx(QR,{children:m.jsx(tC,{children:m.jsx(UT,{children:m.jsx(pO,{})})})})})})})}));
</file>

<file path="frontend/docs/index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
    <script type="module" crossorigin src="/assets/index-DQhyzxGP.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-D7InCHiI.css">
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
</file>

<file path="frontend/docs/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="frontend/eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="frontend/index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
</file>

<file path="frontend/postcss.config.js">
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
</file>

<file path="frontend/public/MacanudosLogonew.svg">
<svg width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="wave1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1">
        <animate attributeName="stop-color" values="#06b6d4;#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4" dur="12s" repeatCount="indefinite"/>
      </stop>
      <stop offset="50%" style="stop-color:#3b82f6;stop-opacity:1">
        <animate attributeName="stop-color" values="#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6" dur="12s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1">
        <animate attributeName="stop-color" values="#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6" dur="12s" repeatCount="indefinite"/>
      </stop>
    </linearGradient>
    
    <linearGradient id="wave2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.5">
        <animate attributeName="stop-color" values="#8b5cf6;#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6" dur="14s" repeatCount="indefinite"/>
      </stop>
      <stop offset="50%" style="stop-color:#ec4899;stop-opacity:0.5">
        <animate attributeName="stop-color" values="#ec4899;#f43f5e;#06b6d4;#3b82f6;#a855f7;#ec4899" dur="14s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" style="stop-color:#a855f7;stop-opacity:0.5">
        <animate attributeName="stop-color" values="#a855f7;#06b6d4;#3b82f6;#8b5cf6;#ec4899;#a855f7" dur="14s" repeatCount="indefinite"/>
      </stop>
    </linearGradient>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="strongGlow">
      <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <radialGradient id="trailGradient">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.8"/>
      <stop offset="50%" style="stop-color:#3b82f6;stop-opacity:0.3"/>
      <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:0"/>
    </radialGradient>
  </defs>
  
  <!-- Particle waves representing connection/social network -->
  <g filter="url(#glow)">
    <!-- Wave 1 particles -->
    <circle cx="20" cy="200" r="3" fill="#06b6d4" opacity="0.8">
      <animate attributeName="cy" values="200;170;200" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#06b6d4;#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4" dur="9s" repeatCount="indefinite"/>
    </circle>
    <circle cx="60" cy="200" r="4" fill="#3b82f6" opacity="0.7">
      <animate attributeName="cy" values="200;220;200" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6" dur="10s" repeatCount="indefinite"/>
    </circle>
    <circle cx="100" cy="200" r="3" fill="#8b5cf6" opacity="0.8">
      <animate attributeName="cy" values="200;180;200" dur="3.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3.5s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6" dur="11s" repeatCount="indefinite"/>
    </circle>
    <circle cx="140" cy="200" r="5" fill="#ec4899" opacity="0.6">
      <animate attributeName="cy" values="200;210;200" dur="4.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.6;1;0.6" dur="4.5s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6;#a855f7;#ec4899" dur="9.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="180" cy="200" r="3" fill="#06b6d4" opacity="0.8">
      <animate attributeName="cy" values="200;190;200" dur="3s" repeatCount="indefinite" begin="1s"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite" begin="1s"/>
      <animate attributeName="fill" values="#06b6d4;#8b5cf6;#ec4899;#f43f5e;#3b82f6;#a855f7;#06b6d4" dur="10.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="220" cy="200" r="4" fill="#3b82f6" opacity="0.7">
      <animate attributeName="cy" values="200;215;200" dur="4s" repeatCount="indefinite" begin="0.5s"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4s" repeatCount="indefinite" begin="0.5s"/>
      <animate attributeName="fill" values="#3b82f6;#ec4899;#8b5cf6;#a855f7;#f43f5e;#06b6d4;#3b82f6" dur="9s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
    <circle cx="260" cy="200" r="3" fill="#8b5cf6" opacity="0.8">
      <animate attributeName="cy" values="200;175;200" dur="3.5s" repeatCount="indefinite" begin="1.5s"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3.5s" repeatCount="indefinite" begin="1.5s"/>
      <animate attributeName="fill" values="#8b5cf6;#06b6d4;#3b82f6;#a855f7;#ec4899;#f43f5e;#8b5cf6" dur="10s" repeatCount="indefinite" begin="1s"/>
    </circle>
    <circle cx="300" cy="200" r="4" fill="#ec4899" opacity="0.7">
      <animate attributeName="cy" values="200;205;200" dur="4s" repeatCount="indefinite" begin="2s"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4s" repeatCount="indefinite" begin="2s"/>
      <animate attributeName="fill" values="#ec4899;#3b82f6;#06b6d4;#8b5cf6;#a855f7;#f43f5e;#ec4899" dur="11s" repeatCount="indefinite" begin="1.5s"/>
    </circle>
    <circle cx="340" cy="200" r="3" fill="#06b6d4" opacity="0.8">
      <animate attributeName="cy" values="200;185;200" dur="3.5s" repeatCount="indefinite" begin="0.8s"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3.5s" repeatCount="indefinite" begin="0.8s"/>
      <animate attributeName="fill" values="#06b6d4;#ec4899;#8b5cf6;#a855f7;#3b82f6;#f43f5e;#06b6d4" dur="9.5s" repeatCount="indefinite" begin="2s"/>
    </circle>
    <circle cx="380" cy="200" r="4" fill="#3b82f6" opacity="0.7">
      <animate attributeName="cy" values="200;220;200" dur="4.5s" repeatCount="indefinite" begin="1.2s"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4.5s" repeatCount="indefinite" begin="1.2s"/>
      <animate attributeName="fill" values="#3b82f6;#8b5cf6;#ec4899;#a855f7;#f43f5e;#06b6d4;#3b82f6" dur="10.5s" repeatCount="indefinite" begin="0.8s"/>
    </circle>
  </g>
  
  <!-- Stylized M made of connected nodes (social network concept) -->
  <g transform="translate(200, 200) rotate(180)">
    <line x1="-60" y1="-40" x2="-30" y2="40" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    <line x1="-30" y1="40" x2="0" y2="-20" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    <line x1="0" y1="-20" x2="30" y2="40" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    <line x1="30" y1="40" x2="60" y2="-40" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    
    <line x1="-60" y1="-40" x2="0" y2="-20" stroke="rgba(139, 92, 246, 0.15)" stroke-width="1.5" opacity="0.5" stroke-dasharray="3,6">
      <animate attributeName="opacity" values="0.3;0.5;0.3" dur="4s" repeatCount="indefinite"/>
    </line>
    <line x1="0" y1="-20" x2="60" y2="-40" stroke="rgba(59, 130, 246, 0.15)" stroke-width="1.5" opacity="0.5" stroke-dasharray="3,6">
      <animate attributeName="opacity" values="0.3;0.5;0.3" dur="4s" repeatCount="indefinite" begin="1s"/>
    </line>
    
    <circle cx="-60" cy="-40" r="12" fill="#06b6d4" filter="url(#glow)">
      <animate attributeName="r" values="12;14;12" dur="2s" repeatCount="indefinite"/>
    </circle>
    <circle cx="-30" cy="40" r="10" fill="#3b82f6" filter="url(#glow)">
      <animate attributeName="r" values="10;12;10" dur="2s" repeatCount="indefinite" begin="0.3s"/>
    </circle>
    <circle cx="0" cy="-20" r="14" fill="#8b5cf6" filter="url(#glow)">
      <animate attributeName="r" values="14;16;14" dur="2s" repeatCount="indefinite" begin="0.6s"/>
    </circle>
    <circle cx="30" cy="40" r="10" fill="#ec4899" filter="url(#glow)">
      <animate attributeName="r" values="10;12;10" dur="2s" repeatCount="indefinite" begin="0.9s"/>
    </circle>
    <circle cx="60" cy="-40" r="12" fill="#ec4899" filter="url(#glow)">
      <animate attributeName="r" values="12;14;12" dur="2s" repeatCount="indefinite" begin="1.2s"/>
    </circle>
    
    <circle cx="-45" cy="0" r="6" fill="white" opacity="0.6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="15" cy="10" r="6" fill="white" opacity="0.6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="1s"/>
    </circle>
    <circle cx="45" cy="0" r="6" fill="white" opacity="0.6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="2s"/>
    </circle>
  </g>
  
  <!-- Orbit ring effect with motion trail -->
  <g>
    <circle cx="200" cy="200" r="100" fill="none" stroke="url(#trailGradient)" stroke-width="6" opacity="0.3" stroke-dasharray="5,15">
      <animateTransform attributeName="transform" type="rotate" from="0 200 200" to="360 200 200" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.6;0.3" dur="2s" repeatCount="indefinite"/>
    </circle>
    <circle cx="200" cy="200" r="100" fill="none" stroke="url(#trailGradient)" stroke-width="4" opacity="0.2" stroke-dasharray="8,12">
      <animateTransform attributeName="transform" type="rotate" from="30 200 200" to="390 200 200" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.2;0.5;0.2" dur="2s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
    <circle cx="200" cy="200" r="100" fill="none" stroke="rgba(139, 92, 246, 0.4)" stroke-width="2" stroke-dasharray="10,20" filter="url(#strongGlow)">
      <animateTransform attributeName="transform" type="rotate" from="0 200 200" to="360 200 200" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="stroke" values="rgba(139, 92, 246, 0.4);rgba(59, 130, 246, 0.4);rgba(236, 72, 153, 0.4);rgba(168, 85, 247, 0.4);rgba(244, 63, 94, 0.4);rgba(6, 182, 212, 0.4);rgba(139, 92, 246, 0.4)" dur="8s" repeatCount="indefinite"/>
    </circle>
    <circle cx="300" cy="200" r="4" fill="#8b5cf6" filter="url(#strongGlow)">
      <animateTransform attributeName="transform" type="rotate" from="0 200 200" to="360 200 200" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#8b5cf6;#3b82f6;#ec4899;#a855f7;#f43f5e;#06b6d4;#8b5cf6" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="r" values="4;6;4" dur="1s" repeatCount="indefinite"/>
    </circle>
    <circle cx="100" cy="200" r="3" fill="#06b6d4" filter="url(#strongGlow)" opacity="0.8">
      <animateTransform attributeName="transform" type="rotate" from="0 200 200" to="360 200 200" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#06b6d4;#8b5cf6;#ec4899;#3b82f6;#a855f7;#f43f5e;#06b6d4" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="r" values="3;5;3" dur="1s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
  </g>
</svg>
</file>

<file path="frontend/public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="frontend/README.md">
# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend using TypeScript with type-aware lint rules enabled. Check out the [TS template](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) for information on how to integrate TypeScript and [`typescript-eslint`](https://typescript-eslint.io) in your project.
</file>

<file path="frontend/src/api/client.js">
import axios from "axios";

export const API_BASE_URL = import.meta.env.VITE_API_URL || "http://localhost:4000/api";

const api = axios.create({
  baseURL: API_BASE_URL,
});

api.interceptors.request.use((config) => {
  const token = localStorage.getItem("token");
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

export default api;
</file>

<file path="frontend/src/App.css">
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}
</file>

<file path="frontend/src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="frontend/src/components/Burst.jsx">
import React from 'react';
import { motion } from 'framer-motion';

// Simple burst animation: scales and fades an icon, then calls onComplete
export default function Burst({ icon = '', color = '#ef4444', onComplete = () => {} }) {
  return (
    <motion.div
      initial={{ scale: 0.6, opacity: 0 }}
      animate={{ scale: 1.6, opacity: 1, y: -20 }}
      exit={{ opacity: 0, scale: 1.2 }}
      transition={{ duration: 0.55, ease: [0.22, 1, 0.36, 1] }}
      onAnimationComplete={onComplete}
      className="pointer-events-none absolute inset-0 flex items-center justify-center z-40"
    >
      <motion.div
        initial={{ rotate: -10 }}
        animate={{ rotate: 0 }}
        className="text-6xl drop-shadow-lg"
        style={{ color }}
        aria-hidden
      >
        {icon}
      </motion.div>
    </motion.div>
  );
}
</file>

<file path="frontend/src/components/feed/FeedTabs.tsx">
import React from "react";

interface FeedTabsProps {
  active?: "forYou" | "squads" | "help" | "explore";
  onChange?: (tab: FeedTabsProps["active"]) => void;
  className?: string;
}

export const FeedTabs: React.FC<FeedTabsProps> = ({
  active = "forYou",
  onChange,
  className,
}) => {
  const tabs: { id: FeedTabsProps["active"]; label: string }[] = [
    { id: "forYou", label: "Para vos" },
    { id: "squads", label: "Squads" },
    { id: "help", label: "Ayuda" },
    { id: "explore", label: "Explorar" },
  ];

  const cx = (...classes: (string | undefined | false)[]) =>
    classes.filter(Boolean).join(" ");

  return (
    <div className={cx("flex items-center border-b border-white/10", className)}>
      {tabs.map((tab) => (
        <button
          key={tab.id}
          type="button"
          onClick={() => onChange?.(tab.id)}
          className={cx(
            "relative px-3 pb-2 text-sm font-medium transition-colors",
            active === tab.id ? "text-emerald-300" : "text-white/45 hover:text-white"
          )}
        >
          {tab.label}
          {active === tab.id && (
            <span className="absolute left-0 right-0 -bottom-px h-[2px] rounded-full bg-emerald-400" />
          )}
        </button>
      ))}
    </div>
  );
};
</file>

<file path="frontend/src/components/FeedTabs.jsx">
export default function FeedTabs({ mode, onChange }) {
  const tabs = [
    { key: "personal", label: "Para vos" },
    { key: "squads", label: "Squads" },
    { key: "help", label: "Ayuda" },
    { key: "global", label: "Explorar" },
  ];

  return (
    <div className="inline-flex items-center bg-white/70 dark:bg-slate-900/60 border border-slate-200 dark:border-slate-800 rounded-full shadow-sm overflow-hidden">
      {tabs.map((tab) => (
        <button
          key={tab.key}
          onClick={() => onChange(tab.key)}
          className={`px-4 py-2 text-sm font-semibold transition ${
            mode === tab.key
              ? "bg-indigo-600 text-white shadow-sm"
              : "text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"
          }`}
        >
          {tab.label}
        </button>
      ))}
    </div>
  );
}
</file>

<file path="frontend/src/components/icons/Icons.jsx">
import React from 'react';

export const AirplaneIcon = ({ className = 'w-5 h-5', title = 'Enviar' }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <title>{title}</title>
    <path d="M2 21l21-9L2 3v7l15 2-15 2v7z" fill="currentColor" />
  </svg>
);

export const ChevronIcon = ({ className = 'w-4 h-4', direction = 'down', title = '' }) => {
  const rotation = direction === 'down' ? 0 : direction === 'up' ? 180 : direction === 'left' ? -90 : 90;
  return (
    <svg className={className} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ transform: `rotate(${rotation}deg)` }} aria-hidden="true">
      <path d="M6 9l6 6 6-6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
    </svg>
  );
};

export const CloseIcon = ({ className = 'w-5 h-5' }) => (
  <svg className={className} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
  </svg>
);

export default {
  AirplaneIcon,
  ChevronIcon,
  CloseIcon,
};
</file>

<file path="frontend/src/components/layout/Header.tsx">
import React from "react";

export default function Header() {
  return (
    <header className="flex items-center justify-between px-4 py-3 border-b border-white/5 bg-black/60 backdrop-blur-md">
      {/* Izquierda: logo / brand */}
      <div className="flex items-center gap-2">
        <div className="w-8 h-8 rounded-xl bg-emerald-400/10 flex items-center justify-center border border-emerald-400/40">
          <span className="text-sm font-bold text-emerald-300">M</span>
        </div>
        <div className="flex flex-col leading-tight">
          <span className="text-sm font-semibold text-white">Macanudo</span>
          <span className="text-[11px] text-white/40">Red social de buena vibra</span>
        </div>
      </div>

      {/* Centro: buscador */}
      <div className="hidden md:flex flex-1 justify-center px-4">
        <input
          placeholder="Buscar gente, temas, squads..."
          className="w-full max-w-md rounded-full bg-white/5 px-4 py-2 text-sm text-white placeholder:text-white/40 border border-white/10 focus:outline-none focus:ring-2 focus:ring-emerald-400/60"
        />
      </div>

      {/* Derecha: acciones */}
      <div className="flex items-center gap-3">
        <button className="hidden sm:inline-flex items-center gap-1.5 rounded-full bg-emerald-400 px-3 py-1.5 text-xs font-semibold text-black hover:bg-emerald-300 transition">
          <span>+</span>
          <span>Crear post</span>
        </button>

        <button className="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-white/60 hover:text-white hover:bg-white/10 transition">
          
        </button>

        <div className="w-8 h-8 rounded-full bg-white/10 border border-white/15 overflow-hidden" />
      </div>
    </header>
  );
}
</file>

<file path="frontend/src/components/LoginBackground.jsx">
import React, { useEffect, useRef, useLayoutEffect } from "react";

export default function LoginBackground({ children }) {
  const canvasRef = useRef(null);

  useLayoutEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;
    const ctx = canvas.getContext("2d");

    const resize = () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    };
    resize();

    const particles = [];
    const particleCount = 100;
    const connectionDistance = 150;
    const mouse = { x: null, y: null, radius: 120 };

    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
        this.size = Math.random() * 2 + 1;
        this.opacity = Math.random() * 0.5 + 0.3;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        const dx = (mouse.x ?? this.x) - this.x;
        const dy = (mouse.y ?? this.y) - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < mouse.radius) {
          const force = (mouse.radius - distance) / mouse.radius;
          const angle = Math.atan2(dy, dx);
          this.x -= Math.cos(angle) * force * 2;
          this.y -= Math.sin(angle) * force * 2;
        }
        if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
        if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
        this.x = Math.max(0, Math.min(canvas.width, this.x));
        this.y = Math.max(0, Math.min(canvas.height, this.y));
      }
      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(139, 92, 246, ${this.opacity})`;
        ctx.fill();
      }
    }

    for (let i = 0; i < particleCount; i += 1) particles.push(new Particle());

    const connectParticles = () => {
      for (let i = 0; i < particles.length; i += 1) {
        for (let j = i + 1; j < particles.length; j += 1) {
          const dx = particles[i].x - particles[j].x;
          const dy = particles[i].y - particles[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < connectionDistance) {
            const opacity = (1 - distance / connectionDistance) * 0.3;
            ctx.beginPath();
            ctx.strokeStyle = `rgba(139, 92, 246, ${opacity})`;
            ctx.lineWidth = 1;
            ctx.moveTo(particles[i].x, particles[i].y);
            ctx.lineTo(particles[j].x, particles[j].y);
            ctx.stroke();
          }
        }
      }
    };

    let animationId;
    const animate = () => {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach((p) => {
        p.update();
        p.draw();
      });
      connectParticles();
      animationId = requestAnimationFrame(animate);
    };
    animate();

    const handleMouseMove = (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    };
    const handleMouseLeave = () => {
      mouse.x = null;
      mouse.y = null;
    };
    window.addEventListener("mousemove", handleMouseMove);
    window.addEventListener("mouseleave", handleMouseLeave);
    window.addEventListener("resize", resize);

    return () => {
      cancelAnimationFrame(animationId);
      window.removeEventListener("mousemove", handleMouseMove);
      window.removeEventListener("mouseleave", handleMouseLeave);
      window.removeEventListener("resize", resize);
    };
  }, []);

  return (
    <div className="fixed inset-0 overflow-hidden bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950">
      <style>{`
        @keyframes neonSpin {
          0% {
            box-shadow:
              0 0 5px rgba(139, 92, 246, 0.5),
              0 0 10px rgba(139, 92, 246, 0.5),
              0 0 20px rgba(139, 92, 246, 0.3),
              inset 0 0 10px rgba(139, 92, 246, 0.2);
            filter: hue-rotate(0deg);
          }
          50% {
            box-shadow:
              0 0 10px rgba(59, 130, 246, 0.6),
              0 0 20px rgba(59, 130, 246, 0.4),
              0 0 30px rgba(59, 130, 246, 0.3),
              inset 0 0 15px rgba(59, 130, 246, 0.2);
            filter: hue-rotate(180deg);
          }
          100% {
            box-shadow:
              0 0 5px rgba(139, 92, 246, 0.5),
              0 0 10px rgba(139, 92, 246, 0.5),
              0 0 20px rgba(139, 92, 246, 0.3),
              inset 0 0 10px rgba(139, 92, 246, 0.2);
            filter: hue-rotate(360deg);
          }
        }
      `}</style>

      <canvas ref={canvasRef} className="absolute inset-0" style={{ width: "100vw", height: "100vh" }} />
      <div className="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30 pointer-events-none" />

      <div className="relative z-10 flex min-h-screen items-center justify-center px-4 py-8">
        <div className="neon-logo hidden" aria-hidden="true" />
        {children}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/components/MacanudosLogo.jsx">
import React from "react";

export default function MacanudosLogo({ className = "", size = 128, showText = true }) {
  const imgSrc = `${import.meta.env.BASE_URL}MacanudosLogonew.svg`;
  return (
    <div className={`inline-flex items-center gap-2 ${className}`}>
      <img
        src={imgSrc}
        alt="Macanudos"
        style={{ height: size, width: "auto" }}
        className="object-contain drop-shadow-lg"
      />
      {showText && (
        <span className="font-semibold text-base tracking-wide text-slate-900 dark:text-white">
          Macanudos
        </span>
      )}
    </div>
  );
}
</file>

<file path="frontend/src/components/OnboardingWizard.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import { useEffect, useMemo, useState } from "react";
import { useNavigate } from "react-router-dom";
import api from "../api/client";
import { useAuth } from "../context/AuthContext";

const SUGGESTED = ["F1", "anime", "fotografa", "comedia", "tech", "gaming", "viajes", "salud", "msica"];
const CATEGORY_TAGS = {
  SALUD: ["salud"],
  CREATIVO: ["creativo"],
  PERSONAL: ["personal"],
  ESTUDIO: ["estudio"],
  OTRO: ["ayuda"],
};

export default function OnboardingWizard() {
  const { user, setUser } = useAuth();
  const navigate = useNavigate();
  const queryClient = useQueryClient();
  const [step, setStep] = useState(1);
  const [interests, setInterests] = useState([]);
  const [newInterest, setNewInterest] = useState("");
  const [query, setQuery] = useState("");
  const [project, setProject] = useState({
    title: "",
    description: "",
    category: "OTRO",
    targetDate: "",
    visibility: "PUBLIC",
    needsHelp: false,
  });

  useEffect(() => {
    if (user?.interests?.length) setInterests(user.interests);
  }, [user]);

  const { data: squads } = useQuery({
    queryKey: ["onboarding-squads", query],
    queryFn: async () => {
      const { data } = await api.get("/squads", { params: query ? { q: query } : {} });
      return data;
    },
    enabled: step === 2,
  });

  const saveInterests = useMutation({
    mutationFn: async () => api.put("/users/me/interests", { interests }),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["profile", user?.username] });
      setStep(2);
    },
  });

  const joinSquad = useMutation({
    mutationFn: async (id) => api.post(`/squads/${id}/join`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["onboarding-squads"] }),
  });

  const createProject = useMutation({
    mutationFn: async () => {
      const { data } = await api.post("/users/me/projects", {
        title: project.title,
        description: project.description,
        category: project.category,
        targetDate: project.targetDate || undefined,
        visibility: project.visibility,
        needsHelp: project.needsHelp,
      });
      return data;
    },
    onSuccess: async (proj) => {
      if (project.needsHelp) {
        const tags = CATEGORY_TAGS[project.category] || ["ayuda"];
        await api.post("/posts", {
          content: `Estoy buscando ayuda para este proyecto: ${project.title}${project.description ? `\n${project.description}` : ""}`,
          type: "HELP_REQUEST",
          projectId: proj.id,
          tags,
        });
      }
      await api.put("/users/me/onboarding");
      setUser({ ...user, hasCompletedOnboarding: true });
      queryClient.invalidateQueries({ queryKey: ["auth"] });
      navigate("/feed");
    },
  });

  const suggestedFiltered = useMemo(
    () => SUGGESTED.filter((s) => !interests.includes(s)),
    [interests]
  );

  if (!user) return null;

  return (
    <div className="max-w-3xl mx-auto space-y-6 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-lg">
      <h1 className="text-2xl font-semibold text-slate-900 dark:text-slate-50">Bienvenido/a, {user.name}</h1>
      <p className="text-sm text-slate-600 dark:text-slate-300">
        Completa estos pasos para personalizar tu experiencia.
      </p>

      {step === 1 && (
        <div className="space-y-4">
          <h2 className="text-lg font-semibold text-slate-900 dark:text-slate-50">Paso 1: Intereses</h2>
          <div className="flex flex-wrap gap-2">
            {interests.map((tag, idx) => (
              <span
                key={`${tag}-${idx}`}
                className="flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200"
              >
                #{tag}
                <button
                  onClick={() => setInterests((prev) => prev.filter((_, i) => i !== idx))}
                  className="text-slate-500 hover:text-red-500"
                  type="button"
                >
                  
                </button>
              </span>
            ))}
          </div>
          <div className="flex flex-wrap gap-2">
            {suggestedFiltered.map((s) => (
              <button
                key={s}
                onClick={() => setInterests((prev) => [...prev, s])}
                className="px-3 py-1 rounded-full border border-slate-200 dark:border-slate-700 text-xs text-slate-700 dark:text-slate-200"
              >
                {s}
              </button>
            ))}
          </div>
          <input
            value={newInterest}
            onChange={(e) => setNewInterest(e.target.value)}
            onKeyDown={(e) => {
              if (e.key === "Enter") {
                e.preventDefault();
                if (newInterest.trim()) {
                  setInterests((prev) => [...prev, newInterest.trim()]);
                  setNewInterest("");
                }
              }
            }}
            className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
            placeholder="Agregar inters y presiona Enter"
          />
          <button
            onClick={() => saveInterests.mutate()}
            disabled={saveInterests.isPending}
            className="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
          >
            {saveInterests.isPending ? "Guardando..." : "Guardar y seguir"}
          </button>
        </div>
      )}

      {step === 2 && (
        <div className="space-y-4">
          <h2 className="text-lg font-semibold text-slate-900 dark:text-slate-50">Paso 2: Squads sugeridos</h2>
          <input
            value={query}
            onChange={(e) => setQuery(e.target.value)}
            className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
            placeholder="Buscar squads por tu inters principal"
          />
          <div className="space-y-2 max-h-64 overflow-auto">
            {squads?.map((s) => (
              <div
                key={s.id}
                className="border border-slate-200 dark:border-slate-800 rounded-xl p-3 flex items-center gap-2"
              >
                <div className="flex-1">
                  <div className="font-semibold text-slate-900 dark:text-slate-100">{s.name}</div>
                  <div className="text-xs text-slate-500">{s.description}</div>
                  <div className="text-[11px] text-slate-500">Miembros: {s.membersCount}</div>
                </div>
                {s.joined ? (
                  <span className="text-xs px-2 py-1 rounded-full bg-green-100 text-green-700">Te uniste</span>
                ) : (
                  <button
                    onClick={() => joinSquad.mutate(s.id)}
                    className="px-3 py-1 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-500"
                  >
                    Unirme
                  </button>
                )}
              </div>
            ))}
            {squads && squads.length === 0 && (
              <div className="text-sm text-slate-500">No se encontraron squads para tu bsqueda.</div>
            )}
          </div>
          <button
            onClick={() => setStep(3)}
            className="px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800"
          >
            Continuar
          </button>
        </div>
      )}

      {step === 3 && (
        <div className="space-y-4">
          <h2 className="text-lg font-semibold text-slate-900 dark:text-slate-50">Paso 3: Primer proyecto</h2>
          <div className="space-y-2">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Ttulo *</label>
            <input
              value={project.title}
              onChange={(e) => setProject((p) => ({ ...p, title: e.target.value }))}
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
              placeholder="Mi gran meta"
            />
          </div>
          <div className="space-y-2">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Descripcin</label>
            <textarea
              value={project.description}
              onChange={(e) => setProject((p) => ({ ...p, description: e.target.value }))}
              rows={3}
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
            />
          </div>
          <div className="grid md:grid-cols-2 gap-3">
            <div className="space-y-2">
              <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Categora</label>
              <select
                value={project.category}
                onChange={(e) => setProject((p) => ({ ...p, category: e.target.value }))}
                className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
              >
                {["PERSONAL", "CREATIVO", "SALUD", "ESTUDIO", "OTRO"].map((c) => (
                  <option key={c} value={c}>
                    {c}
                  </option>
                ))}
              </select>
            </div>
            <div className="space-y-2">
              <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Fecha objetivo</label>
              <input
                type="date"
                value={project.targetDate}
                onChange={(e) => setProject((p) => ({ ...p, targetDate: e.target.value }))}
                className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
              />
            </div>
          </div>
          <div className="space-y-2">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Visibilidad</label>
            <select
              value={project.visibility}
              onChange={(e) => setProject((p) => ({ ...p, visibility: e.target.value }))}
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
            >
              {["PUBLIC", "FRIENDS", "PRIVATE"].map((v) => (
                <option key={v} value={v}>
                  {v}
                </option>
              ))}
            </select>
          </div>
          <label className="flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200">
            <input
              type="checkbox"
              checked={project.needsHelp}
              onChange={(e) => setProject((p) => ({ ...p, needsHelp: e.target.checked }))}
            />
            Necesito ayuda de la comunidad
          </label>
          <button
            onClick={() => createProject.mutate()}
            disabled={!project.title || createProject.isPending}
            className="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
          >
            {createProject.isPending ? "Guardando..." : "Finalizar onboarding"}
          </button>
        </div>
      )}
    </div>
  );
}
</file>

<file path="frontend/src/components/ProtectedRoute.jsx">
import { Navigate } from "react-router-dom";
import { useAuth } from "../context/AuthContext";

export default function ProtectedRoute({ children }) {
  const { user, loading } = useAuth();

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-screen text-slate-600">
        Cargando...
      </div>
    );
  }

  if (!user) {
    return <Navigate to="/login" replace />;
  }

  return children;
}
</file>

<file path="frontend/src/components/SuggestedUsers.jsx">
import { useQuery } from "@tanstack/react-query";
import { Link } from "react-router-dom";
import api from "../api/client";
import Avatar from "./Avatar";

export default function SuggestedUsers({ limit = 6 }) {
  const { data, isLoading } = useQuery({
    queryKey: ["suggested-users", limit],
    queryFn: async () => {
      const { data } = await api.get("/users/me/suggested", { params: { limit } });
      return data;
    },
  });

  return (
    <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-3">
      <h3 className="text-sm font-semibold text-slate-900 dark:text-slate-50">Gente como vos</h3>
      {isLoading && <div className="text-sm text-slate-500">Cargando...</div>}
      <div className="space-y-3">
        {data?.map((u) => (
          <Link
            key={u.id}
            to={`/profile/${u.username}`}
            className="flex items-center gap-3 p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800"
          >
            <Avatar user={{ ...u, avatar: u.avatar }} size={36} />
            <div className="flex-1">
              <div className="text-sm font-semibold text-slate-900 dark:text-slate-100">{u.name}</div>
              <div className="text-xs text-slate-500">@{u.username}</div>
              <div className="text-[11px] text-slate-500">
                Intereses en comn: {u.sharedInterests.slice(0, 2).join(", ") || ""}
              </div>
              <div className="text-[11px] text-slate-500">Comparten {u.sharedSquadsCount} squads</div>
            </div>
          </Link>
        ))}
        {!isLoading && (!data || data.length === 0) && (
          <div className="text-sm text-slate-500">Sin sugerencias por ahora.</div>
        )}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/components/TrendingHashtags.jsx">
import React, { useEffect, useState } from "react";
import { Link } from "react-router-dom";
import api from "../api/client";

export default function TrendingHashtags() {
  const [tags, setTags] = useState([]);

  useEffect(() => {
    async function load() {
      try {
        const { data } = await api.get("/hashtags/trending?limit=10");
        setTags(data);
      } catch (err) {
        // eslint-disable-next-line no-console
        console.error(err);
      }
    }
    load();
  }, []);

  if (!tags.length) return null;

  return (
    <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2">
      <h3 className="text-sm font-semibold text-slate-800 dark:text-slate-100">Tendencias</h3>
      <ul className="space-y-2 text-sm text-slate-700 dark:text-slate-300">
        {tags.map((tag) => (
          <li key={tag.id} className="flex items-center justify-between">
            <Link
              to={`/tag/${encodeURIComponent((tag.display || "").replace("#", ""))}`}
              className="text-indigo-600 dark:text-indigo-300 hover:underline"
            >
              {tag.display || `#${tag.canonical}`}
            </Link>
            <span className="text-xs text-slate-500 dark:text-slate-400">{tag.useCount}</span>
          </li>
        ))}
      </ul>
    </div>
  );
}
</file>

<file path="frontend/src/constants/reactions.js">
export const REACTIONS = {
  MACANUDO: { label: "Macanudo", icon: "" },
  MESSIRVE: { label: "Messirve", icon: "" },
  JAJAJA: { label: "Jajaja", icon: "" },
  DE_UNA: { label: "De una", icon: "" },
  QUE_BOLUDO: { label: "Qu boludo", icon: "" },
  QUE_BAJON: { label: "Qu bajn", icon: "" },
};

export const REACTION_ORDER = Object.keys(REACTIONS);
</file>

<file path="frontend/src/context/PreferencesContext.jsx">
import { createContext, useContext, useEffect, useMemo, useState } from "react";
import api from "../api/client";
import { useAuth } from "./AuthContext";

const PreferencesContext = createContext(null);

export function PreferencesProvider({ children }) {
  const { user } = useAuth();
  const [preferences, setPreferences] = useState(null);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (!user) {
      setPreferences(null);
      return;
    }
    setLoading(true);
    api
      .get("/preferences")
      .then(({ data }) => setPreferences(data || {}))
      .catch(() => setPreferences({}))
      .finally(() => setLoading(false));
  }, [user]);

  const savePreferences = async (prefs) => {
    const { data } = await api.put("/preferences", prefs);
    setPreferences(data);
    return data;
  };

  const value = useMemo(
    () => ({ preferences, loading, savePreferences }),
    [preferences, loading]
  );

  return <PreferencesContext.Provider value={value}>{children}</PreferencesContext.Provider>;
}

export function usePreferences() {
  const ctx = useContext(PreferencesContext);
  if (!ctx) throw new Error("usePreferences debe usarse dentro de PreferencesProvider");
  return ctx;
}
</file>

<file path="frontend/src/context/ThemeContext.jsx">
import { createContext, useContext, useEffect, useMemo, useState } from "react";

const ThemeContext = createContext(null);
const THEME_KEY = "sn_theme";

export function ThemeProvider({ children }) {
  const [theme, setTheme] = useState(() => localStorage.getItem(THEME_KEY) || "light");

  useEffect(() => {
    const root = document.documentElement;
    if (theme === "dark") {
      root.classList.add("dark");
    } else {
      root.classList.remove("dark");
    }
    localStorage.setItem(THEME_KEY, theme);
  }, [theme]);

  const toggleTheme = () => setTheme((prev) => (prev === "dark" ? "light" : "dark"));

  const value = useMemo(() => ({ theme, toggleTheme }), [theme]);

  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;
}

export function useTheme() {
  const ctx = useContext(ThemeContext);
  if (!ctx) {
    throw new Error("useTheme debe usarse dentro de ThemeProvider");
  }
  return ctx;
}
</file>

<file path="frontend/src/context/UserThemeContext.jsx">
import { createContext, useContext, useEffect, useMemo, useState } from "react";
import api from "../api/client";

const UserThemeContext = createContext(null);

export function UserThemeProvider({ children }) {
  const [themeData, setThemeData] = useState({ theme: null, decorations: [], customThemeSettings: {} });
  const [loading, setLoading] = useState(true);

  const fetchTheme = async () => {
    try {
      const { data } = await api.get("/theme/me");
      setThemeData(data);
    } catch (e) {
      setThemeData({ theme: null, decorations: [], customThemeSettings: {} });
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchTheme();
  }, []);

  const updateTheme = async (payload) => {
    await api.put("/theme/me", payload);
    await fetchTheme();
  };

  const value = useMemo(
    () => ({
      themeData,
      loading,
      updateTheme,
      refresh: fetchTheme,
    }),
    [themeData, loading]
  );

  return <UserThemeContext.Provider value={value}>{children}</UserThemeContext.Provider>;
}

export function useUserTheme() {
  const ctx = useContext(UserThemeContext);
  if (!ctx) throw new Error("useUserTheme debe usarse dentro de UserThemeProvider");
  return ctx;
}
</file>

<file path="frontend/src/features/highlights/ModeConfig.js">
export const MODES = {
  CERCA: { label: "Cerca", accent: "#3B82F6", gradient: "from-blue-500 to-blue-700", autoplay: true },
  DESCUBRIR: { label: "Descubrir", accent: "#8B5CF6", gradient: "from-purple-500 to-indigo-500", autoplay: true },
  AHORA: { label: "Ahora", accent: "#F59E0B", gradient: "from-amber-400 to-orange-500", autoplay: true },
  PROFUNDO: { label: "Profundo", accent: "#0EA5E9", gradient: "from-cyan-500 to-blue-500", autoplay: false },
  CALMA: { label: "Calma", accent: "#10B981", gradient: "from-emerald-500 to-teal-500", autoplay: false },
  HUMOR: { label: "Humor", accent: "#F472B6", gradient: "from-pink-500 to-rose-500", autoplay: true },
  APRENDER: { label: "Aprender", accent: "#22D3EE", gradient: "from-sky-500 to-cyan-500", autoplay: false },
  CAOS: { label: "CAOS", accent: "#EF4444", gradient: "from-red-500 to-fuchsia-600", autoplay: true },
};

export const MODE_ORDER = ["CERCA", "DESCUBRIR", "AHORA", "PROFUNDO", "CALMA", "HUMOR", "APRENDER", "CAOS"];

export const CHAOS_DURATION_MS = 10 * 60 * 1000;
</file>

<file path="frontend/src/features/highlights/ModePickerButton.jsx">
import { useState } from "react";
import { MODES } from "./ModeConfig";
import ModePicker from "./ModePicker";
import { useReelsMode } from "./ReelsModeProvider";

export default function ModePickerButton() {
  const { mode } = useReelsMode();
  const [open, setOpen] = useState(false);
  const accent = MODES[mode]?.accent || "#3B82F6";

  return (
    <div className="md:hidden">
      <button
        onClick={() => setOpen(true)}
        className="flex items-center gap-2 px-3 py-2 rounded-full border border-slate-700 bg-slate-900 text-slate-50 text-sm font-semibold"
        style={{ boxShadow: `0 0 0 2px ${accent}33` }}
      >
        <span
          className="h-3 w-3 rounded-full"
          style={{ background: accent }}
        />
        Modo: {MODES[mode]?.label}
      </button>
      <ModePicker open={open} onClose={() => setOpen(false)} />
    </div>
  );
}
</file>

<file path="frontend/src/features/highlights/ReelsModeProvider.jsx">
import { createContext, useCallback, useContext, useEffect, useMemo, useRef, useState } from "react";
import { CHAOS_DURATION_MS, MODE_ORDER } from "./ModeConfig";

const ReelsModeContext = createContext(null);
const STORAGE_KEY = "reels-mode";

export function ReelsModeProvider({ children }) {
  const [mode, setMode] = useState(() => {
    const stored = typeof localStorage !== "undefined" ? localStorage.getItem(STORAGE_KEY) : null;
    return stored && stored !== "CAOS" ? stored : "CERCA";
  });
  const [prevMode, setPrevMode] = useState("CERCA");
  const [chaosEndsAt, setChaosEndsAt] = useState(null);
  const chaosTimerRef = useRef(null);

  const updateMode = useCallback((nextMode) => {
    if (nextMode === "CAOS") {
      setPrevMode((m) => (m === "CAOS" ? "CERCA" : m));
      setMode("CAOS");
      const expires = Date.now() + CHAOS_DURATION_MS;
      setChaosEndsAt(expires);
      if (chaosTimerRef.current) clearTimeout(chaosTimerRef.current);
      chaosTimerRef.current = setTimeout(() => {
        setMode((m) => (m === "CAOS" ? prevMode : m));
        setChaosEndsAt(null);
      }, CHAOS_DURATION_MS);
    } else {
      setMode(nextMode);
      setChaosEndsAt(null);
      if (chaosTimerRef.current) {
        clearTimeout(chaosTimerRef.current);
        chaosTimerRef.current = null;
      }
      if (typeof localStorage !== "undefined") {
        localStorage.setItem(STORAGE_KEY, nextMode);
      }
    }
  }, [prevMode]);

  useEffect(() => {
    if (mode !== "CAOS" && typeof localStorage !== "undefined") {
      localStorage.setItem(STORAGE_KEY, mode);
    }
  }, [mode]);

  useEffect(() => {
    return () => {
      if (chaosTimerRef.current) clearTimeout(chaosTimerRef.current);
    };
  }, []);

  const value = useMemo(
    () => ({
      mode,
      setMode: updateMode,
      chaosEndsAt,
      isChaos: mode === "CAOS",
      prevMode,
      setPrevMode,
    }),
    [mode, updateMode, chaosEndsAt, prevMode]
  );

  return <ReelsModeContext.Provider value={value}>{children}</ReelsModeContext.Provider>;
}

export function useReelsMode() {
  const ctx = useContext(ReelsModeContext);
  if (!ctx) throw new Error("useReelsMode debe usarse dentro de ReelsModeProvider");
  return ctx;
}
</file>

<file path="frontend/src/hooks/useCardStyle.js">
import { usePreferences } from "../context/PreferencesContext";

export default function useCardStyle() {
  const { preferences } = usePreferences();
  const rounded = preferences?.cardStyle?.rounded ?? 16;
  const glass = preferences?.cardStyle?.glass ?? false;
  return {
    style: {
      borderRadius: `${rounded}px`,
      background: glass ? "rgba(255,255,255,0.7)" : undefined,
      backdropFilter: glass ? "blur(8px)" : undefined,
    },
  };
}
</file>

<file path="frontend/src/lib/firebase.js">
import { initializeApp } from "firebase/app";
// Importa mdulos especficos solo cuando los necesites, ej: getAuth, getFirestore, getStorage
// import { getAnalytics, isSupported } from "firebase/analytics";

const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
  authDomain: "socialnetwork-ed0ab.firebaseapp.com",
  projectId: "socialnetwork-ed0ab",
  storageBucket: "socialnetwork-ed0ab.firebasestorage.app",
  messagingSenderId: "397336507464",
  appId: "1:397336507464:web:89a18ed0dba113979b147d",
  measurementId: "G-D30BQVBJ81",
};

export const firebaseApp = initializeApp(firebaseConfig);

// Ejemplo opcional para analytics (solo navegador):
// isSupported().then((ok) => ok && getAnalytics(firebaseApp));
</file>

<file path="frontend/src/main.jsx">
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import App from "./App.jsx";
import "./index.css";
import { AuthProvider } from "./context/AuthContext.jsx";
import { ThemeProvider } from "./context/ThemeContext.jsx";
import { PreferencesProvider } from "./context/PreferencesContext.jsx";
import { LightboxProvider } from "./context/LightboxContext.jsx";

const queryClient = new QueryClient();

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <QueryClientProvider client={queryClient}>
      <AuthProvider>
        <ThemeProvider>
          <PreferencesProvider>
            <LightboxProvider>
              <BrowserRouter>
                <App />
              </BrowserRouter>
            </LightboxProvider>
          </PreferencesProvider>
        </ThemeProvider>
      </AuthProvider>
    </QueryClientProvider>
  </StrictMode>
);
</file>

<file path="frontend/src/pages/Chat.jsx">
import { useEffect, useState } from "react";
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import api from "../api/client";
import { useAuth } from "../context/AuthContext";

export default function Chat() {
  const { user } = useAuth();
  const queryClient = useQueryClient();
  const [active, setActive] = useState(null);
  const [text, setText] = useState("");

  const { data: conversations } = useQuery({
    queryKey: ["conversations"],
    queryFn: async () => {
      const { data } = await api.get("/chat/conversations");
      return data || [];
    },
    refetchInterval: 15000,
  });

  const { data: friends } = useQuery({
    queryKey: ["friends"],
    queryFn: async () => {
      const { data } = await api.get("/friends");
      return data || [];
    },
  });

  const { data: messages } = useQuery({
    enabled: !!active,
    queryKey: ["messages", active],
    queryFn: async () => {
      const { data } = await api.get(`/chat/${active}/messages`);
      return data || [];
    },
    refetchInterval: 5000,
  });

  useEffect(() => {
    if (!active && conversations && conversations.length > 0) {
      setActive(conversations[0].id);
    }
  }, [conversations, active]);

  const startConversation = useMutation({
    mutationFn: async (username) => {
      const { data } = await api.post(`/chat/start/${username}`);
      return data;
    },
    onSuccess: ({ id }) => {
      setActive(id);
      queryClient.invalidateQueries({ queryKey: ["conversations"] });
    },
  });

  const send = useMutation({
    mutationFn: async () => {
      if (!text.trim()) return;
      const convo = conversations?.find((c) => c.id === active);
      const other = convo?.participants?.find((p) => p.id !== user.id);
      const targetUsername = other?.username;
      if (!targetUsername) return;
      await api.post(`/chat/to/${targetUsername}`, { content: text });
    },
    onSuccess: () => {
      setText("");
      queryClient.invalidateQueries({ queryKey: ["messages", active] });
      queryClient.invalidateQueries({ queryKey: ["conversations"] });
    },
  });

  return (
    <div className="grid md:grid-cols-4 gap-4 max-w-5xl mx-auto">
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2">
        <h2 className="text-sm font-semibold text-slate-700 dark:text-slate-200">Amigos</h2>
        {friends
          ?.filter((f) => f.status === "ACCEPTED")
          ?.map((f) => (
            <button
              key={f.user.id}
              onClick={() => startConversation.mutate(f.user.username)}
              className="w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800"
            >
              <div className="font-semibold">{f.user.name}</div>
              <div className="text-xs text-slate-500">@{f.user.username}</div>
            </button>
          ))}
        {friends?.filter((f) => f.status === "ACCEPTED")?.length === 0 && (
          <div className="text-xs text-slate-500">No tienes amigos aceptados an.</div>
        )}
      </div>

      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2">
        <h2 className="text-sm font-semibold text-slate-700 dark:text-slate-200">Chats</h2>
        {conversations?.map((c) => {
          const other = c.participants?.find((p) => p.id !== user.id) || c.participants?.[0];
          return (
            <button
              key={c.id}
              onClick={() => setActive(c.id)}
              className={`w-full text-left px-3 py-2 rounded-lg ${active === c.id ? "bg-indigo-50 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-200" : "hover:bg-slate-100 dark:hover:bg-slate-800"}`}
            >
              <div className="font-semibold">{other?.name || "Chat"}</div>
              <div className="text-xs text-slate-500">@{other?.username}</div>
              {c.lastMessage && (
                <div className="text-xs text-slate-500 truncate">
                  {c.lastMessage.sender?.username === user.username ? "T: " : ""}
                  {c.lastMessage.content}
                </div>
              )}
            </button>
          );
        })}
        {(!conversations || conversations.length === 0) && (
          <div className="text-xs text-slate-500">An no hay chats. Elige un amigo para empezar.</div>
        )}
      </div>

      <div className="md:col-span-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 flex flex-col gap-3 min-h-[400px]">
        <div className="flex-1 space-y-2 overflow-y-auto pr-2">
          {messages?.map((m) => (
            <div
              key={m.id}
              className={`max-w-[80%] px-3 py-2 rounded-xl text-sm ${m.sender?.id === user.id ? "ml-auto bg-indigo-600 text-white" : "bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-100"}`}
            >
              <div className="text-[11px] opacity-70">@{m.sender?.username}</div>
              <div>{m.content}</div>
            </div>
          ))}
          {!active && <div className="text-sm text-slate-500">Selecciona un chat o un amigo para empezar.</div>}
        </div>
        <div className="flex gap-2">
          <input
            value={text}
            onChange={(e) => setText(e.target.value)}
            className="flex-1 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-800 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
            placeholder="Escribe un mensaje..."
          />
          <button
            onClick={() => send.mutate()}
            disabled={!text.trim() || !active}
            className="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
          >
            Enviar
          </button>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/pages/Feedback.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import { useState } from "react";
import api from "../api/client";

export default function FeedbackPage() {
  const [title, setTitle] = useState("");
  const [description, setDescription] = useState("");
  const [sort, setSort] = useState("latest"); // latest | top
  const queryClient = useQueryClient();

  const { data, isLoading } = useQuery({
    queryKey: ["feedback", sort],
    queryFn: async () => {
      const params = sort === "top" ? { sort: "top" } : {};
      const { data } = await api.get("/feedback", { params });
      return data;
    },
  });

  const create = useMutation({
    mutationFn: async () => api.post("/feedback", { title, description }),
    onSuccess: () => {
      setTitle("");
      setDescription("");
      queryClient.invalidateQueries({ queryKey: ["feedback"] });
    },
  });

  const vote = useMutation({
    mutationFn: async (id) => api.post(`/feedback/${id}/vote`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["feedback"] }),
  });

  return (
    <div className="max-w-4xl mx-auto space-y-6">
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-3">
        <h1 className="text-2xl font-semibold text-slate-900 dark:text-slate-50">Muro del creador</h1>
        <p className="text-sm text-slate-600 dark:text-slate-300">
          Ac pods dejar ideas, quejas o sueos para mejorar esta red. Todo se lee.
        </p>
        <div className="space-y-2">
          <input
            value={title}
            onChange={(e) => setTitle(e.target.value)}
            className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
            placeholder="Ttulo de tu idea"
          />
          <textarea
            value={description}
            onChange={(e) => setDescription(e.target.value)}
            className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
            rows={3}
            placeholder="Describe qu te gustara ver, mejorar o arreglar"
          />
          <button
            onClick={() => create.mutate()}
            disabled={!title.trim() || !description.trim() || create.isPending}
            className="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
          >
            {create.isPending ? "Enviando..." : "Enviar idea"}
          </button>
        </div>
      </div>

      <div className="flex items-center gap-2">
        <span className="text-sm text-slate-600 dark:text-slate-300">Ordenar:</span>
        <button
          onClick={() => setSort("latest")}
          className={`px-3 py-1 rounded-full text-sm border ${
            sort === "latest"
              ? "bg-indigo-600 text-white border-indigo-600"
              : "bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200"
          }`}
        >
          ltimas
        </button>
        <button
          onClick={() => setSort("top")}
          className={`px-3 py-1 rounded-full text-sm border ${
            sort === "top"
              ? "bg-indigo-600 text-white border-indigo-600"
              : "bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200"
          }`}
        >
          Ms votadas
        </button>
      </div>

      {isLoading && (
        <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
          Cargando ideas...
        </div>
      )}

      <div className="space-y-3">
        {data?.map((item) => (
          <div
            key={item.id}
            className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2"
          >
            <div className="flex items-center gap-2">
              <div className="text-lg font-semibold text-slate-900 dark:text-slate-50">{item.title}</div>
              <span className="text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200">
                {item.status}
              </span>
              <span className="text-xs text-slate-500 ml-auto">
                Votos: {item.votes}
              </span>
            </div>
            <p className="text-sm text-slate-700 dark:text-slate-300 line-clamp-3">{item.description}</p>
            <div className="flex gap-2">
              <button
                onClick={() => vote.mutate(item.id)}
                className="px-3 py-2 rounded-lg bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200 text-sm font-semibold disabled:opacity-50"
                disabled={vote.isPending}
              >
                Votar
              </button>
            </div>
          </div>
        ))}
        {!isLoading && (!data || data.length === 0) && (
          <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
            No hay ideas an. S el primero en proponer algo.
          </div>
        )}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/pages/Settings.jsx">
import { useState } from "react";
import { usePreferences } from "../context/PreferencesContext";

export default function Settings() {
  const { preferences, savePreferences } = usePreferences();
  const [cardStyle, setCardStyle] = useState(() => preferences?.cardStyle || { rounded: 16, glass: true });
  const [theme, setTheme] = useState(() => preferences?.theme || "light");
  const [status, setStatus] = useState("");

  const handleSave = async () => {
    await savePreferences({ cardStyle, theme });
    setStatus("Guardado");
    setTimeout(() => setStatus(""), 1500);
  };

  return (
    <div className="max-w-3xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 space-y-4">
      <h1 className="text-xl font-semibold text-slate-900 dark:text-slate-50">Personaliza tu experiencia</h1>
      <div className="space-y-2">
        <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Tema</label>
        <select
          value={theme}
          onChange={(e) => setTheme(e.target.value)}
          className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-800 dark:text-slate-100"
        >
          <option value="light">Claro</option>
          <option value="dark">Oscuro</option>
        </select>
      </div>
      <div className="space-y-2">
        <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Radio de borde (cards)</label>
        <input
          type="range"
          min="8"
          max="32"
          value={cardStyle.rounded ?? 16}
          onChange={(e) => setCardStyle((prev) => ({ ...prev, rounded: Number(e.target.value) }))}
          className="w-full"
        />
        <div className="text-sm text-slate-500">{cardStyle.rounded ?? 16}px</div>
      </div>
      <div className="flex items-center gap-2">
        <input
          type="checkbox"
          checked={cardStyle.glass ?? true}
          onChange={(e) => setCardStyle((prev) => ({ ...prev, glass: e.target.checked }))}
        />
        <span className="text-sm text-slate-700 dark:text-slate-200">Efecto glass</span>
      </div>
      <button
        onClick={handleSave}
        className="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500"
      >
        Guardar preferencias
      </button>
      {status && <div className="text-green-600 text-sm">{status}</div>}
      <div
        className="p-4 border border-slate-200 dark:border-slate-800"
        style={{
          borderRadius: `${cardStyle.rounded ?? 16}px`,
          background: cardStyle.glass ? "rgba(255,255,255,0.7)" : undefined,
          backdropFilter: cardStyle.glass ? "blur(6px)" : undefined,
        }}
      >
        Vista previa de card personalizada
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/pages/Shop.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import api from "../api/client";
import { useAuth } from "../context/AuthContext";

export default function Shop() {
  const { user, setUser } = useAuth();
  const queryClient = useQueryClient();

  const { data: items, isLoading } = useQuery({
    queryKey: ["shop-items"],
    queryFn: async () => {
      const { data } = await api.get("/shop/items");
      return data || [];
    },
  });

  const purchase = useMutation({
    mutationFn: async (itemId) => api.post("/shop/purchase", { itemId }),
    onSuccess: (_, itemId) => {
      queryClient.invalidateQueries({ queryKey: ["shop-items"] });
      // refresh me
      api.get("/auth/me").then(({ data }) => setUser(data.user));
    },
  });

  const equip = useMutation({
    mutationFn: async (userItemId) => api.post("/shop/equip", { userItemId }),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["shop-items"] }),
  });

  return (
    <div className="max-w-4xl mx-auto space-y-4">
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 flex items-center justify-between">
        <div>
          <h1 className="text-xl font-semibold text-slate-900 dark:text-slate-50">Tienda</h1>
          <p className="text-sm text-slate-500">Compra temas y decoraciones con puntos.</p>
        </div>
        <div className="text-right">
          <div className="text-xs text-slate-500">Tus puntos</div>
          <div className="text-2xl font-bold text-indigo-600">{user?.points ?? 0}</div>
        </div>
      </div>
      {isLoading && (
        <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 text-slate-500">
          Cargando tienda...
        </div>
      )}
      <div className="grid md:grid-cols-2 gap-4">
        {items?.map((item) => (
          <div
            key={item.id}
            className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 space-y-2"
          >
            <div className="flex items-center justify-between">
              <div>
                <div className="text-sm font-semibold text-slate-900 dark:text-slate-50">{item.name}</div>
                <div className="text-xs text-slate-500">{item.description}</div>
                <div className="text-xs text-slate-500 capitalize">{item.category.toLowerCase()}</div>
              </div>
              <div className="text-right">
                <div className="text-xs text-slate-500">Precio</div>
                <div className="text-lg font-bold text-indigo-600">{item.pricePoints} pts</div>
              </div>
            </div>
            <div className="flex items-center gap-2">
              {item.owned ? (
                <button
                  onClick={() => item.userItemId && equip.mutate(item.userItemId)}
                  className="px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm hover:bg-slate-100 dark:hover:bg-slate-800"
                >
                  {item.equipped ? "Equipado" : "Equipar"}
                </button>
              ) : (
                <button
                  onClick={() => purchase.mutate(item.id)}
                  className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
                  disabled={(user?.points ?? 0) < item.pricePoints}
                >
                  Comprar
                </button>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/pages/SquadDetail.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import { useParams } from "react-router-dom";
import api from "../api/client";
import PostCard from "../components/PostCard";

export default function SquadDetail() {
  const { id } = useParams();
  const queryClient = useQueryClient();
  const squadId = Number(id);

  const { data: squad, isLoading } = useQuery({
    queryKey: ["squad", squadId],
    queryFn: async () => {
      const { data } = await api.get(`/squads/${squadId}`);
      return data;
    },
    enabled: !Number.isNaN(squadId),
  });

  const { data: posts } = useQuery({
    queryKey: ["squad-posts", squadId],
    queryFn: async () => {
      const { data } = await api.get(`/squads/${squadId}/posts`);
      return data;
    },
    enabled: !Number.isNaN(squadId),
  });

  const join = useMutation({
    mutationFn: async () => api.post(`/squads/${squadId}/join`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["squad", squadId] });
      queryClient.invalidateQueries({ queryKey: ["squads"] });
    },
  });
  const leave = useMutation({
    mutationFn: async () => api.post(`/squads/${squadId}/leave`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["squad", squadId] });
      queryClient.invalidateQueries({ queryKey: ["squads"] });
    },
  });

  if (isLoading) {
    return (
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
        Cargando squad...
      </div>
    );
  }

  if (!squad) {
    return (
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
        Squad no encontrado.
      </div>
    );
  }

  return (
    <div className="max-w-4xl mx-auto space-y-4">
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-3">
        <div className="flex items-center gap-2">
          <h1 className="text-xl font-semibold text-slate-900 dark:text-slate-50">{squad.name}</h1>
          <span className="text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200">
            {squad.type}
          </span>
          <span className="ml-auto text-xs text-slate-500">{squad.membersCount} miembros</span>
        </div>
        <p className="text-sm text-slate-700 dark:text-slate-300">{squad.description}</p>
        {squad.tags?.length > 0 && (
          <div className="flex flex-wrap gap-2 text-xs text-slate-500">
            {squad.tags.map((t) => (
              <span key={t} className="px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700">
                #{t}
              </span>
            ))}
          </div>
        )}
        <div className="flex gap-2">
          {squad.joined ? (
            <button
              onClick={() => leave.mutate()}
              className="px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm hover:bg-slate-100 dark:hover:bg-slate-800"
              disabled={leave.isPending}
            >
              Salir
            </button>
          ) : (
            <button
              onClick={() => join.mutate()}
              className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
              disabled={join.isPending}
            >
              Unirme
            </button>
          )}
        </div>
      </div>

      <div className="space-y-3">
        {posts?.map((post) => (
          <PostCard key={post.id} post={post} />
        ))}
        {posts && posts.length === 0 && (
          <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
            No hay publicaciones en este squad.
          </div>
        )}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/pages/Squads.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import { useState } from "react";
import { Link } from "react-router-dom";
import api from "../api/client";

export default function Squads() {
  const [q, setQ] = useState("");
  const queryClient = useQueryClient();

  const { data, isLoading } = useQuery({
    queryKey: ["squads", q],
    queryFn: async () => {
      const { data } = await api.get("/squads", { params: { q: q || undefined } });
      return data;
    },
  });

  const join = useMutation({
    mutationFn: async (id) => api.post(`/squads/${id}/join`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["squads"] }),
  });
  const leave = useMutation({
    mutationFn: async (id) => api.post(`/squads/${id}/leave`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["squads"] }),
  });

  return (
    <div className="max-w-4xl mx-auto space-y-4">
      <div className="flex items-center gap-2">
        <input
          value={q}
          onChange={(e) => setQ(e.target.value)}
          className="flex-1 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
          placeholder="Buscar squads por nombre o tag"
        />
      </div>

      {isLoading && (
        <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
          Cargando squads...
        </div>
      )}

      <div className="space-y-3">
        {data?.map((squad) => (
          <div
            key={squad.id}
            className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-4 flex flex-col gap-2"
          >
            <div className="flex items-center gap-2">
              <Link to={`/squads/${squad.id}`} className="text-lg font-semibold text-indigo-700 dark:text-indigo-300">
                {squad.name}
              </Link>
              <span className="text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200">
                {squad.type}
              </span>
              <span className="text-xs text-slate-500 ml-auto">{squad.membersCount} miembros</span>
            </div>
            <p className="text-sm text-slate-700 dark:text-slate-300">{squad.description}</p>
            {squad.tags?.length > 0 && (
              <div className="flex flex-wrap gap-2 text-xs text-slate-500">
                {squad.tags.map((t) => (
                  <span key={t} className="px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700">
                    #{t}
                  </span>
                ))}
              </div>
            )}
            <div className="flex gap-2">
              {squad.joined ? (
                <button
                  onClick={() => leave.mutate(squad.id)}
                  className="px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm hover:bg-slate-100 dark:hover:bg-slate-800"
                  disabled={leave.isPending}
                >
                  Salir
                </button>
              ) : (
                <button
                  onClick={() => join.mutate(squad.id)}
                  className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
                  disabled={join.isPending}
                >
                  Unirme
                </button>
              )}
            </div>
          </div>
        ))}
        {!isLoading && (!data || data.length === 0) && (
          <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
            No se encontraron squads.
          </div>
        )}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/theme/decorations/NatureDecorations.jsx">
export default function NatureDecorations() {
  return (
    <div className="pointer-events-none fixed inset-0 overflow-hidden z-0 opacity-60">
      <div className="absolute -left-10 top-10 w-40 h-40 bg-emerald-200/50 blur-3xl rounded-full" />
      <div className="absolute right-0 top-20 w-32 h-32 bg-green-300/40 blur-2xl rounded-full" />
    </div>
  );
}
</file>

<file path="frontend/src/theme/decorations/RacingDecorations.jsx">
export default function RacingDecorations() {
  return (
    <div className="pointer-events-none fixed inset-0 overflow-hidden z-0 opacity-50">
      <div className="absolute -top-10 right-10 rotate-12 w-64 h-24 bg-[linear-gradient(45deg,#111_25%,#fff_25%,#fff_50%,#111_50%,#111_75%,#fff_75%,#fff_100%)] bg-[length:20px_20px] opacity-60" />
      <div className="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-red-900/60 to-transparent" />
    </div>
  );
}
</file>

<file path="frontend/src/theme/themesConfig.js">
export const baseThemes = {
  nature: {
    gradient: "from-emerald-100 via-emerald-200 to-green-100",
    accent: "text-emerald-700",
  },
  racing: {
    gradient: "from-slate-900 via-red-900 to-slate-800",
    accent: "text-red-400",
  },
  space: {
    gradient: "from-indigo-900 via-slate-900 to-indigo-800",
    accent: "text-indigo-300",
  },
  tech: {
    gradient: "from-slate-900 via-cyan-900 to-slate-800",
    accent: "text-cyan-300",
  },
};

export function getThemeGradient(theme) {
  const key = theme?.key || "nature";
  const conf = baseThemes[key] || baseThemes.nature;
  return conf.gradient;
}
</file>

<file path="frontend/src/types/Post.ts">
export interface PostAuthor {
  name?: string;
  username?: string;
  avatar?: string | null;
}

export interface PostSquad {
  name?: string;
}

export interface PostStats {
  likes?: number;
  comments?: number;
}

export interface Post {
  id: string | number;
  author?: PostAuthor;
  content?: string;
  createdAt?: string;
  relativeTime?: string;
  image?: string | null;
  hashtags?: string[];
  tags?: string[];
  stats?: PostStats;
  type?: "NORMAL" | "HELP" | string;
  squad?: PostSquad;
}
</file>

<file path="frontend/src/utils/formatTextWithHashtags.jsx">
import React from "react";
import { Link } from "react-router-dom";

const hashtagRegex = /#([A-Za-z0-9_]+)/g;

export function formatTextWithHashtags(text) {
  if (!text) return null;

  const parts = [];
  let lastIndex = 0;
  let match;
  let key = 0;

  while ((match = hashtagRegex.exec(text)) !== null) {
    const start = match.index;

    if (start > lastIndex) {
      parts.push(<span key={key++}>{text.slice(lastIndex, start)}</span>);
    }

    const word = match[1]; // sin '#'
    const full = match[0]; // con '#'

    parts.push(
      <Link key={key++} to={`/tag/${encodeURIComponent(word)}`} className="hashtag-link">
        {full}
      </Link>
    );

    lastIndex = hashtagRegex.lastIndex;
  }

  if (lastIndex < text.length) {
    parts.push(<span key={key++}>{text.slice(lastIndex)}</span>);
  }

  return parts;
}
</file>

<file path="frontend/tailwind.config.js">
/** @type {import('tailwindcss').Config} */
export default {
  darkMode: "class",
  content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
  theme: {
    extend: {},
  },
  plugins: [],
};
</file>

<file path="frontend/temp_edit.js">
const fs = require("fs");
const path = 'src/pages/EditProfile.jsx';
let content = fs.readFileSync(path, 'utf8');
const pattern = /<label className="text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer">\s*<input[\s\S]*?setCoverVideoStart\(0\);\s*\};\s*\};\s*\}\)\s*\}\}\s*\/?>\s*Subir video de portada[\s\S]*?{coverVideoFile && \(\s*<button[\s\S]*?coverVideoMutation.isPending \? "Guardando..." : "Guardar video de portada"\}\s*<\/button>\s*\)\s*}/;
if (!pattern.test(content)) {
  throw new Error('No se encontr el bloque de video de portada a reemplazar');
}
const replacement = [
  '<label className="text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer">',
  '              <input',
  '                type="file"',
  '                accept="video/*"',
  '                className="hidden"',
  '                onChange={(e) => {',
  '                  const file = e.target.files?.[0] || null;',
  '                  if (file && file.size > 20 * 1024 * 1024) {',
  '                    alert("El video no puede superar 20MB");',
  '                    return;',
  '                  }',
  '                  setCoverVideoFile(file);',
  '                  if (file) {',
  '                    const url = URL.createObjectURL(file);',
  '                    const vid = document.createElement("video");',
  '                    vid.src = url;',
  '                    vid.onloadedmetadata = () => {',
  '                      const dur = vid.duration;',
  '                      setCoverVideoDuration(dur);',
  '                      setCoverVideoStart(0);',
  '                    };',
  '                  }',
  '                }}',
  '              />',
  '              Subir video de portada (mx. 20MB, clip de 3 o 5s)',
  '            </label>',
  '            <div className="flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300">',
  '              <span>Duracin:</span>',
  '              {[3, 5].map((len) => (',
  '                <button',
  '                  type="button"',
  '                  key={len}',
  '                  onClick={() => {',
  '                    setCoverClipLength(len);',
  '                    setCoverVideoStart((prev) =>',
  '                      Math.min(prev, Math.max(0, (coverVideoDuration || len) - len))',
  '                    );',
  '                  }}',
  '                  className={`px-2 py-1 rounded-full border ${',
  '                    coverClipLength === len',
  '                      ? "bg-indigo-600 text-white border-indigo-600"',
  '                      : "border-slate-300 dark:border-slate-700"',
  '                  }`}',
  '                >',
  '                  {len}s',
  '                </button>',
  '              ))}',
  '            </div>',
  '            {coverVideoDuration > 0 && (',
  '              <div className="text-xs text-slate-500">',
  '                Selecciona inicio (clip {coverClipLength}s):{" "}',
  '                <input',
  '                  type="range"',
  '                  min="0"',
  '                  max={Math.max(0, coverVideoDuration - coverClipLength)}',
  '                  step="0.1"',
  '                  value={coverVideoStart}',
  '                  onChange={(e) => setCoverVideoStart(Number(e.target.value))}',
  '                />',
  '                <span className="ml-2">',
  '                  {coverVideoStart.toFixed(1)}s - {(coverVideoStart + coverClipLength).toFixed(1)}s',
  '                </span>',
  '              </div>',
  '            )}',
  '            {coverVideoFile && (',
  '              <button',
  '                type="button"',
  '                onClick={() => coverVideoMutation.mutate(coverVideoFile)}',
  '                className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"',
  '                disabled={coverVideoMutation.isPending}',
  '              >',
  '                {coverVideoMutation.isPending ? "Guardando..." : "Guardar video de portada"}',
  '              </button>',
  '            )}',
].join("\n");
content = content.replace(pattern, replacement);
fs.writeFileSync(path, content, 'utf8');
console.log('Bloque de video de portada actualizado');
</file>

<file path="frontend/vite.config.js">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})
</file>

<file path="Hastags.txt">
TAGS:



#comida / #food

Desayuno / Breakfast
Almuerzo / Lunch
Cena / Dinner
Merienda / Snack
Brunch
Picoteo / Picada
Antojo / Craving
Casero / Homemade
Restaurant / Restaurante
Delivery
Cocina / Cooking
Receta / Recipe
Chef / Cocinero
Gourmet
Comida rpida / Fast food
Comida callejera / Street food
Comida saludable / Healthy food
Dieta / Diet
Vegetariano / Vegetarian
Vegano / Vegan
Sin TACC / Gluten free / Celaco
Organic / Orgnico
McDonalds
Burger King
KFC
Subway
Starbucks
Mostaza (Argentina)
Freddo
Grido

#bebidas / #drinks

Caf / Coffee
T / Tea
Mate
Agua / Water
Jugo / Juice
Smoothie / Licuado
Gaseosa / Soda / Refresco
Coca Cola
Pepsi
Fanta
Sprite
Cerveza / Beer
Vino / Wine
Fernet
Whisky
Vodka
Ron / Rum
Gin
Tragos / Cocktails
Bar
Cafetera / Coffee shop
Caf & Bar
Pub
Boliche / Discoteca / Club

#salud / #health

Bienestar / Wellness
Vida sana / Healthy lifestyle
Ejercicio / Exercise
Fitness
Gym / Gimnasio
Deporte / Sports
Medicina / Medicine
Doctor / Mdico
Hospital
Clnica
Farmacia / Pharmacy
Medicamentos / Medication
Terapia / Therapy
Psicologa / Psychology
Nutricin / Nutrition
Dieta / Diet
Peso / Weight
Salud mental / Mental health
Meditacin / Meditation
Yoga
Mindfulness
Sueo / Sleep
Descanso / Rest

#deporte / #sports

Ftbol / Football / Soccer
Bsquet / Basketball
Tenis / Tennis
Rugby
Vley / Volleyball
Natacin / Swimming
Ciclismo / Cycling
Running / Correr
Gimnasia / Gymnastics
Boxeo / Boxing
Artes marciales / Martial arts
Crossfit
Entrenamiento / Training
Competencia / Competition
Campeonato / Championship
Mundial / World Cup
Olimpiadas / Olympics
Equipo / Team
Jugador / Player
Entrenador / Coach
Estadio / Stadium
Cancha / Court / Field

#msica / #music

Concierto / Concert
Recital / Show
Festival
Banda / Band
Artista / Artist
Cantante / Singer
Msico / Musician
Cancin / Song
lbum / Album
Disco
Spotify
YouTube Music
Rock
Pop
Trap
Reggaeton
Cumbia
Cuarteto (Argentina)
Folklore
Tango
Jazz
Electrnica / Electronic
Hip hop
Rap
Metal
Indie
Clsica / Classical

#entretenimiento / #entertainment

Pelcula / Movie
Serie / Series
Cine / Cinema
Teatro / Theatre
Netflix
Disney+
Prime Video
HBO
Star+
Flow
Streaming
Televisin / TV
Canal / Channel
Programa / Show
Documental / Documentary
Animacin / Animation
Comedia / Comedy
Drama
Accin / Action
Terror / Horror
Suspenso / Thriller

#videojuegos / #gaming

Gamer
Juego / Game
Consola / Console
PlayStation
Xbox
Nintendo
PC gaming
Mobile gaming
Streamer
Twitch
YouTube Gaming
Esports
Torneo / Tournament
Online
Multiplayer
Battle Royale
RPG
FPS
MOBA
Minecraft
Fortnite
Call of Duty
FIFA / EA Sports
GTA
League of Legends
Valorant
Free Fire

#tecnologa / #tech

Celular / Smartphone / Phone
Computadora / Computer / PC
Laptop / Notebook
Tablet
Smart TV
Auriculares / Headphones
Smartwatch
Cmara / Camera
Tecnologa / Technology
Gadget
App / Aplicacin
Software
Hardware
Internet
WiFi
5G
Inteligencia Artificial / AI
Innovacin / Innovation
Apple
Samsung
Xiaomi
Motorola
Huawei

#redes / #socialmedia / #redessociales

Instagram
Facebook
Twitter / X
TikTok
YouTube
WhatsApp
Telegram
LinkedIn
Threads
Snapchat
Pinterest
Reddit
Discord
Influencer
Contenido / Content
Post / Publicacin
Story / Historia
Reel
Video
Live / En vivo
Viral
Trending
Hashtag
Likes / Me gusta
Comentarios / Comments
Compartir / Share
Followers / Seguidores
Community / Comunidad

#moda / #fashion

Ropa / Clothes
Outfit / Look / Conjunto
Estilo / Style
Tendencia / Trend
Marca / Brand
Diseador / Designer
Pasarela / Runway
Fashion Week
Vintage
Streetwear
Casual
Formal
Elegante / Elegant
Deportivo / Sportswear
Zapatos / Shoes
Zapatillas / Sneakers
Accesorios / Accessories
Joyera / Jewelry
Reloj / Watch
Cartera / Bag
Lentes / Sunglasses / Anteojos

#belleza / #beauty

Makeup / Maquillaje
Skincare / Cuidado de piel
Pelo / Hair / Cabello
Peluquera / Salon
Spa
Manicura / Nails
Tratamiento / Treatment
Crema / Cream
Serum
Perfume / Fragancia
Esttica / Aesthetics
Cosmtica / Cosmetics
Natural
Orgnico / Organic
Dermatologa

#viajes / #travel

Viaje / Trip
Vacaciones / Holidays / Vacation
Turismo / Tourism
Destino / Destination
Aventura / Adventure
Playa / Beach
Montaa / Mountain
Ciudad / City
Campo / Countryside
Hotel
Hostel
Airbnb
Vuelo / Flight
Aeropuerto / Airport
Pasaporte / Passport
Mochilero / Backpacker
Roadtrip
Excursin / Tour
Gua / Guide
Fotografa de viaje / Travel photography

#argentina (categora pas)

Argentina
Buenos Aires / CABA / Baires
Crdoba
Rosario
Mendoza
Bariloche
Salta
Tucumn
Mar del Plata
Iguaz / Cataratas
Patagonia
Ushuaia
El Calafate
La Plata
Santa Fe
Neuqun
San Juan
Misiones
Entre Ros
Corrientes
Chaco
Formosa
Jujuy
Santiago del Estero
Catamarca
La Rioja
San Luis
La Pampa
Ro Negro
Chubut
Santa Cruz
Tierra del Fuego

#buenosaires / #bsas / #caba

Buenos Aires
CABA
Porteo/a
Palermo
Recoleta
San Telmo
La Boca
Puerto Madero
Belgrano
Nez
Caballito
Villa Crespo
Colegiales
Chacarita
Almagro
Boedo
Constitucin
Once
Retiro
Centro
Microcentro
Barrio Norte
Subte / Metro
Colectivo / Bondi / Bus
Tren
Obelisco
Plaza de Mayo
Caminito
Teatro Coln
Avenida Corrientes
Avenida 9 de Julio
Costanera

#educacin / #education

Estudio / Study
Universidad / University
Facultad / College
Escuela / School
Colegio
Secundaria / High school
Primaria / Elementary
Jardn / Kindergarten
UBA (Universidad de Buenos Aires)
UTN
Carrera / Degree
Licenciatura / Bachelor
Maestra / Master
Doctorado / PhD
Curso / Course
Capacitacin / Training
Certificacin / Certification
Examen / Exam / Test
Parcial
Final
Aprender / Learning
Ensear / Teaching
Profesor / Teacher
Alumno / Student
Clase / Class
Online / Virtual
Presencial

#trabajo / #work

Trabajo / Job
Empleo
Carrera profesional / Career
Oficina / Office
Empresa / Company
Negocio / Business
Startup
Emprendimiento / Entrepreneurship
Freelance
Remoto / Remote
Home office
Teletrabajo
Reunin / Meeting
Proyecto / Project
Equipo / Team
Jefe / Boss
Compaeros / Colleagues
Sueldo / Salary
Aumento / Raise
Beneficios / Benefits
CV / Currculum
Entrevista / Interview
LinkedIn
Networking
Productividad / Productivity

#finanzas / #finance

Dinero / Money
Plata (Argentina)
Guita (Argentina)
Ahorro / Savings
Inversin / Investment
Banco / Bank
Cuenta / Account
Tarjeta / Card
Crdito / Credit
Dbito / Debit
Prstamo / Loan
Dlar / Dollar
Peso argentino
Euro
Inflacin / Inflation
Economa / Economy
Mercado / Market
Acciones / Stocks
Criptomonedas / Crypto
Bitcoin
Trading
Negocios / Business
Presupuesto / Budget

#auto / #car

Auto / Coche / Carro
Vehculo / Vehicle
0km
Usado
Camioneta / Truck / Pickup
SUV
Sedn
Deportivo / Sports car
Nafta / Gasolina / Gas
Diesel / Gasoil
Mecnico / Mechanic
Taller / Garage
Service
Seguro / Insurance
Patente / Placa
Manejo / Driving
Carnet / Licencia / Registro
Estacionamiento / Parking
Ruta / Highway / Road
Autopista / Freeway
Trnsito / Trfico / Traffic

#moto / #motorcycle

Moto / Motocicleta
Scooter
Ciclomotor
Casco / Helmet
Motoquero/a / Biker
Enduro
Cross
Delivery en moto
Mototurismo

#bicicleta / #bike

Bicicleta / Bici
Mountain bike / MTB
Bici de ruta
Ciclismo / Cycling
Rodado
Ciclova / Bike lane
Paseo en bici
EcoBici (Buenos Aires)

#transporte / #transport

Transporte / Transportation
Colectivo / Bondi / Bus / mnibus / Micro
Subte / Metro
Tren / Train
Taxi
Uber
Cabify
Didi
Beat
Avin / Plane
Aeropuerto / Airport
Terminal
Estacin / Station
SUBE (tarjeta Argentina)
Boleto / Ticket / Pasaje
Viaje / Trip

#hogar / #home

Casa / Home / House
Departamento / Apartment / Depto
Alquiler / Rent
Inquilino / Tenant
Dueo / Owner / Propietario
Inmobiliaria / Real estate
Mudanza / Moving
Decoracin / Decoration / Deco
Muebles / Furniture
Diseo de interiores / Interior design
Jardn / Garden
Patio
Balcn / Balcony
Terraza / Terrace
Garage / Cochera
Limpieza / Cleaning
Orden / Organization
DIY
Reformas / Renovacin

#mascotas / #pets

Mascota / Pet
Perro / Dog
Gato / Cat
Cachorro / Puppy
Gatito / Kitten
Veterinario / Vet
Adopcin / Adoption
Rescate / Rescue
Protectora de animales
Comida para mascotas / Pet food
Paseo / Walk
Entrenamiento / Training
Juguetes / Toys
Accesorios

#naturaleza / #nature

Naturaleza / Nature
Aire libre / Outdoor
Paisaje / Landscape
Campo / Countryside
Montaa / Mountain
Playa / Beach
Ro / River
Lago / Lake
Bosque / Forest
Selva / Jungle
Parque / Park
Reserva natural / Nature reserve
Trekking / Hiking
Camping
Aventura / Adventure
Flora
Fauna
Animales / Animals
Ecologa / Ecology
Medio ambiente / Environment
Sustentabilidad / Sustainability

#fotografa / #photography

Foto / Photo
Fotografa / Photography
Cmara / Camera
Fotgrafo / Photographer
Retrato / Portrait
Paisaje / Landscape
Atardecer / Sunset
Amanecer / Sunrise
Blanco y negro / Black and white
Edicin / Editing
Lightroom
Photoshop
iPhone photography
DSLR
Mirrorless
Lente / Lens

#arte / #art

Arte / Art
Artista / Artist
Pintura / Painting
Dibujo / Drawing
Escultura / Sculpture
Ilustracin / Illustration
Diseo / Design
Galera / Gallery
Museo / Museum
Exposicin / Exhibition
Arte contemporneo / Contemporary art
Arte digital / Digital art
Street art / Arte urbano
Graffiti
Muralismo

#libros / #books

Libro / Book
Lectura / Reading
Leer / Read
Novela / Novel
Autor / Author
Escritor / Writer
Literatura / Literature
Bestseller
Ficcin / Fiction
No ficcin / Non-fiction
Poesa / Poetry
Cuento / Short story
Biblioteca / Library
Librera / Bookstore
Ebook
Audiolibro / Audiobook
Bookstagram
Resea / Review

#cine / #movies

Pelcula / Movie / Film
Cine / Cinema
Director
Actor / Actriz
Estreno / Premiere / Release
Triler / Trailer
Hollywood
Cine argentino
Oscar / Premios
Festival de cine
Cartelera / Billboard
Palomitas / Pochoclo / Popcorn
Drama
Comedia / Comedy
Accin / Action
Terror / Horror
Ciencia ficcin / Sci-fi
Romance

#series / #tvseries

Serie / Series
Captulo / Episode
Temporada / Season
Maratn / Binge watching
Netflix
HBO
Prime Video
Disney+
Spoiler
Personaje / Character
Protagonista
Final de temporada / Season finale

#fiesta / #party

Fiesta / Party
Joda (Argentina)
Cumpleaos / Birthday
Celebracin / Celebration
Boliche / Club / Discoteca
Bar
Pub
After office
Previa / Pre-party
Bailar / Dance
DJ
Msica / Music
Tragos / Drinks
Amigos / Friends
Noche / Night
Salir / Going out

#amor / #love

Amor / Love
Pareja / Couple
Novio/a / Boyfriend/Girlfriend
Esposo/a / Husband/Wife
Matrimonio / Marriage
Casamiento / Wedding
Boda
Aniversario / Anniversary
San Valentn / Valentine's Day
Cita / Date
Romance
Relacin / Relationship
Compromiso / Engagement
Luna de miel / Honeymoon

#familia / #family

Familia / Family
Padres / Parents
Mam / Mom / Madre
Pap / Dad / Padre
Hermanos / Siblings
Hermano / Brother
Hermana / Sister
Hijo/a / Son/Daughter
Abuelos / Grandparents
Tos / Aunts/Uncles
Primos / Cousins
Sobrinos / Nieces/Nephews
Familia argentina
Reunin familiar / Family gathering
Asado familiar

#amigos / #friends

Amigos / Friends
Amistad / Friendship
Amigo/a / Friend
Mejor amigo/a / Best friend / BFF
Grupo / Group
Salida / Outing
Juntada (Argentina)
Reunin / Gathering
Asado con amigos
Amigos de toda la vida

#lifestyle / #estilodeVida

Lifestyle / Estilo de vida
Rutina / Routine
Da a da / Daily life
Momento / Moment
Experiencia / Experience
Felicidad / Happiness
Motivacin / Motivation
Inspiracin / Inspiration
Bienestar / Wellness
Balance / Equilibrio
Mindset / Mentalidad
Self care / Autocuidado
Productividad / Productivity
Objetivos / Goals
Sueos / Dreams

#humor / #funny

Humor / Funny
Meme
Chiste / Joke
Gracioso / Hilarious
Risa / Laugh / LOL
Comedia / Comedy
Divertido / Fun
Chistoso

#noticias / #news

Noticias / News
Actualidad / Current affairs
Informacin / Information
Periodismo / Journalism
Medios / Media
Diario / Newspaper
Nota / Article
Reportaje / Report
Entrevista / Interview
Poltica / Politics
Economa / Economy
Sociedad / Society
Internacional / International

#clima / #weather

Clima / Weather
Pronstico / Forecast
Tiempo
Sol / Sunny
Lluvia / Rain
Nublado / Cloudy
Tormenta / Storm
Viento / Wind
Fro / Cold
Calor / Heat
Temperatura / Temperature
Verano / Summer
Invierno / Winter
Otoo / Fall / Autumn
Primavera / Spring

#motivacin / #motivation

Motivacin / Motivation
Inspiracin / Inspiration
xito / Success
Logros / Achievements
Metas / Goals
Objetivos
Superacin / Self-improvement
Crecimiento / Growth
Mentalidad / Mindset
Disciplina / Discipline
Constancia / Consistency
Esfuerzo / Effort
Perseverancia
Frases motivacionales

#reflexin / #thoughts

Reflexin / Reflection
Pensamiento / Thought
Filosofa / Philosophy
Vida / Life
Aprendizaje / Learning
Leccin / Lesson
Experiencia / Experience
Sabidura / Wisdom
Consejo / Advice

#domingo / #sunday

Domingo / Sunday
Fin de semana / Weekend
Descanso / Rest
Relax
Familia / Family
Asado dominical
Plan dominguero
Ftbol (domingo deportivo)

#lunes / #monday

Lunes / Monday
Comienzo de semana / Start of the week
Vuelta al trabajo / Back to work
Rutina
Caf del lunes
Motivacin

#viernes / #friday

Viernes / Friday
Finde / Fin de semana / Weekend
TGIF (Thank God It's Friday)
After office
Viernes de fiesta
Viernes casual
Plan de viernes

#sbado / #saturday

Sbado / Saturday
Fin de semana / Weekend
Salida / Going out
Plan de sbado
Da libre / Day off
Descanso

#verano / #summer

Verano / Summer
Playa / Beach
Vacaciones / Vacation
Pileta / Piscina / Pool
Sol / Sun
Bronceado / Tan
Helado / Ice cream
Calor / Heat
Costa / Coast
Mar / Sea

#invierno / #winter

Invierno / Winter
Fro / Cold
Nieve / Snow
Esqu / Ski
Abrigo / Coat
Calefaccin / Heating
Chocolate caliente / Hot chocolate
Manta / Blanket
Chimenea / 

#messi / #lionelmessi

    Messi
    Leo Messi
    Lionel Messi
    La Pulga
    D10S
    GOAT (Greatest of All Time)
    Mundial Qatar 2022
    Campen del mundo
    PSG (Paris Saint-Germain)
    Barcelona / Bara
    Inter Miami
    Seleccin Argentina
    Albiceleste
    Copa Amrica
    Baln de Oro
    The Best FIFA
    Antonela Roccuzzo (esposa)
    Thiago, Mateo, Ciro (hijos)
    Rosario
    La Scaloneta

#maradona / #diegomaradona / #d10s

    Maradona
    Diego Armando Maradona
    D10S
    El Diez / El 10
    Pelusa
    Pibe de oro
    Mxico 86 / Mundial 86
    Mano de Dios
    Gol del siglo
    Napoli / Npoles
    Boca Juniors
    Argentinos Juniors
    Barcelona
    Villa Fiorito
    Claudia Villafae
    Dalma Maradona
    Gianinna Maradona
    La noche del 10
    "Yo, Diego"

#ricard ofort / #comandante

    Ricardo Fort
    Ricky Fort
    El Comandante
    "Miami me lo confirm"
    FeltFort (empresa chocolates)
    Fort Night Show
    Fortaleza
    Martita Fort
    Felipe Fort
    Virginia Gallardo
    Rodrigo Daz (ex pareja)
    Gustavo Martnez
    "Los nicos millonarios somos nosotros"

#colapinto / #francocolapinto

    Franco Colapinto
    Colapinto
    F1 Argentina
    Williams Racing
    Frmula 1
    Pilarense
    Williams FW46
    Gran Premio
    Monza
    Baku
    Automovilismo argentino
    Fangio (Juan Manuel Fangio)
    TC2000
    Karting

#famososargentinos / #celebridades

    Susana Gimnez
    Mirtha Legrand / La Chiqui
    Marcelo Tinelli
    Jorge Lanata
    Charly Garca
    Fito Pez
    Soda Stereo
    Gustavo Cerati
    Rodrigo Bueno / El Potro
    Mercedes Sosa / La Negra
    Carlos Gardel
    Astor Piazzolla
    Lali Espsito
    Tini Stoessel / Martina Stoessel
    Mara Becerra / La Nena de Argentina
    Bizarrap / Biza
    Duki
    Trueno
    Nicki Nicole
    Paulo Londra
    L-Gante / Elin Valenzuela
    Wos
    Emilia Mernes
    Rusherking
    Tiago PZK
    TINI
    Cazzu / Julieta Cazzuchelli
    Ca7riel & Paco Amoroso
    Khea

#ricardobocalandro / #memeargentino

    Beto Casella
    ngel de Brito
    Yanina Latorre
    Georgina Barbarossa
    Juana Viale
    Darn (Ricardo Darn)
    Francella (Guillermo Francella)
    Diego Peretti
    Adrin Suar
    Carla Peterson
    Nancy Dupla
    Natalia Oreiro
    Guillermo Vilas
    Gabriela Sabatini
    Juan Martn Del Potro / Delpo
    Emanuel Ginbili / Manu
    Luis Scola
    Sergio "Kun" Agero
    ngel Di Mara / Fideo
    Paulo Dybala / La Joya
    Lautaro Martnez / El Toro
    Julin lvarez / La Araa
    Emiliano "Dibu" Martnez
    Enzo Fernndez

#clubesargentinos / #ftbolargentino

    Boca Juniors / Boca / Xeneize
    River Plate / River / Millonario
    Racing Club / La Academia
    Independiente / El Rojo
    San Lorenzo / El Cicln
    Huracn / El Globo
    Vlez Sarsfield / El Fortn
    Estudiantes de La Plata / El Pincha
    Gimnasia y Esgrima La Plata / El Lobo
    Newell's Old Boys / La Lepra
    Rosario Central / El Canalla
    Belgrano de Crdoba / El Pirata
    Talleres de Crdoba / La T
    Lans / El Granate
    Banfield / El Taladro
    Argentinos Juniors / El Bicho
    Arsenal
    Coln de Santa Fe
    Unin de Santa Fe / El Tatengue
    Godoy Cruz

#superclsico / #bocavsriver

    Superclsico
    Boca vs River
    Clsico argentino
    Bombonera / La Bombonera
    Monumental / Estadio Monumental
    12 jugador
    La 12 (Boca)
    Gallinas (insulto a River)
    Bosteros (insulto a Boca)
    Libertadores
    Copa Argentina
    Liga Profesional
    AFA (Asociacin del Ftbol Argentino)

#anime / #anim

    Dragon Ball / DBZ / Dragon Ball Z
    Goku
    Vegeta
    Gohan
    Freezer / Frieza
    Cell / Clula
    Majin Buu
    Torneo de la fuerza / Torneo del poder
    Kamehameha
    Super Saiyan / Saiyajin
    One Piece
    Luffy / Monkey D. Luffy
    Zoro / Roronoa Zoro
    Nami
    Sanji
    Chopper
    Robin
    Franky
    Brook
    Jinbe
    Shanks
    Barba Blanca / Whitebeard
    Ace
    Sombrero de paja / Straw Hats
    Fruta del diablo / Akuma no Mi
    Naruto
    Naruto Shippuden
    Boruto
    Sasuke
    Sakura
    Kakashi
    Itachi
    Madara
    Obito
    Pain / Nagato
    Sharingan
    Rasengan
    Jutsu
    Konoha / Aldea oculta de la hoja
    Attack on Titan / Shingeki no Kyojin
    Eren Yeager
    Mikasa
    Levi / Capitn Levi
    Titanes
    Demon Slayer / Kimetsu no Yaiba
    Tanjiro
    Nezuko
    Zenitsu
    Inosuke
    Hashiras
    Jujutsu Kaisen
    Yuji Itadori
    Megumi
    Nobara
    Gojo Satoru
    Sukuna
    Death Note
    Light Yagami
    L / Elle Lawliet
    Ryuk
    Fullmetal Alchemist
    Bleach
    Ichigo
    Hunter x Hunter
    My Hero Academia / Boku no Hero
    Deku / Izuku Midoriya
    All Might
    Bakugo
    Todoroki
    Cowboy Bebop
    Evangelion / Neon Genesis Evangelion
    Sailor Moon
    Pokemon / Pokmon
    Ash / Satoshi
    Pikachu
    Studio Ghibli
    Mi vecino Totoro
    El viaje de Chihiro
    Crunchyroll

#seriesclsicas / #tvclsica

    Los Simpsons / The Simpsons
    Homer Simpson
    Bart Simpson
    Marge Simpson
    Lisa Simpson
    Maggie Simpson
    Springfield
    Ned Flanders
    El Chavo del 8 / El Chavo
    Chapuln Colorado
    Quico
    Don Ramn
    Doa Florinda
    Profesor Jirafales
    Chespirito / Roberto Gmez Bolaos
    Vecindad del Chavo
    ALF
    Melmac (planeta de ALF)
    Friends
    Seinfeld
    The Fresh Prince / El Prncipe del Rap
    Full House / Tres por tres
    Saved by the Bell / Salvados por la campana
    El Chapuln Colorado

#programasargentinos / #tvargentina

    Showmatch
    Bailando por un sueo
    Videomatch
    Ritmo de la noche
    Sbado Bus
    Los Simuladores
    Casados con hijos
    Son amores
    Rebelde Way / Erreway
    Chiquititas
    Floricienta
    Casi ngeles
    El marginal
    Argentina tierra de amor y venganza / ATAV
    El Trece / Canal 13
    Telefe
    Amrica TV
    Canal 9
    TV Pblica
    Intrusos
    LAM (Los ngeles de la Maana)
    Almorzando con Mirtha Legrand / Almorzando con Juana
    PH Podemos Hablar
    Susana Gimnez (programa)
    Gran Hermano Argentina
    MasterChef Argentina
    Got Talent Argentina
    La Voz Argentina

#msica / #rock / #cuarteto / #cumbia

    Soda Stereo
    Gustavo Cerati
    Zeta Bosio
    Charly Alberti
    De msica ligera
    Persiana americana
    Su Generis
    Ser Girn
    Charly Garca
    Los Abuelos de la Nada
    Fito Pez
    El amor despus del amor
    Spinetta / Luis Alberto Spinetta
    Almendra
    Pescado Rabioso
    Invisible
    Los Redondos / Patricio Rey y sus Redonditos de Ricota
    Indio Solari
    Skay Beilinson
    La Renga
    Viejas Locas
    Pity lvarez
    Los Piojos
    Andrs Ciro
    Pappo
    Riff
    Divididos
    Virus
    Los Enanitos Verdes
    Rata Blanca
    Bersuit Vergarabat
    Attaque 77 / A77aque
    Las Pastillas del Abuelo
    La Vela Puerca
    Los Fabulosos Cadillacs
    Vicentico
    Los Autnticos Decadentes
    Calle 13
    Babasnicos
    Miranda!
    Tan Binica
    No Te Va Gustar
    Tango
    Carlos Gardel
    Astor Piazzolla
    Mercedes Sosa
    Folklore argentino
    Chacarera
    Zamba
    Cuarteto cordobs
    La Mona Jimnez
    Rodrigo / El Potro Rodrigo
    Cuarteto Leo
    La Barra
    Rfaga
    Damas Gratis / Pablo Lescano
    Cumbia villera
    Pibes Chorros
    Yerba Brava
    Meta Guacha
    Cumbia 420
    Rombai
    Agapornis
    Nene Malo

#reggaeton / #trap / #urbano

    Bad Bunny
    Un Verano Sin Ti
    Daddy Yankee / DY
    Gasolina
    Don Omar
    J Balvin
    Maluma
    Ozuna
    Anuel AA
    Karol G
    Nicky Jam
    Wisin y Yandel
    Arcngel
    Farruko
    Rauw Alejandro
    Myke Towers
    Feid
    Mora
    Bizarrap
    BZRP Music Sessions
    Shakira BZRP
    Quevedo BZRP
    Residente BZRP
    Duki
    Emilia
    Tini
    Nicki Nicole
    Maria Becerra
    Trueno
    Wos
    L-Gante
    RKT (Cumbia RKT)

#rockclsico / #rockanglo

    The Beatles
    John Lennon
    Paul McCartney
    George Harrison
    Ringo Starr
    The Rolling Stones
    Mick Jagger
    Keith Richards
    Led Zeppelin
    Pink Floyd
    The Dark Side of the Moon
    Queen
    Freddie Mercury
    Bohemian Rhapsody
    AC/DC
    Back in Black
    Highway to Hell
    Guns N' Roses
    Nirvana
    Kurt Cobain
    Metallica
    Iron Maiden
    Black Sabbath
    Deep Purple
    The Doors
    Jimi Hendrix
    The Who
    Aerosmith
    U2
    Bono
    The Cure
    Depeche Mode
    Radiohead
    Red Hot Chili Peppers
    Foo Fighters
    Pearl Jam
    Soundgarden
    Alice in Chains
    Green Day
    Oasis
    Blur
    The Strokes
    Arctic Monkeys
    Coldplay

#popinternacional / #popstars

    Taylor Swift
    Eras Tour
    Swifties
    Ariana Grande
    Billie Eilish
    Dua Lipa
    Olivia Rodrigo
    Sabrina Carpenter
    Ed Sheeran
    Bruno Mars
    The Weeknd
    Post Malone
    Drake
    Rihanna
    Beyonc
    Jay-Z
    Kanye West / Ye
    Lady Gaga
    Katy Perry
    Justin Bieber
    Selena Gomez
    Miley Cyrus
    Demi Lovato
    Shawn Mendes
    Harry Styles
    One Direction
    BTS
    Blackpink
    K-pop

#marvel / #mcu / #dccomics

    Marvel
    MCU (Marvel Cinematic Universe)
    Avengers / Vengadores
    Iron Man / Tony Stark
    Captain America / Capitn Amrica
    Thor
    Hulk
    Black Widow / Viuda Negra
    Hawkeye / Ojo de Halcn
    Spider-Man / Hombre Araa
    Tom Holland
    Tobey Maguire
    Andrew Garfield
    Doctor Strange
    Black Panther / Pantera Negra
    Wakanda
    Guardians of the Galaxy / Guardianes de la Galaxia
    Thanos
    Infinity Stones / Gemas del infinito
    Endgame
    Infinity War
    Loki
    Scarlet Witch / Bruja Escarlata
    WandaVision
    DC Comics
    Batman
    Superman
    Wonder Woman / Mujer Maravilla
    The Flash
    Aquaman
    Justice League / Liga de la Justicia
    Joker / Guasn
    Harley Quinn
    Gotham
    Metropolis

#starwars / #starwarsfan

    Star Wars / La Guerra de las Galaxias
    Luke Skywalker
    Darth Vader
    Leia Organa
    Han Solo
    Chewbacca
    Yoda
    Obi-Wan Kenobi
    Anakin Skywalker
    Padm Amidala
    Rey
    Kylo Ren
    Finn
    Poe Dameron
    BB-8
    R2-D2
    C-3PO
    Millennium Falcon / Halcn Milenario
    Lightsaber / Sable de luz
    The Force / La Fuerza
    Jedi
    Sith
    Stormtrooper
    Death Star / Estrella de la Muerte
    Mandalorian / El Mandaloriano
    Baby Yoda / Grogu

#harrypotter / #potterhead

    Harry Potter
    Hogwarts
    Gryffindor / Gryffindor
    Slytherin
    Hufflepuff
    Ravenclaw
    Hermione Granger
    Ron Weasley
    Dumbledore
    Snape / Severus Snape
    Voldemort
    Hagrid
    Draco Malfoy
    Luna Lovegood
    Neville Longbottom
    Dobby
    Quidditch
    Patronus
    Varita mgica / Wand
    Expecto Patronum
    Avada Kedavra
    Hogwarts Express
    Plataforma 9
    J.K. Rowling

#seordelosanillos / #lotr / #tolkien

    El Seor de los Anillos / Lord of the Rings
    Frodo Baggins
    Gandalf
    Aragorn
    Legolas
    Gimli
    Samwise / Sam
    Merry
    Pippin
    Boromir
    Gollum / Smagol
    Sauron
    El Anillo nico / One Ring
    Mordor
    La Comarca / The Shire
    Rivendel / Rivendell
    Isengard
    Saruman
    Tierra Media / Middle Earth
    El Hobbit / The Hobbit
    Bilbo Baggins
    Smaug
    J.R.R. Tolkien
    Peter Jackson (director)

#gameofthrones / #got / #houseofthedragon

    Game of Thrones / Juego de Tronos
    Jon Snow
    Daenerys Targaryen
    Tyrion Lannister
    Cersei Lannister
    Jaime Lannister
    Arya Stark
    Sansa Stark
    Bran Stark
    Ned Stark
    Robb Stark
    Joffrey Baratheon
    The Night King / Rey de la Noche
    Dragones / Dragons
    Drogon
    White Walkers / Caminantes Blancos
    Winterfell
    King's Landing / Desembarco del Rey
    Iron Throne / Trono de Hierro
    House of the Dragon / La Casa del Dragn
    George R.R. Martin
    HBO

#strangerthings

    Stranger Things
    Eleven / Once
    Mike Wheeler
    Dustin Henderson
    Lucas Sinclair
    Will Byers
    Max Mayfield
    Steve Harrington
    Nancy Wheeler
    Jonathan Byers
    Joyce Byers
    Jim Hopper
    Demogorgon
    Mind Flayer / Azotamentes
    The Upside Down / El Mundo del Revs
    Hawkins
    Eggo (waffles)
    Netflix

#breakingbad / #bettercallsaul

    Breaking Bad
    Walter White / Heisenberg
    Jesse Pinkman
    Saul Goodman
    Mike Ehrmantraut
    Gus Fring
    Hank Schrader
    Skyler White
    Los Pollos Hermanos
    Metanfetamina / Crystal meth
    Better Call Saul
    AMC
    Vince Gilligan

#theoffice / #friends / #sitcoms

    The Office
    Michael Scott
    Jim Halpert
    Pam Beesly
    Dwight Schrute
    Friends
    Rachel Green
    Ross Geller
    Monica Geller
    Chandler Bing
    Joey Tribbiani
    Phoebe Buffay
    Central Perk
    How I Met Your Mother / Cmo conoc a tu madre
    Ted Mosby
    Barney Stinson
    Marshall Eriksen
    Lily Aldrin
    Robin Scherbatsky
    The Big Bang Theory
    Sheldon Cooper
    Leonard Hofstadter
    Penny
    Modern Family

#animales / #mascotas / #pets

    Perro / Dog
    Gato / Cat
    Cachorro / Puppy
    Gatito / Kitten
    Golden Retriever
    Labrador
    Bulldog francs
    Chihuahua
    Schnauzer
    Caniche / Poodle
    Yorkshire
    Beagle
    Husky siberiano
    Pastor alemn
    Border Collie
    Dlmata
    Rottweiler
    Doberman
    Pitbull
    Boxer
    Pug / Carlino
    Gato persa
    Gato siams
    Maine Coon
    Gato bengal
    British Shorthair
    Loro / Parrot
    Hmster
    Conejo / Rabbit
    Pez / Fish
    Tortuga / Turtle
    Caballo / Horse
    Vaca / Cow
    Cerdo / Pig
    Oveja / Sheep
    Len / Lion
    Tigre / Tiger
    Elefante / Elephant
    Jirafa / Giraffe
    Oso / Bear
    Lobo / Wolf
    Zorro / Fox
    guila / Eagle
    Bho / Owl
    Pingino / Penguin
    Delfn / Dolphin
    Ballena / Whale
    Tiburn / Shark

#universidadesargentinas / #universidades

    UBA (Universidad de Buenos Aires)
    Facultad de Derecho UBA
    Facultad de Medicina UBA
    Facultad de Ingeniera UBA / FIUBA
    Facultad de Ciencias Econmicas UBA
    Facultad de Arquitectura / FADU
    Facultad de Psicologa UBA
    Facultad de Filosofa y Letras / Filo UBA
    Facultad de Ciencias Sociales UBA
    CBC (Ciclo Bsico Comn)
    UTN (Universidad Tecnolgica Nacional)
    UNLP (Universidad Nacional de La Plata)
    UNC (Universidad Nacional de Crdoba)
    UNR (Universidad Nacional de Rosario)
    Universidad Austral
    Universidad Catlica Argentina / UCA
    Universidad de Palermo / UP
    Universidad de San Andrs / UDESA
    Universidad Torcuato Di Tella / UTDT
    UADE
    Universidad de Belgrano
    Universidad Abierta Interamericana / UAI
    Universidad de Ciencias Empresariales y Sociales / UCES
    Universidad del Salvador / USAL
    Universidad Maimnides
    Universidad Favaloro
    Instituto Tecnolgico de Buenos Aires / ITBA
    Universidad de Tres de Febrero / UNTREF

#universidadesextranjeras / #estudiarenel exterior

    Harvard University
    MIT (Massachusetts Institute of Technology)
    Stanford University
    Oxford University
    Cambridge University
    Yale University
    Princeton University
    Columbia University
    UC Berkeley
    UCLA
    University of Chicago
    Cornell University
    Duke University
    NYU (New York University)
    University of Pennsylvania / UPenn
    Imperial College London
    ETH Zurich
    Sorbonne
    La Sapienza (Roma)
    Universidad Complutense de Madrid
    Universidad de Barcelona
    Universidad de Salamanca
    McGill University (Canad)
    University of Toronto
    Australian National University
    University of Tokyo
    National University of Singapore

#memes / #memesargentinos / #internetargentino

    Meme
    Momo
    Chad
    Virgin vs Chad
    Wojak
    Pepe the Frog
    Doge
    Cheems
    Distracted boyfriend
    Woman yelling at cat
    Drake meme
    This is fine
    Roll Safe / Think about it
    Surprised Pikachu
    Bernie Sanders mittens
    Stonks
    Big Chungus
    Ugandan Knuckles
    Trollface
    Forever Alone
    Me Gusta
    Fuuu / Rage face
    Y U No
    One does not simply
    Brace yourselves
    Am I a joke to you?
    Is this a pigeon?
    Excuse me WTF
    They had us in the first half
    Guess I'll die
    It's free real estate
    Shut up and take my money
    Press F to pay respects
    Sir, this is a Wendy's
    POV (Point of View)
    NPC meme
    Galaxy brain
    Expanding brain
    Nobody: / Absolutamente nadie:
    When you... / Cuando...
    The cooler Daniel
    Two buttons
    Trade offer
    Gigachad
    Sigma male
    Beta male / Alpha male
    Based
    Cringe
    Basado
    ":v" (Pacman)
    Papulince
    SDLG (Seguidores de la Grasa Legin)
    Momazos
    Grasoso
    Momichis

#memeslatinos / #latinomemes

    El Pepe
    Ete Sech
    Potaxio
    When / Cuando
    Papu
    Alv (A la verga)
    Xd / XD
    Jaja / Jajaja
    Jsjsjs
    Asdasd
    :v
    Prro (Perro)
    No papu
    Elfa
    Niu
    Sad
    Pasen contexto
    Tiln
    Tilin God
    Potaxio
    Si iron man fuera...
    Hotel? Trivago
    Zzz (dormido/aburrido)
    F en el chat
    Uf
    Ndeah
    Boludo (Argentina)
    Pelotudo (Argentina)
    Che (Argentina)
    Chabn (Argentina)
    Pibe / Piba (Argentina)
    Mina (Argentina, mujer)
    Tipo (Argentina, hombre)

#deportistas / #atletas / #sport

    Cristiano Ronaldo / CR7
    Messi
    Neymar Jr
    Kylian Mbapp
    Erling Haaland
    Mohamed Salah
    Kevin De Bruyne
    Luka Modri
    Karim Benzema
    Vinicius Jr
    LeBron James
    Michael Jordan
    Kobe Bryant
    Stephen Curry
    Kevin Durant
    Giannis Antetokounmpo
    Rafael Nadal / Rafa Nadal
    Roger Federer
    Novak Djokovic
    Serena Williams
    Naomi Osaka
    Simone Biles
    Usain Bolt
    Michael Phelps
    Tiger Woods
    Conor McGregor
    Khabib Nurmagomedov
    Floyd Mayweather
    Mike Tyson
    Muhammad Ali
    Tom Brady
    Patrick Mahomes
    Lewis Hamilton
    Max Verstappen
    Valentino Rossi

#equiposftbol / #clubeseuropeos

    Real Madrid / Merengues
    FC Barcelona / Bara / Culs
    Manchester United / Man Utd
    Manchester City / Man City
    Liverpool FC
    Chelsea FC
    Arsenal FC
    Tottenham / Spurs
    Bayern Munich / Bayern Mnchen
    Borussia Dortmund / BVB
    Juventus / Juve
    AC Milan
    Inter Milan / Inter de Miln
    AS Roma
    Napoli / Npoles
    PSG (Paris Saint-Germain)
    Olympique de Marseille
    Ajax Amsterdam
    Benfica
    Porto
    Sporting Lisboa
    Atltico de Madrid / Atleti

#ligas / #competiciones

    Premier League
    La Liga / Liga espaola
    Serie A / Calcio
    Bundesliga
    Ligue 1
    Liga Profesional Argentina
    Copa Libertadores / Libertadores
    Copa Sudamericana
    Champions League / UCL
    Europa League / UEL
    Copa del Rey
    FA Cup
    Coppa Italia
    Copa Argentina
    Mundial / World Cup
    Eurocopa / Euro
    Copa Amrica
    Mundial de Clubes

#nba / #basketball

    NBA
    Los Angeles Lakers
    Boston Celtics
    Golden State Warriors
    Chicago Bulls
    Miami Heat
    Brooklyn Nets
    Milwaukee Bucks
    Phoenix Suns
    Dallas Mavericks
    Philadelphia 76ers
    Denver Nuggets
    All-Star Game
    NBA Finals
    March Madness
    NCAA

#nfl / #superbowl

    NFL
    Super Bowl
    Kansas City Chiefs
    Patrick Mahomes
    San Francisco 49ers
    Dallas Cowboys
    New England Patriots
    Tom Brady
    Green Bay Packers
    Pittsburgh Steelers
    New York Giants
    Los Angeles Rams
    Philadelphia Eagles
    Touchdown
    Quarterback
    Halftime Show

#tenis / #tennis / #grandslam

    Wimbledon
    US Open
    Roland Garros / French Open
    Australian Open
    Grand Slam
    ATP Tour
    WTA Tour
    Copa Davis / Davis Cup
    Masters 1000

#f1 / #formula1

    Frmula 1 / Formula 1
    Red Bull Racing
    Ferrari
    Mercedes AMG
    McLaren
    Aston Martin
    Alpine
    Williams
    Max Verstappen
    Lewis Hamilton
    Charles Leclerc
    Carlos Sainz
    Sergio "Checo" Prez
    Lando Norris
    Gran Premio / GP
    Pole position
    DRS
    Pit stop
    Safety car
    Podio / Podium

#boxeo / #ufc / #mma

    Boxeo / Boxing
    UFC (Ultimate Fighting Championship)
    MMA (Mixed Martial Arts)
    Canelo lvarez
    Tyson Fury
    Anthony Joshua
    Gennady Golovkin / GGG
    Manny Pacquiao
    Conor McGregor
    Khabib Nurmagomedov
    Israel Adesanya
    Jon Jones
    Amanda Nunes
    Dana White (presidente UFC)
    Knockout / KO
    TKO
    Octgono / Octagon
    Round
    Uppercut
    Jab
    Cross
    Hook

#tiktok / #viral / #challenge

    TikTok
    TikToker
    Reel (Instagram)
    Short (YouTube)
    Viral
    Trending / Tendencia
    For You Page / FYP
    Challenge / Reto / Desafo
    Duet / Dueto
    Stitch
    Hashtag
    Algoritmo / Algorithm
    POV
    Storytime
    Transition / Transicin
    Dance challenge
    Lip sync
    Cringe
    Wholesome
    Satisfying

#youtubers / #streamers / #influencers

    YouTuber
    Streamer
    Influencer
    Content creator / Creador de contenido
    PewDiePie
    MrBeast
    Markiplier
    Jacksepticeye
    Pokimane
    Ninja
    Rubius / El Rubius
    AuronPlay
    Ibai Llanos
    ElRubius
    TheGrefg
    Luisito Comunica
    Yuya
  Werevertumorro
    HolaSoyGerman
    JuegaGerman
    Vegetta777
    Willyrex
    Fernanfloo
    DrossRotzank
    Dalas Review
    Wismichu
    Coscu / Martn Disalvo (Argentina)
    Spreen (Argentina)
    Momo (Argentina)
    Lit Killah (Argentina)
    Juan Domingo Pern (meme/streamer Argentina)

#plataformas / #apps / #aplicaciones

    YouTube
    Twitch
    TikTok
    Instagram / IG
    Facebook / FB
    Twitter / X
    WhatsApp
    Telegram
    Discord
    Reddit
    Pinterest
    Snapchat
    LinkedIn
    Threads
    BeReal
    Clubhouse
    Spotify
    Apple Music
    Netflix
    Disney+
    Amazon Prime Video
    HBO Max
    Star+
    Paramount+
    Crunchyroll
    Tinder
    Bumble
    Grindr
    Uber
    Uber Eats
    Rappi
    PedidosYa
    Mercado Libre
    Tiendamia
    Zoom
    Google Meet
    Microsoft Teams
    Slack
    Notion
    Trello
    Asana
    Canva
    Photoshop
    Premiere Pro
    CapCut
    InShot
    VSCO
    Lightroom

#expresionesargentinas / #argentinoargentineando

    Che
    Boludo/a
    Pelotudo/a
    Gil / Gila
    Chabn / Chabon
    Pibe / Piba
    Mina
    Tipo
    Flaco/a
    Gordo/a (afectuoso)
    Negro/a (afectuoso)
    Viejo/a (padre/madre)
    Vieja (esposa/novia)
    Wacho (pibe)
    Guacho
    Chabona
    Morocho/a
    Rubio/a
    Petiso/a / Petisa
    Flaca
    Gorda (carioso)
    Loco/a
    Groso/a
    Capo
    Crack
    Genio
    Maestro
    Pap / Pa
    Hermano / Bro
    Amigo / Brother
    Canchero/a
    Piola
    Copado/a
    Brbaro
    Dale
    Bueno / Bue
    Ndeah / Ndea
    Ni ah
    Re
    Re copado
    Mortal
    Zarpado/a
    Flashero/a
    Picante
    Trucho
    Chanta
    Cheto/a
    Fachero/a
    Facha
    Chamuyero/a
    Chamuyar
    Verso / Versero
    Bancarse / Bancar
    Cagar / Cagada
    Quilombo
    Bardo
    Drama
    Flash
    Manija / Manijear
    Romper las bolas / Romper las pelotas
    Hinchar las bolas / Hinchar las pelotas
    Al pedo
    Al divino botn / Al pedo
    De una
    Ya fue
    Me chupa un huevo
    Me importa tres carajos
    Ni en pedo
    Ni a palos
    Ni a ganchos
    Por las dudas
    Ponele
    Capaz
    Tipo (como)
    Tipo que / Tipo as
    Y bueno
    Qu s yo
    No me jodas
    No rompas
    No hinches
    Posta / Posta?
    En serio / En serio?
    Joda / De joda
    Jodido/a
    Fiaca
    Paja
    Pinta
    Gauchada
    Mala leche
    Mufa
    Yeta
    Cbala
    Morfar (comer)
    Laburar / Laburo (trabajar/trabajo)
    Faso (cigarrillo)
    Birra (cerveza)
    Escabio / Escabiar (alcohol/beber)
    Bondi (colectivo)
    Nafta (gasolina)

#comidascallejeras / #streetfood

    Choripn
    Pancho
    Hamburguesa de carrito
    Pizza de cancha
    Garrapiada
    Pochoclo / Poror / Palomitas
    Churros
    Empanadas
    Choripn en la cancha
    Bondiola
    Lomito
    Milanesa al pan
    Sndwich de miga
    Tortas fritas
    Facturas
    Alfajores

#postres / #desserts / #dulces

    Helado / Ice cream
    Flan
    Tiramis
    Cheesecake
    Brownie
    Chocotorta
    Torta / Cake
    Panqueques / Pancakes
    Waffles
    Crepes
    Dulce de leche
    Alfajor
    Medialunas
    Facturas
    Budn
    Gelatina / Jelly
    Mousse
    Crema / Nata
    Merengue
    Suspiro / Meringue
    Arroz con leche
    Natilla
    Flan casero
    Creme brle
    Panna cotta
    Tarta de manzana / Apple pie
    Lemon pie
    Carrot cake
    Red velvet
    Cupcakes
    Muffins
    Cookies / Galletitas
    Donuts / Donas
    Churros
    Profiteroles / Profiteroles
    Eclairs / Eclairs
    Macarons
    Tres leches

#bebidascalientes / #hotdrinks

    Caf / Coffee
    Caf con leche
    Cortado
    Lgrima (mucha leche, poco caf)
    Caf americano
    Espresso
    Cappuccino
    Latte
    Mocha
    Macchiato
    T / Tea
    T negro
    T verde
    T rojo
    Infusin
    Mate cocido
    Chocolate caliente / Hot chocolate
    Submarino (chocolate en barra en leche caliente, Argentina)

#snacks / #golosinas / #candy

    Papas fritas / Chips
    Nachos
    Cheetos
    Doritos
    Pringles
    Palitos salados
    Man / Peanuts / Cacahuates
    Almendras / Almonds
    Nueces / Walnuts
    Mix de frutos secos
    Chocolate
    Milka
    Toblerone
    Kinder
    Ferrero Rocher
    M&M's
    Snickers
    Twix
    Kit Kat
    Milky Way
    Alfajor
    Mantecol
    Marroc
    Bon o bon
    Rocklets
    Cofler
    Cabsha
    Jorgito
    Guaymalln
    Havanna
    Cachafaz
    Shot
    Rhodesia
    Oreo
    Chocolinas
    Pitusas
    Pepitos
    Cerealitas
    Tita
    Sonrisas
    Melba
    Opera
    Toddy
    Nesquik
    Gomitas / Gummy bears
    Chicles / Gum
    Caramelos / Candy
    Chupetn / Lollipop / Paleta
    Mentitas / Mints
    Halls
    Tic Tac
    Sugus
    Mogul
    Arcor
    Billiken (golosina)
    Flynn Paff
    Topline
    Mantecol
    Sublime (Per)

#marcas / #brands

    Nike
    Adidas
    Puma
    Reebok
    Under Armour
    New Balance
    Converse
    Vans
    Zara
    H&M
    Uniqlo
    Forever 21
    Gap
    Levi's
    Gucci
    Louis Vuitton
    Prada
    Chanel
    Versace
    Balenciaga
    Off-White
    Supreme
    Jordan (marca)
    Yeezy
    Rolex
    Casio
    Timex
    Seiko
    Ray-Ban
    Oakley
    Coca-Cola
    Pepsi
    Red Bull
    Monster Energy
    Gatorade
    Sprite
    Fanta
    7UP
    Quilmes (Argentina)
    Brahma (Argentina)
    Andes (Argentina)
    Quilmes Cristal
    Schneider (Argentina)
    Patagonia (cerveza Argentina)
    Budweiser
    Corona
    Heineken
    Stella Artois
    Miller
    Smirnoff
    Absolut
    Jack Daniel's
    Johnnie Walker
    Chivas Regal
    Ballantine's
    Jim Beam
    Bacardi
    Havana Club
    Captain Morgan
    Fernet Branca
    Fernet 1882
    Campari

#autos / #carbrands / #marcasauto

    Toyota
    Honda
    Ford
    Chevrolet / Chevy
    Volkswagen / VW
    Fiat
    Peugeot
    Renault
    Citron
    Nissan
    Hyundai
    Kia
    Mazda
    Subaru
    Suzuki
    Mitsubishi
    Mercedes-Benz
    BMW
    Audi
    Porsche
    Ferrari
    Lamborghini
    McLaren
    Bugatti
    Rolls-Royce
    Bentley
    Aston Martin
    Maserati
    Tesla
    Volvo
    Land Rover
    Range Rover
    Jeep
    Dodge
    RAM
    Cadillac
    Lincoln
    Chrysler
    GMC
    Alfa Romeo
    Jaguar

#motos / #motosargentina / #motorcycles

    Yamaha
    Honda
    Kawasaki
    Suzuki
    Harley-Davidson
    Ducati
    BMW Motorrad
    KTM
    Triumph
    Royal Enfield
    Indian Motorcycle
    Aprilia
    Moto Guzzi
    Vespa
    Zanella (Argentina)
    Gilera (Argentina)
    Guerrero (Argentina)
    Corven (Argentina)
    Motomel (Argentina)
    Mondial (Argentina)
    Keller (Argentina)
    Benelli (Argentina)

#electrodomsticos / #appliances

    Heladera / Refrigerador / Nevera / Fridge
    Freezer / Congelador
    Lavarropas / Lavadora / Washing machine
    Secarropas / Secadora / Dryer
    Lavavajillas / Dishwasher
    Microondas / Microwave
    Horno / Oven
    Cocina / Stove
    Anafe
    Licuadora / Blender
    Procesadora / Food processor
    Batidora / Mixer
    Tostadora / Toaster
    Pava elctrica / Kettle
    Cafetera / Coffee maker
    Aire acondicionado / AC
    Split
    Ventilador / Fan
    Estufa / Heater
    Caloventor
    Aspiradora / Vacuum cleaner
    Plancha / Iron
    Smart TV
    Chromecast
    Fire Stick

#supermercados / #supermarkets (Argentina)

    Carrefour
    Coto
    Da
    Disco
    Jumbo
    Walmart (ya no en Argentina)
    La Annima
    Vital
    Maxiconsumo
    Changomas
    Mercado Central
    Almacn
    Verdulera
    Carnicera
    Panadera
    Diettica
    Farmacia
    Farmacity
    Dr. Ahorro

#bancos / #banks (Argentina)

    Banco Nacin / BNA
    Banco Provincia
    Banco Galicia
    Banco Santander
    BBVA
    HSBC
    Banco Macro
    Banco Ciudad
    ICBC
    Banco Patagonia
    Banco Supervielle
    Brubank
    Ual
    Mercado Pago
    Naranja X
    Personal Pay
    Modo
    Cuenta DNI

#tarjetas / #cards (Argentina)

    Visa
    Mastercard
    American Express / Amex
    Cabal
    Naranja
    Tarjeta Shopping
    Argencard
    Nativa
    Crdito
    Dbito
    Prepaga

#feriados / #holidays (Argentina)

    Ao Nuevo / New Year
    Carnaval
    Semana Santa / Easter
    Viernes Santo / Good Friday
    Da del Trabajador / Labor Day (1 mayo)
    25 de Mayo / Revolucin de Mayo
    Da de la Bandera / Flag Day (20 junio)
    9 de Julio / Da de la Independencia
    17 de Agosto / San Martn
    12 de Octubre / Da de la Raza / Da del Respeto
    20 de Noviembre / Da de la Soberana
    8 de Diciembre / Inmaculada Concepcin
    Navidad / Christmas (25 diciembre)
    Nochebuena / Christmas Eve (24 diciembre)
    Nochevieja / New Year's Eve (31 diciembre)
    Da de los enamorados / San Valentn (14 febrero)
    Da de la Madre
    Da del Padre
    Da del Nio
    Da del Amigo (20 julio, Argentina)
    Black Friday
    Cyber Monday
    Hot Sale

#celebracionesargentinas

    25 de Mayo
    9 de Julio
    Da del Amigo
    Noche de la Nostalgia (Uruguay, 24 agosto)
    Da de la Primavera (21 septiembre, Argentina)
    Da del Estudiante (21 septiembre, Argentina)
    Halloween (cada vez ms en Argentina)
    Da de Muertos (Mxico, 1-2 noviembre)
    Da de la Tradicin (10 noviembre, Argentina)

#politicaargentina / #poltica

    Javier Milei
    Cristina Fernndez de Kirchner / CFK / Cristina
    Alberto Fernndez
    Mauricio Macri
    Nstor Kirchner
    Peronismo / Peronista
    Kirchnerismo / K
    Cambiemos
    Juntos por el Cambio / JxC
    La Libertad Avanza / LLA
    Frente de Todos
    Unin por la Patria
    Casa Rosada
    Congreso de la Nacin
    Senado
    Diputados
    Elecciones
    Balotaje / Segunda vuelta
    Voto / Sufragio
    Padrn electoral
    Mesa electoral
    Fiscal de mesa
    Boleta nica
    DNI (Documento)

#economaargentina / #crisis

    Inflacin
    Dlar
    Dlar blue
    Dlar oficial
    Brecha cambiaria
    Cepo cambiario / Cepo
    Peso argentino
    Devaluacin
    Recesin
    Crisis econmica
    FMI (Fondo Monetario Internacional)
    Dficit fiscal
    Emisin monetaria
    BCRA (Banco Central)
    Reservas
    Bonos
    Riesgo pas
    Corralito
    Default

#geografaargentina / #provincias

    Ciudad de Buenos Aires / CABA
    Provincia de Buenos Aires / PBA / Conurbano
    Crdoba
    Santa Fe
    Mendoza
    Tucumn
    Salta
    Entre Ros
    Misiones
    Corrientes
    Santiago del Estero
    Chaco
    San Juan
    Jujuy
    Ro Negro
    Neuqun
    Formosa
    Chubut
    San Luis
    Catamarca
    La Rioja
    La Pampa
    Santa Cruz
    Tierra del Fuego
    Antrtida Argentina
    Islas Malvinas

#lugaresargentinos / #turistaarg

    Buenos Aires
    Crdoba Capital
    Rosario
    Mendoza Capital
    La Plata
    Mar del Plata / Mardel
    San Carlos de Bariloche / Bariloche
    Salta Capital
    San Miguel de Tucumn
    Ushuaia
    El Calafate
    Puerto Madryn
    Villa Carlos Paz
    Villa General Belgrano
    Tigre
    Pinamar
    Villa Gesell
    Caril
    Tandil
    Sierra de la Ventana
    Cataratas del Iguaz
    Glaciar Perito Moreno
    Aconcagua
    Quebrada de Humahuaca
    Salinas Grandes
    Cerro de los Siete Colores
    Valles Calchaques
    Talampaya
    Ischigualasto / Valle de la Luna
    Pennsula Valds
    Cueva de las Manos
    Tren a las Nubes
    Ruta 40
    Ruta 7
    Camino de los Siete Lagos
    Fin del Mundo

#ros / #lagos (Argentina)

    Ro de la Plata
    Ro Paran
    Ro Uruguay
    Ro Negro
    Ro Colorado
    Ro Salado
    Laguna de los Padres
    Lago Nahuel Huapi
    Lago Argentino
    Lago Viedma
    Laguna del Desierto
    Embalse
    Delta del Paran

#montaas / #cerros (Argentina)

    Aconcagua
    Cerro Catedral
    Cerro Tronador
    Cerro Champaqu
    Cerro de la Ventana
    Cordillera de los Andes
    Sierras de Crdoba
    Sierras de Tandil

#climaargentina

    Verano argentino
    Invierno argentino
    Otoo
    Primavera
    Ola de calor
    Ola polar
    Sudestada
    Zonda (viento clido)
    Pampero (viento fro)
    Nieve en Bariloche
    Nieve en Mendoza
    Sequa
    Inundaciones

#universofantstico / #fantasa

    Dragn / Dragon
    Unicornio / Unicorn
    Hada / Fairy
    Duende / Elf / Goblin
    Enano / Dwarf
    Gigante / Giant
    Ogro / Ogre
    Troll
    Orco / Orc
    Vampiro / Vampire
    Hombre lobo / Werewolf
    Zombi / Zombie
    Bruja / Witch
    Mago / Wizard
    Hechicero / Sorcerer
    Caballero / Knight
    Reino / Kingdom
    Castillo / Castle
    Mazmorra / Dungeon
    Espada / Sword
    Escudo / Shield
    Armadura / Armor
    Arco y flecha / Bow and arrow
    Varita mgica / Magic wand
    Pocin / Potion
    Hechizo / Spell
    Conjuro / Incantation
    Magia / Magic

#cienciaficcin / #scifi

    Alien / Extraterrestre
    OVNI / UFO
    Nave espacial / Spaceship
    Astronauta / Astronaut
    Planeta
    Galaxia / Galaxy
    Estrella / Star
    Agujero negro / Black hole
    Viaje en el tiempo / Time travel
    Mquina del tiempo / Time machine
    Teletransportacin / Teleportation
    Robot
    Androide / Android
    Cyborg
    Inteligencia Artificial / AI
    Realidad virtual / Virtual reality
    Distopa / Dystopia
    Apocalipsis
    Fin del mundo / End of the world
    Invasin aliengena

#terror / #horror

    Terror / Horror
    Miedo / Fear
    Susto / Scare
    Pesadilla / Nightmare
    Monstruo / Monster
    Fantasma / Ghost
    Espritu / Spirit
    Aparicin / Apparition
    Poltergeist
    Posesin / Possession
    Exorcismo / Exorcism
    Demonio / Demon
    Satans / Satan
    Casa embrujada / Haunted house
    Cementerio / Cemetery
    Cripta / Crypt
    Atad / Coffin
    Sangre / Blood
    Gore
    Slasher
    Serial killer / Asesino en serie
    Psicpata / Psychopath

#videojuegosclsicos / #retrogaming

    Super Mario Bros
    Mario Kart
    The Legend of Zelda
    Pokmon
    Sonic
    Pac-Man
    Tetris
    Space Invaders
    Donkey Kong
    Street Fighter
    Mortal Kombat
    Tekken
    FIFA
    Pro Evolution Soccer / PES
    Winning Eleven
    Gran Turismo
    Need for Speed
    GTA (Grand Theft Auto)
    Vice City
    San Andreas
    Final Fantasy
    Resident Evil
    Silent Hill
    Metal Gear Solid
    Tomb Raider
    Lara Croft
    Crash Bandicoot
    Spyro
    Counter-Strike / CS
    Half-Life
    Portal
    Age of Empires
    StarCraft
    Warcraft
    Diablo
    World of Warcraft / WoW
    The Sims
    SimCity
    Civilization

#videojuegosmodernos / #gaming2020s

    Fortnite
    Call of Duty / COD
    Warzone
    Apex Legends
    Valorant
    League of Legends / LoL
    Dota 2
    Counter-Strike 2 / CS2
    Minecraft
    Roblox
    Among Us
    Fall Guys
    Rocket League
    Overwatch
    Rainbow Six Siege
    PUBG
    Free Fire
    Genshin Impact
    Honkai Star Rail
    Zelda Tears of the Kingdom
    Elden Ring
    God of War
    The Last of Us
    Spider-Man (juego)
    Hogwarts Legacy
    Baldur's Gate 3
    Cyberpunk 2077
    Red Dead Redemption
    Assassin's Creed
    FIFA / EA Sports FC
    NBA 2K
    Madden NFL
    Gran Turismo
    Forza

#plataformasgaming / #consolasgaming

    PlayStation / PS5 / PS4
    Xbox Series X/S
    Xbox One
    Nintendo Switch
    PC Gaming
    Steam
    Epic Games Store
    GOG
    Origin
    Uplay
    Battle.net
    Game Pass
    PlayStation Plus
    Nintendo Online
    Twitch
    Discord

#esports / #competitivo

    Esports / Deportes electrnicos
    Pro player
    Equipo / Team
    Clan
    Guild / Guilda
    Torneo / Tournament
    LAN
    Online
    Ranked / Competitivo
    Casual
    Scrim / Scrimmage
    Bootcamp
    Coach / Entrenador
    Analyst / Analista
    Streamer
    Caster / Comentarista
    Prize pool / Bolsa de premios
    Worlds / Mundial
    Major
    Minor
    Qualifier / Clasificatorio

#trminosgaming

    GG (Good Game)
    GL (Good Luck)
    HF (Have Fun)
    GG WP (Good Game Well Played)
    AFK (Away From Keyboard)
    BRB (Be Right Back)
    Lag
    Ping
    FPS (Frames Per Second)
    Buff
    Nerf
    OP (Overpowered)
    Meta
    Camping / Camper
    Rushear / Rush
    Clutch
    Ace
    Pentakill
    Headshot / HS
    Wallbang
    Flashbang / Flash
    Smoke
    Molotov
    Grenade / Granada
    Respawn / Reaparecer
    Loot / Botn
    Drop / Cada
    Spawn
    Checkpoint
    Save point / Punto de guardado
    Boss / Jefe
    NPC (Non-Player Character)
    Quest / Misin
    Side quest / Misin secundaria
    Main quest / Misin principal
    Level / Nivel
    XP (Experience Points)
    HP (Health Points)
    MP (Mana Points)
    Cooldown / CD
    Ultimate / Ulti
    Skill / Habilidad
    Combo
    Juggle
    Parry / Parada
    Dodge / Esquivar
    Roll / Rodar
    Sprint / Correr
    Crouch / Agacharse
    Prone / Tumbarse
    Aim / Apuntar
    Scope / Mira telescpica
    Reload / Recargar
    Ammo / Municin
    Inventory / Inventario
    Crafting / Crafteo
    Farming / Farmear
    Grinding / Grindear
    Speedrun
    Walkthrough / Gua
    Easter egg
    Glitch / Bug
    Exploit
    Hack / Hackear
    Cheat / Trampa
    Mod / Modificacin
    DLC (Downloadable Content)
    Season Pass
    Battle Pass
    Skin / Aspecto
    Emote / Gesto
    Spray
    Sticker

#memesclsicos

    Troll face
    Me gusta
    Fuck yeah
    Okay guy
    Forever alone
    Rage guy
    Y U No
    Challenge accepted
    Not bad
    True story
    Watch out we got a badass
    I lied
    Poker face
    Fuuuu
    Le me
    Derp
    Derpina
    Herpderp

#expresionesinternet / #slangingls

    LOL (Laugh Out Loud)
    LMAO (Laughing My Ass Off)
    ROFL (Rolling On Floor Laughing)
    OMG (Oh My God)
    WTF (What The Fuck)
    FFS (For Fuck's Sake)
    SMH (Shaking My Head)
    IMO / IMHO (In My Opinion / Humble)
    TBH (To Be Honest)
    NGL (Not Gonna Lie)
    IDK (I Don't Know)
    IKR (I Know Right)
    AFAIK (As Far As I Know)
    TLDR / TL;DR (Too Long Didn't Read)
    ELI5 (Explain Like I'm 5)
    AMA (Ask Me Anything)
    FTFY (Fixed That For You)
    ICYMI (In Case You Missed It)
    FOMO (Fear Of Missing Out)
    YOLO (You Only Live Once)
    Bae (Before Anyone Else)
    Sus / Sussy (Suspicious)
    Cap / No cap (Mentira / Sin mentira)
    Slaps / Slapping (Est buensimo)
    Bussin (Delicioso)
    Sheesh
    Slay / Slayed / Slaying
    Vibe / Vibing
    Stan (Fan obsesivo)
    Ship / Shipping (Emparejar personajes)
    OTP (One True Pairing)
    Canon
    Fanfic / Fan fiction
    Headcanon
    Cosplay

# #tecnologa
- Inteligencia Artificial (IA/AI)
- Machine Learning
- Cloud Computing
- Ciberseguridad
- Blockchain
- Internet of Things (IoT)
- 5G/6G
- Realidad Virtual (VR)
- Realidad Aumentada (AR)
- Big Data
- Quantum Computing
- Robtica
- Drones
- Impresin 3D
- Automatizacin

# #apple
- iPhone
- iPad
- Mac
- MacBook (Air, Pro)
- iMac
- Apple Watch
- AirPods
- Apple TV
- Vision Pro
- iOS
- macOS
- iCloud
- Apple Music
- App Store
- Siri
- Face ID
- Apple Pay

# #microsoft
- Windows
- Office 365
- Azure
- Xbox
- Surface
- Teams
- OneDrive
- Outlook
- Visual Studio
- LinkedIn (propiedad de Microsoft)
- GitHub (propiedad de Microsoft)
- Bing
- Copilot
- Dynamics 365

# #google
- Gmail
- Google Search
- YouTube
- Android
- Chrome
- Google Drive
- Google Maps
- Google Photos
- Google Cloud
- Pixel
- Nest
- Gemini (IA)
- Google Workspace
- AdWords/AdSense
- Chromebook

# #meta
- Facebook
- Instagram
- WhatsApp
- Messenger
- Meta Quest (VR)
- Threads
- Metaverso
- Oculus
- Portal
- Workplace

# #amazon
- Amazon.com (e-commerce)
- Prime Video
- AWS (Amazon Web Services)
- Kindle
- Alexa
- Echo
- Fire TV
- Whole Foods
- Audible
- Twitch
- Amazon Music
- Prime Day

# #tesla
- Model S
- Model 3
- Model X
- Model Y
- Cybertruck
- Roadster
- Autopilot
- Full Self-Driving (FSD)
- Supercharger
- Powerwall
- Solar Roof
- Tesla Energy
- Elon Musk

# #netflix
- Streaming
- Series originales
- Pelculas
- Documentales
- Netflix Games
- Perfiles
- Descargas offline
- 4K/HDR

# #spotify
- Msica streaming
- Podcasts
- Playlists
- Discover Weekly
- Spotify Premium
- Audiobooks
- Wrapped (resumen anual)
- Spotify Connect

# #nvidia
- GeForce (GPUs)
- RTX
- DLSS
- Ray Tracing
- CUDA
- Tegra
- Shield TV
- GeForce Now
- Omniverse
- AI Computing

# #amd
- Ryzen (procesadores)
- Radeon (GPUs)
- EPYC (servidores)
- Threadripper
- FSR (FidelityFX)

# #intel
- Core (i3, i5, i7, i9)
- Xeon
- Evo Platform
- Arc (GPUs)
- Optane
- Thunderbolt

# #samsung
- Galaxy (S, Z, A series)
- Galaxy Tab
- Galaxy Watch
- Galaxy Buds
- SmartTV
- QLED/Neo QLED
- Bixby
- One UI
- SmartThings
- Electrodomsticos

# #sony
- PlayStation (PS5)
- Bravia (TVs)
- Xperia (smartphones)
- WH-1000XM (auriculares)
- Cmaras Alpha
- Sony Pictures
- Sony Music

# #nintendo
- Switch
- Mario
- Zelda
- Pokmon
- Animal Crossing
- Splatoon
- Super Smash Bros
- Nintendo Online

# #finanzas
- Acciones
- Bonos
- Criptomonedas
- Bitcoin
- Ethereum
- Forex
- Trading
- Inversiones
- Bolsa de valores
- NYSE
- NASDAQ
- S&P 500
- Dow Jones
- ETFs
- Fondos mutuos
- Dividendos

# #bitcoin
- BTC
- Blockchain
- Satoshi Nakamoto
- Mining (minera)
- Wallet
- Halving
- Lightning Network
- Descentralizacin
- Peer-to-peer

# #ethereum
- ETH
- Smart Contracts
- DeFi
- NFTs
- Vitalik Buterin
- Gas fees
- Ethereum 2.0
- Proof of Stake
- dApps

# #nft
- Arte digital
- Coleccionables
- OpenSea
- Rarible
- Metaverso
- Tokens no fungibles
- Royalties
- Smart contracts

# #fitness
- Gimnasio
- Cardio
- Pesas
- CrossFit
- Yoga
- Pilates
- Running
- Ciclismo
- Natacin
- HIIT
- Calistenia
- Protena
- Pre-workout
- Suplementos

# #nutricin
- Macros (protenas, carbohidratos, grasas)
- Caloras
- Dieta mediterrnea
- Keto
- Ayuno intermitente
- Vegano/Vegetariano
- Vitaminas
- Minerales
- Superalimentos
- Hidratacin

# #salud
- Bienestar
- Medicina preventiva
- Chequeos mdicos
- Vacunas
- Salud mental
- Terapia
- Meditacin
- Sueo
- Estrs
- Ansiedad
- Depresin

# #viajes
- Turismo
- Hoteles
- Airbnb
- Vuelos
- Cruceros
- Mochilero (Backpacking)
- All-inclusive
- Road trip
- Visa
- Pasaporte
- Seguro de viaje

# #fotografa
- DSLR
- Mirrorless
- Canon
- Nikon
- Sony Alpha
- Fujifilm
- Lentes
- Apertura
- ISO
- Shutter Speed
- Lightroom
- Photoshop
- Fotografa de retrato
- Fotografa de paisaje

# #gaming
- PC Gaming
- Consolas
- Esports
- Twitch
- Streamers
- RGB
- Mechanical keyboards
- Gaming mouse
- Monitor 144Hz
- Discord
- Steam
- Epic Games
- Battle Royale
- MMORPG
- FPS

# #cine
- Hollywood
- Blockbusters
- Cine independiente
- Festivales (Cannes, Sundance, Oscars)
- Directores
- Actores
- CGI/VFX
- IMAX
- Dolby Atmos
- Marvel/DC
- Disney

# #msica
- Gneros (Pop, Rock, Hip-Hop, EDM, Jazz, Clsica)
- Conciertos
- Festivales
- Instrumentos
- Produccin musical
- DAW (Digital Audio Workstation)
- Vinilos
- Audiophile
- Streaming

# #moda
- Alta costura
- Street style
- Diseadores
- Fashion Week
- Tendencias
- Vintage
- Sostenibilidad
- Fast fashion
- Sneakers
- Accesorios

# #automviles
- SUV
- Sedn
- Elctricos (EV)
- Hbridos
- Supercars
- BMW
- Mercedes-Benz
- Audi
- Porsche
- Ferrari
- Lamborghini
- Toyota
- Honda
- Ford
- Tuning

# #spaceX
- Falcon 9
- Falcon Heavy
- Starship
- Dragon
- Starlink
- Marte
- Elon Musk
- Misiones espaciales
- Reutilizacin de cohetes

# #nasa
- Artemis
- ISS (Estacin Espacial)
- Mars Rover
- Telescopio James Webb
- Astronautas
- Exploracin espacial
- Luna
- Marte

# #educacin
- E-learning
- Cursos online
- Udemy
- Coursera
- Khan Academy
- Universidades
- Maestras
- Doctorados
- Becas
- Idiomas

# #emprendimiento
- Startup
- Business plan
- MVP (Minimum Viable Product)
- Pitch
- Inversores
- Venture Capital
- Bootstrapping
- Escalabilidad
- Product-Market Fit
- Exit strategy

# #marketing
- Marketing digital
- SEO
- SEM
- Social Media
- Content Marketing
- Email Marketing
- Influencers
- Branding
- Analytics
- Conversin
- ROI

# #inteligenciaartificial
- ChatGPT
- Claude
- Gemini
- Midjourney
- DALL-E
- Machine Learning
- Deep Learning
- Neural Networks
- NLP (Natural Language Processing)
- Computer Vision
- GPT-4
- LLMs

# #criptomonedas
- Bitcoin
- Ethereum
- Binance
- Coinbase
- Altcoins
- Stablecoins
- DeFi
- Staking
- Mining
- Cold Wallet
- Hot Wallet
- Bull/Bear Market

# #redes sociales
- TikTok
- Instagram
- Twitter/X
- Facebook
- LinkedIn
- Pinterest
- Snapchat
- Reddit
- YouTube
- Algoritmo
- Engagement
- Viral
- Influencer

# #deportes
- Ftbol
- Basketball
- Tenis
- Golf
- Frmula 1
- MMA/UFC
- Boxing
- NFL
- NBA
- Premier League
- Champions League
- Olimpiadas
- Mundial

# #cocina
- Recetas
- Chef
- MasterChef
- Gastronoma
- Repostera
- Cocina molecular
- Sous vide
- Air fryer
- Slow cooker
- Meal prep
- Food truck

# #sostenibilidad
- Energa renovable
- Solar
- Elica
- Reciclaje
- Zero waste
- Economa circular
- Cambio climtico
- Huella de carbono
- Compostaje
- Vehculos elctricos

# #inmobiliario
- Bienes races
- Inversin inmobiliaria
- Hipotecas
- Renta
- Airbnb
- REITS
- Flipping
- Smart homes
- Arquitectura
- Diseo de interiores

# #libros
- Bestsellers
- Ficcin
- No ficcin
- Biografas
- Autoayuda
- Thriller
- Romance
- Ciencia ficcin
- Fantasy
- Kindle
- Audiolibros
- Goodreads

# #anime
- Manga
- Shonen
- Seinen
- Shojo
- Studio Ghibli
- Crunchyroll
- One Piece
- Naruto
- Attack on Titan
- Demon Slayer
- Cosplay
- Conventions

# #caf
- Espresso
- Cappuccino
- Latte
- Cold brew
- French press
- Aeropress
- Barista
- Specialty coffee
- Single origin
- Arabica
- Robusta
- Latte art

# #mascotas
- Perros
- Gatos
- Veterinario
- Adopcin
- Entrenamiento
- Grooming
- Pet-friendly
- Razas
- Alimentacin
- Juguetes

# #reloj
- Rolex
- Omega
- Tag Heuer
- Seiko
- Casio
- Apple Watch
- Smartwatch
- Automtico
- Crongrafo
- Relojes de lujo

Perfecto! Aqu te van tpicos completamente nuevos:

# #arquitectura
- Diseo arquitectnico
- Modernismo
- Minimalismo
- Brutalismo
- Art Deco
- Bauhaus
- Sustentabilidad
- BIM (Building Information Modeling)
- Zaha Hadid
- Frank Lloyd Wright
- Le Corbusier
- Rascacielos
- Casas prefabricadas
- Tiny houses

# #ciberseguridad
- Hacking tico
- Pentesting
- Firewall
- VPN
- Malware
- Ransomware
- Phishing
- Two-Factor Authentication
- Encriptacin
- Zero Trust
- Bug bounty
- Dark web
- Antivirus
- GDPR

# #podcasts
- Spotify Podcasts
- Apple Podcasts
- Produccin de audio
- Micrfono
- Edicin
- Entrevistas
- True crime
- Comedia
- Negocios
- Audacity
- Anchor

# #esports
- League of Legends
- Dota 2
- Counter-Strike
- Valorant
- Fortnite
- Call of Duty
- Overwatch
- Rocket League
- Torneos
- Premios
- Teams profesionales
- Streamers

# #vinos
- Sommelier
- Vino tinto
- Vino blanco
- Ros
- Champagne
- Prosecco
- Bodegas
- Cata
- Maridaje
- Taninos
- Denominacin de origen
- Viedos
- Aada

# #cerveza
- Craft beer
- IPA
- Stout
- Lager
- Ale
- Porter
- Cervecera artesanal
- Homebrewing
- Lpulo
- Malta
- ABV
- IBU

# #yoga
- Hatha
- Vinyasa
- Ashtanga
- Bikram/Hot Yoga
- Yin Yoga
- Power Yoga
- Meditacin
- Pranayama
- Asanas
- Chakras
- Namaste
- Mat (tapete)
- Mindfulness

# #diseogrfico
- Adobe Creative Suite
- Illustrator
- InDesign
- Figma
- Canva
- Photoshop
- Tipografa
- Branding
- UI/UX
- Logo design
- Color theory
- Mockups
- Portfolio

# #astronoma
- Telescopio
- Planetas
- Estrellas
- Galaxias
- Agujeros negros
- Nebulosas
- Constelaciones
- Eclipses
- Luna llena
- Va Lctea
- Astrofotografa
- NASA
- SpaceX

# #jardinera
- Plantas
- Huerto urbano
- Compost
- Hidropona
- Suculentas
- Bonsi
- Invernadero
- Semillas
- Macetas
- Riego
- Fertilizantes
- Plagas
- Jardn vertical

# #drones
- DJI
- Fotografa area
- FPV (First Person View)
- Racing drones
- Gimbal
- 4K video
- Licencia de piloto
- Autonoma de vuelo
- GPS
- Return to home
- Mavic
- Phantom

# #realidadvirtual
- Meta Quest
- PlayStation VR
- HTC Vive
- Valve Index
- Beat Saber
- Half-Life Alyx
- VRChat
- 360 grados
- Simuladores
- Room scale
- Motion sickness
- Haptic feedback

# #smartwatch
- Apple Watch
- Samsung Galaxy Watch
- Garmin
- Fitbit
- Wear OS
- Health tracking
- GPS
- Notificaciones
- Batera
- Correas
- Apps
- Water resistant

# #ciclismo
- Bicicleta de ruta
- Mountain bike
- BMX
- Gravel bike
- Cicloturismo
- Tour de Francia
- Giro de Italia
- Vuelta a Espaa
- Shimano
- SRAM
- Cadencia
- Rodillos
- Strava

# #skateboarding
- Street skating
- Vert
- Trick
- Ollie
- Kickflip
- Halfpipe
- Skatepark
- Tony Hawk
- Vans
- Independent Trucks
- X Games

# #surf
- Olas
- Tabla de surf
- Longboard
- Shortboard
- Bodyboard
- Wetsuit
- Wax
- Spots
- Pipeline
- Big wave
- Competencias WSL
- Kelly Slater

# #teatro
- Broadway
- West End
- Musical
- Drama
- Comedia
- Shakespeare
- Actores
- Director
- Escenografa
- Vestuario
- Improvisacin
- Monlogo

# #pera
- Tenor
- Soprano
- Baritono
- La Scala
- Metropolitan Opera
- Wagner
- Verdi
- Puccini
- Aria
- Libretto
- Orquesta

# #ballet
- Danza clsica
- Pointe shoes
- Tutu
- Pas de deux
- Bolshoi
- American Ballet Theatre
- El Cascanueces
- El Lago de los Cisnes
- Barre
- Plis

# #ajedrez
- Gambito
- Aperturas
- Defensa
- Jaque mate
- Magnus Carlsen
- Garry Kasparov
- Bobby Fischer
- Chess.com
- Lichess
- Elo rating
- Torneos
- Blitz

# #scifi
- Ciencia ficcin
- Distopa
- Utopa
- Cyberpunk
- Steampunk
- Time travel
- Aliens
- Space opera
- Isaac Asimov
- Philip K. Dick
- Arthur C. Clarke
- Robots
- Inteligencia artificial

# #fantasa
- High fantasy
- Urban fantasy
- Dragones
- Magia
- Elfos
- Enanos
- J.R.R. Tolkien
- George R.R. Martin
- Brandon Sanderson
- Worldbuilding
- RPG
- D&D (Dungeons & Dragons)

# #coleccionismo
- Antigedades
- Monedas
- Sellos
- Comics
- Cartas (trading cards)
- Pokmon cards
- Magic: The Gathering
- Figuras de accin
- Funko Pop
- Memorabilia
- Vintage
- Ediciones limitadas

# #whisky
- Scotch
- Bourbon
- Single malt
- Blended
- Irish whiskey
- Japanese whisky
- Destilera
- Barril
- Aejamiento
- Cata
- Peat (turba)
- Angels' share

# #camping
- Tienda de campaa
- Sleeping bag
- Fogata
- Senderismo
- Glamping
- RV (Motorhome)
- Camping gear
- Supervivencia
- Bushcraft
- Mochila
- Linterna
- Cocina porttil

# #pesca
- Pesca deportiva
- Fly fishing
- Spinning
- Trolling
- Caa de pescar
- Carrete
- Seuelos
- Carnada
- Catch and release
- Bass fishing
- Pesca en mar
- Torneo de pesca

# #running
- Maratn
- Media maratn
- 5K/10K
- Trail running
- Nike Run Club
- Strava
- Zapatillas running
- Pace
- Personal record
- Boston Marathon
- Ultra maratn
- Interval training

# #boxeo
- Heavyweight
- Welterweight
- Knockout
- Uppercut
- Jab
- Muhammad Ali
- Mike Tyson
- Floyd Mayweather
- Guantes
- Ring
- Rounds
- Sparring

# #tenis
- Grand Slam
- Wimbledon
- US Open
- Roland Garros
- Australian Open
- Roger Federer
- Rafael Nadal
- Novak Djokovic
- Raqueta
- Arcilla/Clay
- Hierba/Grass
- ATP/WTA

# #golf
- PGA Tour
- Masters
- Tiger Woods
- Palos de golf
- Drive
- Putt
- Green
- Handicap
- Hole in one
- Caddie
- Par
- Birdie/Eagle

# #formula1
- F1
- Max Verstappen
- Lewis Hamilton
- Ferrari
- Mercedes
- Red Bull Racing
- McLaren
- DRS
- Pole position
- Pit stop
- Monaco GP
- Monza

# #motociclismo
- MotoGP
- Harley-Davidson
- Ducati
- Yamaha
- Honda
- Kawasaki
- Superbikes
- Cruiser
- Sport bike
- Touring
- Custom bikes
- Valentino Rossi

# #tatuajes
- Tattoo artist
- Ink
- Traditional
- Realismo
- Blackwork
- Watercolor
- Tribal
- Japanese style
- Cover-up
- Aftercare
- Tattoo machine
- Flash

# #barberas
- Barbero
- Fade
- Undercut
- Pompadour
- Beard trim
- Straight razor
- Clippers
- Barber shop
- Men's grooming
- Shaving
- Aftershave
- Styling products

# #skincare
- Rutina facial
- Cleanser
- Toner
- Serum
- Moisturizer
- Sunscreen/SPF
- Retinol
- cido hialurnico
- Vitamin C
- Exfoliante
- K-beauty
- The Ordinary

# #maquillaje
- Makeup artist
- Foundation
- Concealer
- Contour
- Highlighter
- Eyeshadow
- Mascara
- Lipstick
- Brushes
- Sephora
- MAC
- Glam

# #uas
- Manicure
- Pedicure
- Gel nails
- Acrlicas
- Nail art
- Esmalte
- French tips
- Press-on nails
- Nail salon
- UV lamp
- Top coat

# #perfumes
- Fragancias
- Eau de Parfum
- Eau de Toilette
- Notas de salida
- Notas de corazn
- Notas de fondo
- Chanel
- Dior
- Tom Ford
- Niche perfumes
- Cologne
- Unisex

# #relojesinteligentes
- Smartwatch
- Fitness tracker
- Heart rate monitor
- Sleep tracking
- Steps counter
- Calories
- Notifications
- Water resistant
- Battery life
- Xiaomi Mi Band
- Amazfit

# #homeautomation
- Smart home
- Google Home
- Amazon Alexa
- Apple HomeKit
- Smart lights
- Philips Hue
- Nest Thermostat
- Ring doorbell
- Security cameras
- Voice control
- IFTTT
- Zigbee

# #impresoras3d
- 3D printing
- Filamento
- PLA
- ABS
- Resin printing
- FDM
- SLA
- Creality
- Prusa
- STL files
- Thingiverse
- Prototipos

# #streaming
- Twitch
- YouTube Live
- OBS
- StreamElements
- Streamlabs
- Webcam
- Elgato
- Green screen
- Subs/Donaciones
- Emotes
- Moderadores

# #podcasting
- Micrfono USB
- Interface de audio
- Shure SM7B
- Blue Yeti
- Adobe Audition
- GarageBand
- RSS feed
- Hosting
- Intro/Outro
- Show notes

# #fotografacallejera
- Street photography
- Candid
- Black and white
- Documentary
- Urban
- Storytelling
- Henri Cartier-Bresson
- Leica
- Fujifilm X series
- 35mm
- Composition

# #astrofotografa
- Milky Way
- Star trails
- Deep sky
- Telescope
- Mount tracking
- Long exposure
- Light pollution
- Dark sky
- Stacking
- Bortle scale
- Astrophotography gear

# #videoedicin
- Premiere Pro
- Final Cut Pro
- DaVinci Resolve
- After Effects
- Color grading
- Transitions
- LUTs
- Render
- Timeline
- B-roll
- Sound design

# #animacin
- 2D animation
- 3D animation
- Stop motion
- Motion graphics
- Pixar
- Studio Ghibli
- Blender
- Maya
- Rigging
- Keyframes
- Frame rate

# #comicbooks
- Marvel Comics
- DC Comics
- Superhroes
- Manga
- Graphic novels
- Spider-Man
- Batman
- X-Men
- Avengers
- Comic Con
- Ediciones variant
- First editions
</file>

<file path="MacanudosLogonew.txt">
<svg width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="wave1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1">
        <animate attributeName="stop-color" values="#06b6d4;#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4" dur="12s" repeatCount="indefinite"/>
      </stop>
      <stop offset="50%" style="stop-color:#3b82f6;stop-opacity:1">
        <animate attributeName="stop-color" values="#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6" dur="12s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1">
        <animate attributeName="stop-color" values="#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6" dur="12s" repeatCount="indefinite"/>
      </stop>
    </linearGradient>
    
    <linearGradient id="wave2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.5">
        <animate attributeName="stop-color" values="#8b5cf6;#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6" dur="14s" repeatCount="indefinite"/>
      </stop>
      <stop offset="50%" style="stop-color:#ec4899;stop-opacity:0.5">
        <animate attributeName="stop-color" values="#ec4899;#f43f5e;#06b6d4;#3b82f6;#a855f7;#ec4899" dur="14s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" style="stop-color:#a855f7;stop-opacity:0.5">
        <animate attributeName="stop-color" values="#a855f7;#06b6d4;#3b82f6;#8b5cf6;#ec4899;#a855f7" dur="14s" repeatCount="indefinite"/>
      </stop>
    </linearGradient>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="strongGlow">
      <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <radialGradient id="trailGradient">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.8"/>
      <stop offset="50%" style="stop-color:#3b82f6;stop-opacity:0.3"/>
      <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:0"/>
    </radialGradient>
  </defs>
  
  <!-- Background transparent -->
  
  <!-- Particle waves representing connection/social network -->
  <g filter="url(#glow)">
    <!-- Wave 1 particles -->
    <circle cx="20" cy="200" r="3" fill="#06b6d4" opacity="0.8">
      <animate attributeName="cy" values="200;170;200" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#06b6d4;#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4" dur="9s" repeatCount="indefinite"/>
    </circle>
    <circle cx="60" cy="200" r="4" fill="#3b82f6" opacity="0.7">
      <animate attributeName="cy" values="200;220;200" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#3b82f6;#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6" dur="10s" repeatCount="indefinite"/>
    </circle>
    <circle cx="100" cy="200" r="3" fill="#8b5cf6" opacity="0.8">
      <animate attributeName="cy" values="200;180;200" dur="3.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3.5s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#8b5cf6;#a855f7;#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6" dur="11s" repeatCount="indefinite"/>
    </circle>
    <circle cx="140" cy="200" r="5" fill="#ec4899" opacity="0.6">
      <animate attributeName="cy" values="200;210;200" dur="4.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.6;1;0.6" dur="4.5s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#ec4899;#f43f5e;#06b6d4;#3b82f6;#8b5cf6;#a855f7;#ec4899" dur="9.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="180" cy="200" r="3" fill="#06b6d4" opacity="0.8">
      <animate attributeName="cy" values="200;190;200" dur="3s" repeatCount="indefinite" begin="1s"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite" begin="1s"/>
      <animate attributeName="fill" values="#06b6d4;#8b5cf6;#ec4899;#f43f5e;#3b82f6;#a855f7;#06b6d4" dur="10.5s" repeatCount="indefinite"/>
    </circle>
    <circle cx="220" cy="200" r="4" fill="#3b82f6" opacity="0.7">
      <animate attributeName="cy" values="200;215;200" dur="4s" repeatCount="indefinite" begin="0.5s"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4s" repeatCount="indefinite" begin="0.5s"/>
      <animate attributeName="fill" values="#3b82f6;#ec4899;#8b5cf6;#a855f7;#f43f5e;#06b6d4;#3b82f6" dur="9s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
    <circle cx="260" cy="200" r="3" fill="#8b5cf6" opacity="0.8">
      <animate attributeName="cy" values="200;175;200" dur="3.5s" repeatCount="indefinite" begin="1.5s"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3.5s" repeatCount="indefinite" begin="1.5s"/>
      <animate attributeName="fill" values="#8b5cf6;#06b6d4;#3b82f6;#a855f7;#ec4899;#f43f5e;#8b5cf6" dur="10s" repeatCount="indefinite" begin="1s"/>
    </circle>
    <circle cx="300" cy="200" r="4" fill="#ec4899" opacity="0.7">
      <animate attributeName="cy" values="200;205;200" dur="4s" repeatCount="indefinite" begin="2s"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4s" repeatCount="indefinite" begin="2s"/>
      <animate attributeName="fill" values="#ec4899;#3b82f6;#06b6d4;#8b5cf6;#a855f7;#f43f5e;#ec4899" dur="11s" repeatCount="indefinite" begin="1.5s"/>
    </circle>
    <circle cx="340" cy="200" r="3" fill="#06b6d4" opacity="0.8">
      <animate attributeName="cy" values="200;185;200" dur="3.5s" repeatCount="indefinite" begin="0.8s"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3.5s" repeatCount="indefinite" begin="0.8s"/>
      <animate attributeName="fill" values="#06b6d4;#ec4899;#8b5cf6;#a855f7;#3b82f6;#f43f5e;#06b6d4" dur="9.5s" repeatCount="indefinite" begin="2s"/>
    </circle>
    <circle cx="380" cy="200" r="4" fill="#3b82f6" opacity="0.7">
      <animate attributeName="cy" values="200;220;200" dur="4.5s" repeatCount="indefinite" begin="1.2s"/>
      <animate attributeName="opacity" values="0.7;1;0.7" dur="4.5s" repeatCount="indefinite" begin="1.2s"/>
      <animate attributeName="fill" values="#3b82f6;#8b5cf6;#ec4899;#a855f7;#f43f5e;#06b6d4;#3b82f6" dur="10.5s" repeatCount="indefinite" begin="0.8s"/>
    </circle>
    
    <!-- Wave 2 particles (layer 2) -->
    <circle cx="40" cy="180" r="2.5" fill="#8b5cf6" opacity="0.6">
      <animate attributeName="cy" values="180;210;180" dur="5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.6;0.9;0.6" dur="5s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#8b5cf6;#ec4899;#f43f5e;#06b6d4;#3b82f6;#a855f7;#8b5cf6" dur="12s" repeatCount="indefinite"/>
    </circle>
    <circle cx="80" cy="180" r="3" fill="#ec4899" opacity="0.5">
      <animate attributeName="cy" values="180;160;180" dur="4.5s" repeatCount="indefinite" begin="0.5s"/>
      <animate attributeName="opacity" values="0.5;0.9;0.5" dur="4.5s" repeatCount="indefinite" begin="0.5s"/>
      <animate attributeName="fill" values="#ec4899;#3b82f6;#8b5cf6;#a855f7;#f43f5e;#06b6d4;#ec4899" dur="10s" repeatCount="indefinite" begin="1s"/>
    </circle>
    <circle cx="120" cy="180" r="2.5" fill="#06b6d4" opacity="0.6">
      <animate attributeName="cy" values="180;195;180" dur="5s" repeatCount="indefinite" begin="1s"/>
      <animate attributeName="opacity" values="0.6;0.9;0.6" dur="5s" repeatCount="indefinite" begin="1s"/>
      <animate attributeName="fill" values="#06b6d4;#8b5cf6;#ec4899;#a855f7;#3b82f6;#f43f5e;#06b6d4" dur="11s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
    <circle cx="160" cy="180" r="3" fill="#3b82f6" opacity="0.5">
      <animate attributeName="cy" values="180;170;180" dur="4.5s" repeatCount="indefinite" begin="1.5s"/>
      <animate attributeName="opacity" values="0.5;0.9;0.5" dur="4.5s" repeatCount="indefinite" begin="1.5s"/>
      <animate attributeName="fill" values="#3b82f6;#ec4899;#06b6d4;#8b5cf6;#a855f7;#f43f5e;#3b82f6" dur="9.5s" repeatCount="indefinite" begin="1.5s"/>
    </circle>
    <circle cx="200" cy="180" r="2.5" fill="#8b5cf6" opacity="0.6">
      <animate attributeName="cy" values="180;200;180" dur="5s" repeatCount="indefinite" begin="0.3s"/>
      <animate attributeName="opacity" values="0.6;0.9;0.6" dur="5s" repeatCount="indefinite" begin="0.3s"/>
      <animate attributeName="fill" values="#8b5cf6;#06b6d4;#3b82f6;#ec4899;#f43f5e;#a855f7;#8b5cf6" dur="10.5s" repeatCount="indefinite" begin="2s"/>
    </circle>
    <circle cx="240" cy="180" r="3" fill="#ec4899" opacity="0.5">
      <animate attributeName="cy" values="180;165;180" dur="4.5s" repeatCount="indefinite" begin="0.8s"/>
      <animate attributeName="opacity" values="0.5;0.9;0.5" dur="4.5s" repeatCount="indefinite" begin="0.8s"/>
      <animate attributeName="fill" values="#ec4899;#8b5cf6;#3b82f6;#a855f7;#06b6d4;#f43f5e;#ec4899" dur="11.5s" repeatCount="indefinite" begin="0.8s"/>
    </circle>
    <circle cx="280" cy="180" r="2.5" fill="#06b6d4" opacity="0.6">
      <animate attributeName="cy" values="180;205;180" dur="5s" repeatCount="indefinite" begin="1.3s"/>
      <animate attributeName="opacity" values="0.6;0.9;0.6" dur="5s" repeatCount="indefinite" begin="1.3s"/>
      <animate attributeName="fill" values="#06b6d4;#3b82f6;#ec4899;#8b5cf6;#a855f7;#f43f5e;#06b6d4" dur="9s" repeatCount="indefinite" begin="1.3s"/>
    </circle>
    <circle cx="320" cy="180" r="3" fill="#3b82f6" opacity="0.5">
      <animate attributeName="cy" values="180;175;180" dur="4.5s" repeatCount="indefinite" begin="1.8s"/>
      <animate attributeName="opacity" values="0.5;0.9;0.5" dur="4.5s" repeatCount="indefinite" begin="1.8s"/>
      <animate attributeName="fill" values="#3b82f6;#ec4899;#8b5cf6;#06b6d4;#a855f7;#f43f5e;#3b82f6" dur="10s" repeatCount="indefinite" begin="1.8s"/>
    </circle>
    <circle cx="360" cy="180" r="2.5" fill="#ec4899" opacity="0.6">
      <animate attributeName="cy" values="180;190;180" dur="5s" repeatCount="indefinite" begin="2.3s"/>
      <animate attributeName="opacity" values="0.6;0.9;0.6" dur="5s" repeatCount="indefinite" begin="2.3s"/>
      <animate attributeName="fill" values="#ec4899;#06b6d4;#8b5cf6;#a855f7;#3b82f6;#f43f5e;#ec4899" dur="12s" repeatCount="indefinite" begin="2.3s"/>
    </circle>
    
    <!-- Wave 3 particles (layer 3) -->
    <circle cx="30" cy="220" r="2" fill="#3b82f6" opacity="0.5">
      <animate attributeName="cy" values="220;235;220" dur="6s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="6s" repeatCount="indefinite"/>
      <animate attributeName="fill" values="#3b82f6;#8b5cf6;#ec4899;#a855f7;#f43f5e;#06b6d4;#3b82f6" dur="13s" repeatCount="indefinite"/>
    </circle>
    <circle cx="90" cy="220" r="2.5" fill="#8b5cf6" opacity="0.4">
      <animate attributeName="cy" values="220;210;220" dur="5.5s" repeatCount="indefinite" begin="0.7s"/>
      <animate attributeName="opacity" values="0.4;0.8;0.4" dur="5.5s" repeatCount="indefinite" begin="0.7s"/>
      <animate attributeName="fill" values="#8b5cf6;#ec4899;#06b6d4;#a855f7;#3b82f6;#f43f5e;#8b5cf6" dur="11s" repeatCount="indefinite" begin="0.7s"/>
    </circle>
    <circle cx="150" cy="220" r="2" fill="#ec4899" opacity="0.5">
      <animate attributeName="cy" values="220;230;220" dur="6s" repeatCount="indefinite" begin="1.4s"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="6s" repeatCount="indefinite" begin="1.4s"/>
      <animate attributeName="fill" values="#ec4899;#06b6d4;#3b82f6;#8b5cf6;#a855f7;#f43f5e;#ec4899" dur="12s" repeatCount="indefinite" begin="1.4s"/>
    </circle>
    <circle cx="210" cy="220" r="2.5" fill="#06b6d4" opacity="0.4">
      <animate attributeName="cy" values="220;215;220" dur="5.5s" repeatCount="indefinite" begin="2.1s"/>
      <animate attributeName="opacity" values="0.4;0.8;0.4" dur="5.5s" repeatCount="indefinite" begin="2.1s"/>
      <animate attributeName="fill" values="#06b6d4;#3b82f6;#8b5cf6;#ec4899;#a855f7;#f43f5e;#06b6d4" dur="10s" repeatCount="indefinite" begin="2.1s"/>
    </circle>
    <circle cx="270" cy="220" r="2" fill="#3b82f6" opacity="0.5">
      <animate attributeName="cy" values="220;240;220" dur="6s" repeatCount="indefinite" begin="0.4s"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="6s" repeatCount="indefinite" begin="0.4s"/>
      <animate attributeName="fill" values="#3b82f6;#ec4899;#8b5cf6;#06b6d4;#a855f7;#f43f5e;#3b82f6" dur="11.5s" repeatCount="indefinite" begin="0.4s"/>
    </circle>
    <circle cx="330" cy="220" r="2.5" fill="#ec4899" opacity="0.4">
      <animate attributeName="cy" values="220;205;220" dur="5.5s" repeatCount="indefinite" begin="1.1s"/>
      <animate attributeName="opacity" values="0.4;0.8;0.4" dur="5.5s" repeatCount="indefinite" begin="1.1s"/>
      <animate attributeName="fill" values="#ec4899;#8b5cf6;#06b6d4;#3b82f6;#a855f7;#f43f5e;#ec4899" dur="13s" repeatCount="indefinite" begin="1.1s"/>
    </circle>
    <circle cx="370" cy="220" r="2" fill="#8b5cf6" opacity="0.5">
      <animate attributeName="cy" values="220;225;220" dur="6s" repeatCount="indefinite" begin="1.8s"/>
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="6s" repeatCount="indefinite" begin="1.8s"/>
      <animate attributeName="fill" values="#8b5cf6;#06b6d4;#ec4899;#3b82f6;#f43f5e;#a855f7;#8b5cf6" dur="12s" repeatCount="indefinite" begin="1.8s"/>
    </circle>
  </g>
  
  <!-- Stylized M made of connected nodes (social network concept) -->
  <g transform="translate(200, 200) rotate(180)">
    <!-- Main connection lines -->
    <line x1="-60" y1="-40" x2="-30" y2="40" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    <line x1="-30" y1="40" x2="0" y2="-20" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    <line x1="0" y1="-20" x2="30" y2="40" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    <line x1="30" y1="40" x2="60" y2="-40" stroke="url(#wave1)" stroke-width="6" opacity="0.6" stroke-linecap="round"/>
    
    <!-- Subtle secondary connections -->
    <line x1="-60" y1="-40" x2="0" y2="-20" stroke="rgba(139, 92, 246, 0.15)" stroke-width="1.5" opacity="0.5" stroke-dasharray="3,6">
      <animate attributeName="opacity" values="0.3;0.5;0.3" dur="4s" repeatCount="indefinite"/>
    </line>
    <line x1="0" y1="-20" x2="60" y2="-40" stroke="rgba(59, 130, 246, 0.15)" stroke-width="1.5" opacity="0.5" stroke-dasharray="3,6">
      <animate attributeName="opacity" values="0.3;0.5;0.3" dur="4s" repeatCount="indefinite" begin="1s"/>
    </line>
    
    <!-- Nodes (connection points) -->
    <circle cx="-60" cy="-40" r="12" fill="#06b6d4" filter="url(#glow)">
      <animate attributeName="r" values="12;14;12" dur="2s" repeatCount="indefinite"/>
    </circle>
    <circle cx="-30" cy="40" r="10" fill="#3b82f6" filter="url(#glow)">
      <animate attributeName="r" values="10;12;10" dur="2s" repeatCount="indefinite" begin="0.3s"/>
    </circle>
    <circle cx="0" cy="-20" r="14" fill="#8b5cf6" filter="url(#glow)">
      <animate attributeName="r" values="14;16;14" dur="2s" repeatCount="indefinite" begin="0.6s"/>
    </circle>
    <circle cx="30" cy="40" r="10" fill="#ec4899" filter="url(#glow)">
      <animate attributeName="r" values="10;12;10" dur="2s" repeatCount="indefinite" begin="0.9s"/>
    </circle>
    <circle cx="60" cy="-40" r="12" fill="#ec4899" filter="url(#glow)">
      <animate attributeName="r" values="12;14;12" dur="2s" repeatCount="indefinite" begin="1.2s"/>
    </circle>
    
    <!-- Additional connection nodes (smaller) -->
    <circle cx="-45" cy="0" r="6" fill="white" opacity="0.6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="15" cy="10" r="6" fill="white" opacity="0.6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="1s"/>
    </circle>
    <circle cx="45" cy="0" r="6" fill="white" opacity="0.6">
      <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="2s"/>
    </circle>
  </g>
  
  <!-- Orbit ring effect with motion trail -->
  <g>
    <!-- Motion blur trails -->
    <circle cx="200" cy="200" r="100" fill="none" stroke="url(#trailGradient)" stroke-width="6" opacity="0.3" stroke-dasharray="5,15">
      <animateTransform
        attributeName="transform"
        type="rotate"
        from="0 200 200"
        to="360 200 200"
        dur="8s"
        repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.6;0.3" dur="2s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="200" cy="200" r="100" fill="none" stroke="url(#trailGradient)" stroke-width="4" opacity="0.2" stroke-dasharray="8,12">
      <animateTransform
        attributeName="transform"
        type="rotate"
        from="30 200 200"
        to="390 200 200"
        dur="8s"
        repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.2;0.5;0.2" dur="2s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
    
    <!-- Main ring -->
    <circle cx="200" cy="200" r="100" fill="none" stroke="rgba(139, 92, 246, 0.4)" stroke-width="2" stroke-dasharray="10,20" filter="url(#strongGlow)">
      <animateTransform
        attributeName="transform"
        type="rotate"
        from="0 200 200"
        to="360 200 200"
        dur="8s"
        repeatCount="indefinite"/>
      <animate attributeName="stroke" values="rgba(139, 92, 246, 0.4);rgba(59, 130, 246, 0.4);rgba(236, 72, 153, 0.4);rgba(168, 85, 247, 0.4);rgba(244, 63, 94, 0.4);rgba(6, 182, 212, 0.4);rgba(139, 92, 246, 0.4)" dur="8s" repeatCount="indefinite"/>
    </circle>
    
    <!-- Bright accent points that create the "speed" effect -->
    <circle cx="300" cy="200" r="4" fill="#8b5cf6" filter="url(#strongGlow)">
      <animateTransform
        attributeName="transform"
        type="rotate"
        from="0 200 200"
        to="360 200 200"
        dur="8s"
        repeatCount="indefinite"/>
      <animate attributeName="fill" values="#8b5cf6;#3b82f6;#ec4899;#a855f7;#f43f5e;#06b6d4;#8b5cf6" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="r" values="4;6;4" dur="1s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="100" cy="200" r="3" fill="#06b6d4" filter="url(#strongGlow)" opacity="0.8">
      <animateTransform
        attributeName="transform"
        type="rotate"
        from="0 200 200"
        to="360 200 200"
        dur="8s"
        repeatCount="indefinite"/>
      <animate attributeName="fill" values="#06b6d4;#8b5cf6;#ec4899;#3b82f6;#a855f7;#f43f5e;#06b6d4" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="r" values="3;5;3" dur="1s" repeatCount="indefinite" begin="0.5s"/>
    </circle>
  </g>
</svg>
</file>

<file path="package.json">
{
  "dependencies": {
    "firebase": "^12.6.0"
  }
}
</file>

<file path="prompts_tags.txt">
1. Cambiar el enfoque: de palabra a intencin + contexto

En tu prompt a Groq, en vez de que cada categora sea solo una lista de palabras, que sea algo as:

Idea principal del hashtag.

Cundo usarlo (intenciones tpicas).

Cundo NO usarlo (errores comunes / excepciones).

Ejemplos positivos y negativos.

As Groq razona semnticamente, no por coincidencia literal.

Ejemplo con #finanzas y el caso plata
{
  "tag": "#finanzas",
  "idea_principal": "El post habla principalmente de dinero, economa personal o del pas.",
  "cuando_usar": [
    "Se habla de ahorrar, invertir, gastar o administrar dinero",
    "Se menciona que falta plata, deudas, sueldos, precios, inflacin",
    "Se habla de que le robaron o perdi plata (problemas de dinero)"
  ],
  "no_usar_cuando": [
    "La palabra 'plata' es parte de un lugar (Mar del Plata, La Plata)",
    "La palabra 'plata' aparece pero el foco real es un viaje, una ancdota o un recuerdo y no la situacin econmica"
  ],
  "subtags": {
    "#ahorro": "Solo si la intencin principal es guardar o acumular dinero, objetivos, metas de ahorro.",
    "#gastos": "Cuando el foco es gastar/consumir, compras, derroche, cuentas.",
    "#deudas": "Cuando el foco son deudas, pagos pendientes, tarjetas hasta las manos, etc."
  }
}


Con eso, Groq puede:

Me robaron plata en el bondi  #finanzas, #inseguridad (si lo agregs), NO #ahorro.

Me fui a Mar del Plata con la familia  #viajes, #argentina, #marDelPlata, #verano, NO #finanzas.

La clave es que en el prompt le digas algo tipo:

No uses un hashtag solo porque aparece una palabra suelta. Usalo solo si el tema principal del post coincide con la definicin de la etiqueta.

2. Revisin de TODAS las categoras con contexto lgico

Te dejo cada grupo con:

Idea principal

Cundo usar

Cundo no usar / cuidado

No repito todas las palabras que ya listaste, las doy como subtemas tpicos (ya las tens bien).

#comida / #food

Idea: El foco es la comida que se come o se prepara.

Usar cuando: Se habla de desayunos, almuerzos, recetas, salidas a comer, delivery, comidas caseras, etc.

No usar cuando: La comida es apenas un detalle dentro de otra cosa (ej: estudiando para el parcial, comiendo una tostada  foco = estudio).

#bebidas / #drinks

Idea: El foco son las bebidas (caf, mate, tragos, gaseosas, alcohol, etc.).

Usar cuando: El post es sobre tomar algo, salir a un bar, mostrar un trago, un nuevo caf, foto de la birra.

No usar cuando: La bebida es totalmente secundaria (charlando de la vida con un caf en la mano  capaz va ms a #reflexin).

#salud / #health

Idea: Salud fsica y mental, cuidado del cuerpo, bienestar.

Usar cuando: Se habla de enfermedades, mdicos, terapia, gimnasio por salud, nutricin, sueo, salud mental.

No usar cuando: Se menciona me duele la panza de la risa o cosas figuradas graciosas  eso es #humor.

#deporte / #sports

Idea: Actividad fsica como competencia, entrenamiento o pasin deportiva.

Usar cuando: Partidos, entrenamientos, Mundial, equipo favorito, resultados.

No usar cuando: La actividad fsica es secundaria a otra cosa (ej: fui a correr solo para despejarme por una ruptura amorosa  foco quizs #amor / #reflexin).

#msica / #music

Idea: Msica como tema central.

Usar cuando: Canciones, playlists, artistas, conciertos, opiniones musicales.

No usar cuando: La msica solo acompaa algo (ej: estudiando con msica de fondo  foco #educacin).

#entretenimiento / #entertainment

Idea: Consumir contenido para entretenerse (pelis, series, TV, plataformas).

Usar cuando: Maratn de Netflix, fuimos al cine, viendo tal serie.

No usar cuando: El foco real es social (ej: juntada con amigos donde la peli es excusa  ms #amigos / #fiesta).

#videojuegos / #gaming

Idea: Gaming como actividad principal.

Usar cuando: Se habla del juego en s, partidas, rankings, consolas, Twitch.

No usar cuando: Solo se menciona como excusa (llego tarde porque me colgu jugando y el post es sobre otra cosa).

#tecnologa / #tech

Idea: Dispositivos, apps, innovacin, problemas/alegras tech.

Usar cuando: Se habla de celulares, PCs, bugs, nueva app, IA, 5G, etc.

No usar cuando: Los dispositivos solo aparecen porque es una foto cualquiera (selfie tomada con mi iPhone  no es #tech).

#redes / #socialmedia / #redessociales

Idea: Plataformas sociales y creacin de contenido.

Usar cuando: Estrategias de redes, crecimiento, viralidad, reels, streamings, influencers.

No usar cuando: Simplemente se dice sub esto a Instagram pero el foco es otra cosa (paisaje, reflexin, etc.).

#moda / #fashion

Idea: Ropa, estilo, look, tendencias.

Usar cuando: Outfit del da, compras de ropa, zapatillas nuevas, desfiles, estilo personal.

No usar cuando: La ropa es circunstancial (nuevo trabajo, ac con camisa  foco en #trabajo).

#belleza / #beauty

Idea: Cuidado personal esttico.

Usar cuando: Maquillaje, skincare, peluquera, uas, tratamientos, spa.

No usar cuando: Se habla de belleza metafrica o filosfica (la belleza de la vida  eso va a #reflexin).

#viajes / #travel

Idea: Viajar como experiencia principal.

Usar cuando: Planear, hacer o recordar viajes, vacaciones, turismo, mochilas, vuelos, hoteles.

Cuidado con: Ciudades que son tambin palabras comunes.

Me fui a Mar del Plata con la familia  #viajes, #argentina, #marDelPlata, #verano.

No tengo plata para viajar  #finanzas, #viajes solo si el foco sigue siendo el viaje frustrado.

No usar cuando: El viaje es mnimo contexto (ej: en el taxi pensando en la vida  foco #reflexin).

#argentina

Idea: Identidad o contexto argentino como parte relevante del post.

Usar cuando: Se menciona una ciudad o provincia argentina y eso importa: cultura, poltica, costumbres, lugares, aguante Argentina.

No usar cuando: Solo se menciona de pasada pero el foco es un tema universal que no depende de la ubicacin.

#buenosaires / #bsas / #caba

Idea: Vida, lugares o experiencias especficas de Buenos Aires / CABA.

Usar cuando: Se habla de barrios porteos, el Obelisco, el Bondi, el subte, vida portea.

No usar cuando: Alguien de BSAS habla de algo genrico donde la ciudad no aporta nada al contenido.

#educacin / #education

Idea: Estudio, aprendizaje formal e informal.

Usar cuando: Facultad, escuela, exmenes, cursos, estudiar, profes, parciales, finales.

No usar cuando: El estudio es ancdota y el foco es otra cosa (ej: no me entra nada en la cabeza, estoy destruido  podra ser ms #saludMental / #reflexin).

#trabajo / #work

Idea: Mundo laboral, carrera, proyectos profesionales.

Usar cuando: Empleo, entrevistas, reuniones, colegas, jefes, productividad laboral.

No usar cuando: El trabajo es contexto pero el foco es otra emocin (ej: odio mi vida por burnout  quizs #saludMental / #reflexin adems de #trabajo).

#finanzas / #finance  (el conflictivo)

Idea: Dinero, economa personal o general.

Usar cuando:

Se habla de plata/guita/dinero como tema central (ahorrar, gastar, cobrar, precios, inflacin).

Se mencionan deudas, prstamos, tarjetas, aumento de sueldo.

Se habla de que le robaron o perdieron plata  sigue siendo problema financiero.

No usar cuando:

Plata es parte de un lugar: Mar del Plata, La Plata.

El dinero es secundario a otra cosa (un chiste, un recuerdo, un viaje).

Subtags lgicos (si quers refinar):

#ahorro  meta: guardar plata, juntar para algo.

#gastos  compras, consumismo, me fund.

#deudas  tarjetas, cuotas, no llegar a fin de mes.

#inversiones  crypto, bolsa, plazos fijos, etc.

#auto / #car

Idea: Autos como tema principal.

Usar cuando: Compra/venta, arreglos, mecnica, viajes en auto, opiniones de modelos.

No usar cuando: El auto es detalle (en el auto camino al psiclogo  foco #salud / #reflexin).

#moto / #motorcycle

Igual lgica que #auto, pero orientado a motos, bikers, delivery en moto, viajes en moto.

#bicicleta / #bike

Igual lgica: bici como protagonista (salidas en bici, MTB, ciclovas).

#transporte / #transport

Idea: Medios de transporte como parte relevante de la experiencia.

Usar cuando: Quejas del bondi, del subte, trenes, aviones, taxis, apps tipo Uber.

No usar cuando: Es un simple medio de fondo.

#hogar / #home

Idea: Vivienda y vida en casa.

Usar cuando: Mudanzas, alquileres, decoraciones, limpieza, arreglos, jardinera.

No usar cuando: En casa pensando en la vida y el foco es la reflexin.

#mascotas / #pets

Idea: Animales de compaa.

Usar cuando: Fotos o historias de perros, gatos, adopciones, vet, juegos.

No usar cuando: Se usan animales solo como metforas (me siento un perro).

#naturaleza / #nature

Idea: Contacto con la naturaleza.

Usar cuando: Campo, montaa, playa (foco paisaje), camping, trekking, flora, fauna.

No usar cuando: La naturaleza es fondo casual en una foto de amigos/fiesta (ah pesa ms #amigos / #fiesta).

#fotografa / #photography

Idea: La foto como arte o hobby.

Usar cuando: Se habla de cmaras, lentes, edicin, composicin, foto como objetivo.

No usar cuando: Es solo una foto que ilustra otra cosa sin hablar de la foto en s.

#arte / #art

Idea: Creacin artstica.

Usar cuando: Dibujos, pinturas, diseo, ilustraciones, murales, arte digital.

No usar cuando: Se habla de el arte de vivir en tono filosfico  #reflexin.

#libros / #books

Idea: Lectura y literatura.

Usar cuando: Libros, autores, reseas, citas literarias, recomendaciones.

No usar cuando: Una frase suelta que parece quote de libro pero es reflexin personal  mejor #reflexin.

#cine / #movies

Idea: Pelculas y su mundo.

Usar cuando: Ir al cine, hablar de una peli, crtica, premios, estrenos.

No usar cuando: Solo se menciona viendo una peli con amigos y el foco es la juntada  #amigos / #fiesta.

#series / #tvseries

Idea: Series y maratones.

Usar cuando: Habls de temporadas, episodios, personajes, finales, spoilers.

No usar cuando: La serie es ruido de fondo.

#fiesta / #party

Idea: Salir, festejar, joda.

Usar cuando: Cumpleaos, boliche, previas, bar, baile, noche con tragos y amigos.

No usar cuando: Es un brindis tranqui en casa cuyo foco es familia o pareja.

#amor / #love

Idea: Relacin afectiva romntica.

Usar cuando: Parejas, citas, relaciones, rupturas amorosas, relaciones serias.

No usar cuando: Amor genrico por cosas (amo la pizza)  mejor #comida / #lifestyle.

#familia / #family

Idea: Vnculos familiares.

Usar cuando: Reuniones familiares, abuelos, hijos, padres, asados familiares.

No usar cuando: Se menciona de pasada (mi vieja me trajo un caf pero y el foco es otra cosa).

#amigos / #friends

Idea: Vnculos de amistad.

Usar cuando: Juntadas, ancdotas con amigos, valor de la amistad.

No usar cuando: Gente random en boliche sin que la amistad sea el tema.

#lifestyle / #estilodeVida

Idea: Cmo vive la persona, su rutina y forma de encarar la vida.

Usar cuando: Post de mi da a da, hbitos, cambios de vida, rutinas, momentos cotidianos.

No usar cuando: El tema est claramente mejor representado por otra etiqueta ms especfica.

#humor / #funny

Idea: El objetivo es hacer rer.

Usar cuando: Memes, chistes, comentarios irnicos, situaciones ridculas contadas con intencin humorstica.

No usar cuando: Hay jaja pero el tema es serio (ej: trauma, salud mental, duelo) y el humor es defensivo.

#noticias / #news

Idea: Informacin sobre hechos de la realidad.

Usar cuando: Se comenta una noticia, un hecho actual, poltica, economa, sucesos.

No usar cuando: Es opinin personal sin referencia a nada actual (ms #reflexin).

#clima / #weather

Idea: El tiempo atmosfrico como tema.

Usar cuando: Se habla de lluvia, calor, fro, tormentas, pronsticos.

No usar cuando: El clima se menciona de pasada (da de lluvia ideal para leer  foco puede ser #libros / #reflexin).

#motivacin / #motivation

Idea: Post para levantar, impulsar, inspirar accin.

Usar cuando: Frases motivacionales, logros, hablar de disciplina, metas, superacin.

No usar cuando: Es una reflexin ms existencial o neutral.

#reflexin / #thoughts

Idea: Pensamientos profundos, procesar cosas, aprendizajes.

Usar cuando: Textos largos, introspectivos, lecciones de vida, filosofa personal.

No usar cuando: Es una simple descripcin de lo que pas sin profundidad.

Das de la semana (#domingo, #lunes, #viernes, #sbado)

Idea: El clima emocional y tpico del da.

Usar cuando:

#domingo  vibe dominguero, asado, relax, ftbol.

#lunes  arranque de semana, paja, caf del lunes, volver a la rutina.

#viernes  comienzo del finde, planes, after office.

#sbado  salidas, da libre, planes de sbado.

No usar cuando: El da solo est en el timestamp o se nombra sin que importe al contenido.

Estaciones (#verano / #summer, #invierno / #winter)

Idea: La estacin como parte de la experiencia.

Usar cuando: Se habla de calor, playa, helado, pileta  #verano. O fro, nieve, mantas, chocolate caliente  #invierno.

No usar cuando: Fecha de calendario sin relevancia en lo que se cuenta.

3. Cmo meter todo esto en Groq (idea rpida)

Pods armar algo as:

Le pass a Groq:

El texto del post.

Una lista de categoras, donde cada una tiene:

tag

idea_principal

cuando_usar

no_usar_cuando

subtags (opcional)

Y le peds:

Devolveme un JSON con los hashtags que correspondan, usando solo los que coinciden con el tema principal o secundario fuerte del post, siguiendo estrictamente las descripciones que te paso.









1. Prompt para Groq (en espaol)

Usalo como system o como prompt principal del modelo:

Actus como un clasificador de hashtags para una red social argentina.

Tu tarea es:
- Leer el texto de un post.
- Leer una lista de categoras con sus reglas.
- Elegir SOLO los hashtags que tengan sentido segn el CONTEXTO y la INTENCIN del mensaje, no solo por palabras sueltas.
- Devolver un JSON con los hashtags ms relevantes.

REGLAS GENERALES

1. No asignes un hashtag solo porque aparece una palabra similar.
   - Mir siempre el tema principal del post.
   - Pods agregar algn tema secundario fuerte, pero nunca algo tangencial.

2. Us estrictamente las definiciones de cada categora:
   - "idea_principal": de qu trata realmente ese hashtag.
   - "cuando_usar": situaciones donde ese hashtag es adecuado.
   - "no_usar_cuando": casos donde, aunque la palabra aparezca, NO corresponde usarlo.
   - "subtags": hashtags ms especficos que solo se usan si la intencin coincide muy claramente.

3. No inventes hashtags que no estn en la lista de categoras ni en sus subtags.
   - Si algo no encaja bien, es mejor NO etiquetar que etiquetar mal.

4. Argentina / lenguaje:
   - Entends lunfardo y expresiones argentinas (plata, guita, bondi, finde, mardel, etc.).
   - Prest especial atencin a nombres de lugares que incluyen palabras ambiguas (Mar del Plata, La Plata).

5. Lmite de hashtags:
   - Devolv entre 1 y 5 hashtags como mximo.
   - Ordenados de ms relevante a menos relevante.

FORMATO DE ENTRADA

Recibs un JSON con este formato:

{
  "post_text": "TEXTO DEL POST",
  "categories": [
    {
      "tag": "#finanzas",
      "idea_principal": "...",
      "cuando_usar": ["...", "..."],
      "no_usar_cuando": ["...", "..."],
      "subtags": {
        "#ahorro": "...",
        "#gastos": "...",
        "#deudas": "..."
      }
    },
    {
      "tag": "#viajes",
      "idea_principal": "...",
      "cuando_usar": ["..."],
      "no_usar_cuando": ["..."],
      "subtags": {
        "#playa": "...",
        "#montaa": "...",
        "#citybreak": "..."
      }
    },
    ...
  ]
}

FORMATO DE SALIDA

Devolvs EXCLUSIVAMENTE un JSON con este formato:

{
  "hashtags": [
    {
      "tag": "#finanzas",
      "reason": "Breve explicacin de por qu este hashtag encaja con el post.",
      "confidence": 0.0-1.0
    },
    {
      "tag": "#ahorro",
      "reason": "",
      "confidence": 0.0-1.0
    }
  ]
}

- "hashtags" es una lista.
- "tag" puede ser una categora o un subtag.
- "confidence" es un nmero entre 0 y 1 (puede ser aproximado).
- No agregues otros campos.

REGLAS ESPECIALES PARA CASOS AMBIGUOS

1) Palabra "plata" (dinero) vs "Mar del Plata" / "La Plata" (lugares)

- Si aparece "Mar del Plata", "Mardel", "MDQ", "La Feliz":
  - Interpretalo como ciudad turstica en Argentina.
  - Esto favorece hashtags de viaje / ciudad (ej: #viajes, #argentina, #mardelplata, #vacaciones, #verano).
  - NO uses subtags de dinero como #ahorro solo por ver la palabra "Plata" dentro del nombre del lugar.

- Si aparece "La Plata" en contexto de ciudad (universidad, ciudad, ir a La Plata, etc.):
  - Tratlo como ciudad, no como dinero.

- Si aparece "plata" o "guita" SIN ser parte de un nombre de ciudad:
  - Interpretalo como dinero y evalu si el foco del texto es financiero segn las reglas de #finanzas.

2) Posts de ejemplo (criterio que debs seguir):

- "Me robaron plata en el bondi":
  - Foco en problema de dinero + inseguridad.
  - Puede ir #finanzas, pero NO #ahorro.
  - NUNCA lo etiquetes como ciudad.

- "Me fui a Mar del Plata con la familia, qu feliz que soy":
  - Foco en viaje / vacaciones.
  - Usar hashtags de viaje/lugar (#viajes, #argentina, #mardelplata, #familia, #verano segn definiciones).
  - NO #finanzas, NO #ahorro (a menos que el texto hable explcitamente de gastos o dinero).

- "Estoy ahorrando plata para comprarme un auto":
  - Foco en finanzas personales y ahorro.
  - #finanzas y #ahorro estn bien, posiblemente #auto si la categora existe y sus reglas lo permiten.

AL CLASIFICAR

1. Le el post completo y resum mentalmente:
   - De qu trata?
   - Qu emocin o tema central domina?
   - Qu temas secundarios aparecen con fuerza?

2. Para cada categora:
   - Si el post coincide claramente con la "idea_principal" y con al menos una condicin de "cuando_usar"  el hashtag es candidato.
   - Si cae en algn caso de "no_usar_cuando"  descartalo aunque haya palabras parecidas.

3. Para los subtags:
   - salos solo si la intencin del post calza muy bien con la definicin del subtag.
   - Ejemplo: #ahorro solo si el objetivo principal es guardar dinero, no simplemente tener plata o perder plata.

4. Eleg los mejores 1 a 5 hashtags y ordenalos por relevancia.

Record: prefer NINGN hashtag antes que un hashtag incorrecto.

2. Ejemplo de categoras (4 ejemplo: finanzas, viajes, argentina, humor)

Esto ira en el campo "categories" del JSON que le mands a Groq.

[
  {
    "tag": "#finanzas",
    "idea_principal": "El post habla principalmente de dinero, economa personal o del pas.",
    "cuando_usar": [
      "Se habla de ahorrar, invertir, gastar o administrar dinero",
      "Se menciona que falta plata, deudas, sueldos, precios, inflacin",
      "Se habla de que le robaron o perdi plata, como problema de dinero"
    ],
    "no_usar_cuando": [
      "La palabra 'Plata' aparece solo como parte de un nombre de lugar (Mar del Plata, La Plata)",
      "Se menciona dinero por arriba pero el foco real del post es un viaje, una relacin, una reflexin, etc."
    ],
    "subtags": {
      "#ahorro": "Usar solo cuando el objetivo principal del post es guardar o juntar dinero para algo (ej: metas de ahorro, alcancas, plazos fijos personales).",
      "#gastos": "Usar cuando el foco son compras, consumismo, pagar cuentas, 'me fund', 'gast todo'.",
      "#deudas": "Usar cuando se habla de prstamos, tarjetas al lmite, deudas que no se pueden pagar.",
      "#inversiones": "Usar cuando se habla de invertir en bolsa, crypto, inmuebles, etc."
    }
  },
  {
    "tag": "#viajes",
    "idea_principal": "El post trata sobre viajar, hacer turismo o planear/recordar un viaje.",
    "cuando_usar": [
      "Se cuenta un viaje pasado, presente o futuro",
      "Se mencionan vacaciones, turismo, mochileo, vuelos, hoteles",
      "Se habla de la experiencia de conocer lugares nuevos"
    ],
    "no_usar_cuando": [
      "El viaje es un detalle menor y el foco del post est en otro tema (ej: reflexin personal, trabajo, estudio)"
    ],
    "subtags": {
      "#playa": "Usar si el post se enfoca en la playa, el mar, la arena, tomar sol en la costa.",
      "#montaa": "Usar si el foco del viaje son montaas, trekking, nieve, paisajes serranos o cordilleranos.",
      "#citybreak": "Usar si el post trata de escapadas urbanas a ciudades (museos, bares, cultura ciudadana).",
      "#mardelplata": "Usar cuando el viaje es especficamente a Mar del Plata (MDQ, La Feliz) y eso es relevante.",
      "#lafeliz": "Usar en tono coloquial cuando se habla de Mar del Plata usando el apodo 'La Feliz'."
    }
  },
  {
    "tag": "#argentina",
    "idea_principal": "El post resalta que algo pasa en Argentina o tiene que ver con ciudades, cultura o identidad argentina.",
    "cuando_usar": [
      "Se menciona explcitamente Argentina o una ciudad/provincia argentina como parte importante del contenido",
      "Se habla de costumbres argentinas, lugares tursticos argentinos, poltica o economa del pas",
      "El post muestra orgullo o crtica sobre el pas"
    ],
    "no_usar_cuando": [
      "El lugar (Argentina o sus ciudades) se menciona solo como detalle sin relevancia para el tema del post"
    ],
    "subtags": {
      "#buenosaires": "Usar cuando el contenido gira en torno a Buenos Aires/CABA (barrios, vida portea, lugares icnicos).",
      "#costaargentina": "Usar cuando el post habla de la costa argentina en general (no solo una ciudad especfica)."
    }
  },
  {
    "tag": "#humor",
    "idea_principal": "El objetivo del post es hacer rer o compartir algo gracioso.",
    "cuando_usar": [
      "El tono del post es claramente cmico, irnico o de meme",
      "Se comparten chistes, memes, capturas graciosas, situaciones ridculas",
      "El texto incluye seales claras de humor (emojis, jaja, tono absurdo) y el tema no es principalmente dramtico o doloroso"
    ],
    "no_usar_cuando": [
      "El post trata temas sensibles (duelo, trauma, salud mental grave, violencia) aunque tenga algn 'jaja' defensivo",
      "El humor es mnimo y el foco principal es serio o reflexivo"
    ],
    "subtags": {
      "#meme": "Usar cuando el formato del contenido es explcitamente un meme (imagen/recuadro tpico de meme).",
      "#chiste": "Usar cuando el contenido es un chiste o una ancdota graciosa contada en texto."
    }
  }
]


En tu implementacin real, extends este array con TODAS tus categoras (#comida, #msica, #trabajo, etc.) siguiendo esta misma lgica.

3. Ejemplo de uso completo
Input que le mandaras al modelo
{
  "post_text": "Me fui a Mar del Plata con la familia, por fin vacaciones despus de laburar todo el ao. No me importa la plata que gast, la felicidad no tiene precio.",
  "categories": [
    {
      "tag": "#finanzas",
      "idea_principal": "El post habla principalmente de dinero, economa personal o del pas.",
      "cuando_usar": [
        "Se habla de ahorrar, invertir, gastar o administrar dinero",
        "Se menciona que falta plata, deudas, sueldos, precios, inflacin",
        "Se habla de que le robaron o perdi plata, como problema de dinero"
      ],
      "no_usar_cuando": [
        "La palabra 'Plata' aparece solo como parte de un nombre de lugar (Mar del Plata, La Plata)",
        "Se menciona dinero por arriba pero el foco real del post es un viaje, una relacin, una reflexin, etc."
      ],
      "subtags": {
        "#ahorro": "Usar solo cuando el objetivo principal del post es guardar o juntar dinero para algo (ej: metas de ahorro, alcancas, plazos fijos personales).",
        "#gastos": "Usar cuando el foco son compras, consumismo, pagar cuentas, 'me fund', 'gast todo'.",
        "#deudas": "Usar cuando se habla de prstamos, tarjetas al lmite, deudas que no se pueden pagar.",
        "#inversiones": "Usar cuando se habla de invertir en bolsa, crypto, inmuebles, etc."
      }
    },
    {
      "tag": "#viajes",
      "idea_principal": "El post trata sobre viajar, hacer turismo o planear/recordar un viaje.",
      "cuando_usar": [
        "Se cuenta un viaje pasado, presente o futuro",
        "Se mencionan vacaciones, turismo, mochileo, vuelos, hoteles",
        "Se habla de la experiencia de conocer lugares nuevos"
      ],
      "no_usar_cuando": [
        "El viaje es un detalle menor y el foco del post est en otro tema (ej: reflexin personal, trabajo, estudio)"
      ],
      "subtags": {
        "#playa": "Usar si el post se enfoca en la playa, el mar, la arena, tomar sol en la costa.",
        "#montaa": "Usar si el foco del viaje son montaas, trekking, nieve, paisajes serranos o cordilleranos.",
        "#citybreak": "Usar si el post trata de escapadas urbanas a ciudades (museos, bares, cultura ciudadana).",
        "#mardelplata": "Usar cuando el viaje es especficamente a Mar del Plata (MDQ, La Feliz) y eso es relevante.",
        "#lafeliz": "Usar en tono coloquial cuando se habla de Mar del Plata usando el apodo 'La Feliz'."
      }
    },
    {
      "tag": "#argentina",
      "idea_principal": "El post resalta que algo pasa en Argentina o tiene que ver con ciudades, cultura o identidad argentina.",
      "cuando_usar": [
        "Se menciona explcitamente Argentina o una ciudad/provincia argentina como parte importante del contenido",
        "Se habla de costumbres argentinas, lugares tursticos argentinos, poltica o economa del pas",
        "El post muestra orgullo o crtica sobre el pas"
      ],
      "no_usar_cuando": [
        "El lugar (Argentina o sus ciudades) se menciona solo como detalle sin relevancia para el tema del post"
      ],
      "subtags": {
        "#buenosaires": "Usar cuando el contenido gira en torno a Buenos Aires/CABA (barrios, vida portea, lugares icnicos).",
        "#costaargentina": "Usar cuando el post habla de la costa argentina en general (no solo una ciudad especfica)."
      }
    },
    {
      "tag": "#humor",
      "idea_principal": "El objetivo del post es hacer rer o compartir algo gracioso.",
      "cuando_usar": [
        "El tono del post es claramente cmico, irnico o de meme",
        "Se comparten chistes, memes, capturas graciosas, situaciones ridculas",
        "El texto incluye seales claras de humor (emojis, jaja, tono absurdo) y el tema no es principalmente dramtico o doloroso"
      ],
      "no_usar_cuando": [
        "El post trata temas sensibles (duelo, trauma, salud mental grave, violencia) aunque tenga algn 'jaja' defensivo",
        "El humor es mnimo y el foco principal es serio o reflexivo"
      ],
      "subtags": {
        "#meme": "Usar cuando el formato del contenido es explcitamente un meme (imagen/recuadro tpico de meme).",
        "#chiste": "Usar cuando el contenido es un chiste o una ancdota graciosa contada en texto."
      }
    }
  ]
}

Output esperado del modelo
{
  "hashtags": [
    {
      "tag": "#viajes",
      "reason": "El post trata principalmente de unas vacaciones en Mar del Plata despus de trabajar todo el ao.",
      "confidence": 0.97
    },
    {
      "tag": "#mardelplata",
      "reason": "Se menciona explcitamente Mar del Plata como destino central del viaje.",
      "confidence": 0.94
    },
    {
      "tag": "#argentina",
      "reason": "Mar del Plata es una ciudad turstica de Argentina y el contexto es un viaje dentro del pas.",
      "confidence": 0.86
    },
    {
      "tag": "#familia",
      "reason": "El viaje se describe como una experiencia compartida con la familia.",
      "confidence": 0.8
    },
    {
      "tag": "#verano",
      "reason": "El tono y el contexto de vacaciones en la costa sugieren clima de verano.",
      "confidence": 0.72
    }
  ]
}


(En este ejemplo supongo que tambin definiste las categoras #familia y #verano en tu lista completa.)
</file>

<file path="public/index.html">
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/12.6.0/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/12.6.0/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/12.6.0/firebase-performance-compat.js"></script>
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <style media="screen">
      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        body { border-top: 16px solid #ffa100; }
      }
    </style>
  </head>
  <body>
    <div id="message">
      <h2>Welcome</h2>
      <h1>Firebase Hosting Setup Complete</h1>
      <p>You're seeing this because you've successfully setup Firebase Hosting. Now it's time to go build something extraordinary!</p>
      <a target="_blank" href="https://firebase.google.com/docs/hosting/">Open Hosting Documentation</a>
    </div>
    <p id="load">Firebase SDK Loading&hellip;</p>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const loadEl = document.querySelector('#load');
        // // 
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.firestore().doc('/foo/bar').get().then(() => { });
        // firebase.functions().httpsCallable('yourFunction')().then(() => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        // firebase.analytics(); // call to activate
        // firebase.analytics().logEvent('tutorial_completed');
        // firebase.performance(); // call to activate
        //
        // // 

        try {
          let app = firebase.app();
          let features = [
            'auth', 
            'database', 
            'firestore',
            'functions',
            'messaging', 
            'storage', 
            'analytics', 
            'remoteConfig',
            'performance',
          ].filter(feature => typeof app[feature] === 'function');
          loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e) {
          console.error(e);
          loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
        }
      });
    </script>
  </body>
</html>
</file>

<file path="render.yaml">
services:
  - type: web
    name: socialnetwork-api
    env: node
    region: oregon
    plan: free
    buildCommand: cd backend && npm install && npm run postinstall
    startCommand: cd backend && npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: DATABASE_URL
        sync: false
      - key: JWT_SECRET
        sync: false
      - key: GROQ_API_KEY
        sync: false
      - key: GROQ_MODEL
        value: llama-3.1-8b-instant
      - key: GROQ_ENABLED
        value: "true"
      - key: CLOUDINARY_CLOUD_NAME
        sync: false
      - key: CLOUDINARY_API_KEY
        sync: false
      - key: CLOUDINARY_API_SECRET
        sync: false
      - key: FRONTEND_URL
        value: https://socialnetwork.onrender.com

  - type: web
    name: socialnetwork-web
    env: node
    region: oregon
    plan: free
    buildCommand: cd frontend && npm install && npm run build
    startCommand: cd backend && npm start:full
    envVars:
      - key: NODE_ENV
        value: production
      - key: VITE_API_URL
        value: /api
</file>

<file path="urlscralepr.py">
import csv
import os
import time
import random
from datetime import datetime

from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC


OUTPUT_CSV = "9gag_urls.csv"
MAX_URLS_PER_CATEGORY = 50
PAGE_LOAD_TIMEOUT = 30

CATEGORIES = {
    "oldmeme": "https://9gag.com/interest/oldmeme",
    "anime": "https://9gag.com/interest/anime",
    "news": "https://9gag.com/interest/news",
    "cosplay": "https://9gag.com/interest/cosplay",
    "politics": "https://9gag.com/interest/politics",
    "memes": "https://9gag.com/interest/memes",
    "games": "https://9gag.com/interest/games",
    "wtf": "https://9gag.com/interest/wtf",
    "relationship": "https://9gag.com/interest/relationship",
    "music": "https://9gag.com/interest/music",
    "motorvehicles": "https://9gag.com/interest/motorvehicles",
    "animals": "https://9gag.com/interest/animals",
    "science": "https://9gag.com/interest/science",
    "comic": "https://9gag.com/interest/comic",
    "wholesome": "https://9gag.com/interest/wholesome",
    "sports": "https://9gag.com/interest/sports",
    "movies": "https://9gag.com/interest/movies",
    "cats": "https://9gag.com/interest/cats",
    "food": "https://9gag.com/interest/food",
    "lifestyle": "https://9gag.com/interest/lifestyle",
}


def extract_video_id(url):
    """Extrae el ID nico del video (ej: aE0jr5o de ambas variantes)"""
    if not url:
        return None
    try:
        # Extraer el nombre del archivo sin extensin
        # /photo/aE0jr5o_460sv.mp4 -> aE0jr5o_460sv
        filename = url.split('/')[-1].replace('.mp4', '')
        
        # Remover variantes (_460sv, _460svav1, etc)
        # aE0jr5o_460sv -> aE0jr5o
        video_id = filename.split('_')[0]
        
        return video_id
    except:
        return None


def load_existing_urls(csv_path):
    """Carga URLs ya extradas para evitar duplicados"""
    urls = set()
    video_ids = set()
    
    if not os.path.exists(csv_path):
        return urls, video_ids

    with open(csv_path, newline="", encoding="utf-8") as f:
        reader = csv.DictReader(f)
        for row in reader:
            url = row["url"]
            urls.add(url)
            
            # Guardar tambin el ID del video
            vid_id = extract_video_id(url)
            if vid_id:
                video_ids.add(vid_id)
    
    return urls, video_ids


def setup_driver():
    """Configura Chrome con opciones anti-deteccin y bloqueador de ads"""
    options = Options()
    
    # User-Agent realista (actualiza si es necesario)
    options.add_argument('user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36')
    
    # Anti-deteccin crtica
    options.add_argument("--disable-blink-features=AutomationControlled")
    options.add_experimental_option("excludeSwitches", ["enable-automation"])
    options.add_experimental_option('useAutomationExtension', False)
    
    # Opciones de navegador
    options.add_argument("--start-maximized")
    options.add_argument("--disable-notifications")
    options.add_argument("--disable-infobars")
    
    # SSL y seguridad
    options.add_argument("--ignore-certificate-errors")
    options.add_argument("--ignore-ssl-errors")
    
    # Reducir logs
    options.add_argument("--log-level=3")
    
    #  LIMPIAR CACHE Y COOKIES (empezar fresco)
    options.add_argument("--incognito")  # Modo incgnito
    options.add_argument("--disable-application-cache")
    options.add_argument("--disk-cache-size=0")
    
    # Bloquear ads y trackers (mejora la velocidad)
    prefs = {
        "profile.managed_default_content_settings.images": 2,  # Bloquear imgenes (acelera carga)
        "profile.default_content_setting_values": {
            "notifications": 2,
            "media_stream_mic": 2,
            "media_stream_camera": 2,
        }
    }
    options.add_experimental_option("prefs", prefs)
    
    driver = webdriver.Chrome(options=options)
    driver.set_page_load_timeout(PAGE_LOAD_TIMEOUT)
    
    # Ocultar webdriver property
    driver.execute_script("Object.defineProperty(navigator, 'webdriver', {get: () => undefined})")
    
    # Script para bloquear requests de ads
    driver.execute_cdp_cmd('Network.setBlockedURLs', {
        "urls": [
            "*ads.stickyadstv.com*",
            "*cs.lkqd.net*",
            "*t.adx.opera.com*",
            "*doubleclick.net*",
            "*googlesyndication.com*",
            "*googletagmanager.com*",
            "*ad.360yield.com*",
            "*sync.search.spotxchange.com*",
            "*csync.loopme.me*",
            "*shb-sync.com*",
            "*measureadv.com*",
            "*/ad/*",
            "*/ads/*",
        ]
    })
    driver.execute_cdp_cmd('Network.enable', {})
    
    print("[] Bloqueador de ads activado")
    
    return driver


def human_delay(min_sec=1, max_sec=3):
    """Delay aleatorio para simular comportamiento humano"""
    time.sleep(random.uniform(min_sec, max_sec))


def safe_get(driver, url, retries=3):
    """Intenta cargar URL con reintentos"""
    for i in range(retries):
        try:
            driver.get(url)
            human_delay(2, 4)  # Espera despus de cargar
            return True
        except Exception as e:
            print(f"[!] Error cargando {url} (intento {i + 1}): {e}")
            human_delay(3, 6)
    return False


def debug_page_content(driver):
    """Debuggea el contenido de la pgina para detectar problemas"""
    print("\n[DEBUG] Analizando contenido de la pgina...")
    
    # Verificar si hay MP4s en el HTML
    html = driver.page_source
    mp4_count = html.count('.mp4')
    print(f"[DEBUG] Menciones de '.mp4' en HTML: {mp4_count}")
    
    # Intentar encontrar videos con diferentes selectores
    selectors = [
        "video source[src$='.mp4']",
        "video source",
        "source[src*='.mp4']",
        "video",
        "source[type='video/mp4']"
    ]
    
    for selector in selectors:
        try:
            elements = driver.find_elements(By.CSS_SELECTOR, selector)
            print(f"[DEBUG] Selector '{selector}': {len(elements)} elementos")
        except Exception as e:
            print(f"[DEBUG] Error con selector '{selector}': {e}")
    
    # Verificar scripts que puedan cargar videos dinmicamente
    scripts = driver.find_elements(By.TAG_NAME, "script")
    print(f"[DEBUG] Scripts en pgina: {len(scripts)}")


def extract_video_urls(driver):
    """Extrae URLs de videos con mltiples estrategias y manejo de errores"""
    urls = []
    
    # Estrategia 1: Source dentro de video
    try:
        sources = driver.find_elements(By.CSS_SELECTOR, "video source[src$='.mp4']")
        for src in sources:
            try:
                url = src.get_attribute("src")
                if url:
                    urls.append(url)
            except:
                continue
    except Exception as e:
        print(f"[DEBUG] Error estrategia 1: {e}")
    
    # Estrategia 2: Cualquier source con MP4
    if not urls:
        try:
            sources = driver.find_elements(By.CSS_SELECTOR, "source[src*='.mp4']")
            for src in sources:
                try:
                    url = src.get_attribute("src")
                    if url and '.mp4' in url:
                        urls.append(url)
                except:
                    continue
        except Exception as e:
            print(f"[DEBUG] Error estrategia 2: {e}")
    
    # Estrategia 3: Videos con data-src
    if not urls:
        try:
            sources = driver.find_elements(By.CSS_SELECTOR, "video source")
            for src in sources:
                try:
                    url = src.get_attribute("data-src") or src.get_attribute("src")
                    if url and '.mp4' in url:
                        urls.append(url)
                except:
                    continue
        except Exception as e:
            print(f"[DEBUG] Error estrategia 3: {e}")
    
    return list(set(urls))  # Eliminar duplicados


def safe_execute_script(driver, script, default_value=None, retries=2):
    """Ejecuta JavaScript con manejo de errores y reintentos"""
    for attempt in range(retries):
        try:
            return driver.execute_script(script)
        except Exception as e:
            if attempt < retries - 1:
                print(f"[!] Error ejecutando script (reintento {attempt + 1}): {str(e)[:50]}")
                time.sleep(2)
            else:
                print(f"[!] Script fall despus de {retries} intentos")
                return default_value
    return default_value


def main():
    print("=" * 60)
    print("9GAG VIDEO SCRAPER - VERSIN MEJORADA")
    print("=" * 60)
    
    seen_urls = load_existing_urls(OUTPUT_CSV)
    seen_urls, seen_video_ids = load_existing_urls(OUTPUT_CSV)
    file_exists = os.path.exists(OUTPUT_CSV)
    
    print(f"\n[INFO] URLs ya extradas: {len(seen_urls)}")
    print(f"[INFO] Videos nicos (IDs): {len(seen_video_ids)}")
    
    driver = setup_driver()
    print("[] Driver configurado con anti-deteccin\n")

    with open(OUTPUT_CSV, "a", newline="", encoding="utf-8") as f:
        writer = csv.DictWriter(
            f,
            fieldnames=["url", "categoria", "fecha_extraccion"]
        )

        if not file_exists:
            writer.writeheader()

        for category, url in CATEGORIES.items():
            print(f"\n{'=' * 60}")
            print(f"[+] Categora: {category.upper()}")
            print(f"    URL: {url}")
            print("=" * 60)

            if not safe_get(driver, url):
                print(f"[X] No se pudo cargar {category}")
                continue

            # Esperar a que carguen los videos
            try:
                WebDriverWait(driver, 15).until(
                    EC.presence_of_element_located((By.TAG_NAME, "video"))
                )
                print("[] Videos detectados en pgina")
            except:
                print("[!] WARNING: No se detectaron videos inicialmente")
                print("[!] Intentando esperar ms tiempo...")
                human_delay(5, 8)  # Espera adicional por si acaso
            
            human_delay(3, 5)
            
            # Debug en la primera categora
            if category == list(CATEGORIES.keys())[0]:
                debug_page_content(driver)

            collected = 0
            scroll_attempts = 0
            session_urls = set()
            session_video_ids = set()  # IDs de videos ya procesados en esta sesin
            consecutive_errors = 0  # Contador de errores consecutivos
            last_height = safe_execute_script(driver, "return document.body.scrollHeight", 0)

            while collected < MAX_URLS_PER_CATEGORY:
                try:
                    # Extraer URLs con mltiples estrategias
                    video_urls = extract_video_urls(driver)
                    
                    print(f"\n   [SCAN] Videos encontrados en DOM: {len(video_urls)}")
                    
                    new_found = 0

                    for video_url in video_urls:
                        # Extraer ID del video
                        video_id = extract_video_id(video_url)
                        
                        # Saltar si:
                        # - URL vaca
                        # - URL ya vista (duplicado exacto)
                        # - ID del video ya procesado (diferentes variantes del mismo video)
                        if (
                            not video_url
                            or video_url in seen_urls
                            or video_url in session_urls
                            or video_id in seen_video_ids
                            or video_id in session_video_ids
                        ):
                            continue

                        writer.writerow({
                            "url": video_url,
                            "categoria": category,
                            "fecha_extraccion": datetime.utcnow().isoformat()
                        })
                        f.flush()

                        seen_urls.add(video_url)
                        session_urls.add(video_url)
                        
                        # Marcar el ID como procesado
                        if video_id:
                            seen_video_ids.add(video_id)
                            session_video_ids.add(video_id)

                        collected += 1
                        new_found += 1

                        print(f"   [+] ({collected}/{MAX_URLS_PER_CATEGORY}) ID:{video_id} - {video_url[:70]}...")

                        if collected >= MAX_URLS_PER_CATEGORY:
                            break

                    # Reset error counter si encontramos videos
                    if new_found > 0:
                        consecutive_errors = 0

                    # Lgica de scroll mejorada
                    if new_found == 0:
                        scroll_attempts += 1
                        print(f"   [] Sin nuevos videos (intento {scroll_attempts}/25)")
                    else:
                        scroll_attempts = 0

                    # Scroll humano con variacin
                    scroll_distance = random.randint(300, 600)
                    safe_execute_script(driver, f"window.scrollBy(0, {scroll_distance});")
                    human_delay(0.8, 1.5)

                    # Scroll grande ocasional para cargar ms contenido
                    if scroll_attempts % 4 == 0 and scroll_attempts > 0:
                        print("   [] Scroll grande para cargar ms contenido...")
                        safe_execute_script(driver, "window.scrollBy(0, document.body.scrollHeight);")
                        human_delay(2, 4)
                    
                    # Verificar si llegamos al final
                    new_height = safe_execute_script(driver, "return document.body.scrollHeight", last_height)
                    if new_height == last_height:
                        scroll_attempts += 1
                    else:
                        last_height = new_height

                    # Salir si no hay progreso
                    if scroll_attempts >= 25:
                        print("   [!] Sin progreso despus de 25 intentos, pasando a siguiente categora")
                        break
                
                except Exception as e:
                    consecutive_errors += 1
                    print(f"\n   [ERROR] Excepcin en el loop: {str(e)[:100]}")
                    print(f"   [!] Errores consecutivos: {consecutive_errors}/5")
                    
                    # Si hay muchos errores consecutivos, salir de esta categora
                    if consecutive_errors >= 5:
                        print("   [X] Demasiados errores, saltando categora")
                        break
                    
                    # Intentar recuperar
                    try:
                        print("   [] Intentando recuperar conexin...")
                        driver.execute_script("window.scrollBy(0, 100);")
                        human_delay(3, 5)
                    except:
                        print("   [X] No se pudo recuperar, saltando categora")
                        break

            print(f"\n[] {category}: {collected}/{MAX_URLS_PER_CATEGORY} videos extrados")
            
            # Delay entre categoras para parecer ms humano
            if category != list(CATEGORIES.keys())[-1]:
                delay = random.randint(10, 20)  #  Delays MS LARGOS (antes 5-10)
                print(f"[] Esperando {delay}s antes de siguiente categora...")
                time.sleep(delay)

    driver.quit()
    print("\n" + "=" * 60)
    print(" SCRAPING COMPLETADO")
    print("=" * 60)
    print(f"Archivo guardado: {OUTPUT_CSV}")


if __name__ == "__main__":
    main()
</file>

<file path="urlsfinales.csv">
url,categoria,fecha_extraccion

https://img-9gag-fun.9cache.com/photo/awy9R61_460sv.mp4,oldmeme,2025-12-15T18:49:04.253215
https://img-9gag-fun.9cache.com/photo/a34z9re_460sv.mp4,oldmeme,2025-12-15T18:49:15.542027
https://img-9gag-fun.9cache.com/photo/aE0jr5o_460svav1.mp4,oldmeme,2025-12-15T18:49:18.603032
https://img-9gag-fun.9cache.com/photo/aE0jr5o_460sv.mp4,oldmeme,2025-12-15T18:49:18.612011
https://img-9gag-fun.9cache.com/photo/agmpM6g_460svav1.mp4,oldmeme,2025-12-15T18:49:18.623979
https://img-9gag-fun.9cache.com/photo/agmpM6g_460sv.mp4,oldmeme,2025-12-15T18:49:18.644922
https://img-9gag-fun.9cache.com/photo/axyexQM_460svav1.mp4,oldmeme,2025-12-15T18:49:25.473688
https://img-9gag-fun.9cache.com/photo/axyexQM_460sv.mp4,oldmeme,2025-12-15T18:49:25.482665
https://img-9gag-fun.9cache.com/photo/ayNmgL8_460svav1.mp4,oldmeme,2025-12-15T18:49:25.493636
https://img-9gag-fun.9cache.com/photo/ayNmgL8_460sv.mp4,oldmeme,2025-12-15T18:49:25.501614
https://img-9gag-fun.9cache.com/photo/aVv9nXw_460sv.mp4,oldmeme,2025-12-15T18:49:32.793120
https://img-9gag-fun.9cache.com/photo/avyBY2b_460svav1.mp4,oldmeme,2025-12-15T18:49:35.981607
https://img-9gag-fun.9cache.com/photo/avyBY2b_460sv.mp4,oldmeme,2025-12-15T18:49:35.993576
https://img-9gag-fun.9cache.com/photo/an70LAn_460sv.mp4,oldmeme,2025-12-15T18:49:36.004548
https://img-9gag-fun.9cache.com/photo/axyeXwW_460svav1.mp4,oldmeme,2025-12-15T18:49:42.214935
https://img-9gag-fun.9cache.com/photo/axyeXwW_460sv.mp4,oldmeme,2025-12-15T18:49:42.229899
https://img-9gag-fun.9cache.com/photo/avyB3X5_460svav1.mp4,oldmeme,2025-12-15T18:49:42.241863
https://img-9gag-fun.9cache.com/photo/avyB3X5_460sv.mp4,oldmeme,2025-12-15T18:49:42.256824
https://img-9gag-fun.9cache.com/photo/amoOEMy_460svav1.mp4,oldmeme,2025-12-15T18:49:42.271783
https://img-9gag-fun.9cache.com/photo/amoOEMy_460sv.mp4,oldmeme,2025-12-15T18:49:42.293724
https://img-9gag-fun.9cache.com/photo/aMV03zW_460svav1.mp4,oldmeme,2025-12-15T18:49:42.305693
https://img-9gag-fun.9cache.com/photo/aMV03zW_460sv.mp4,oldmeme,2025-12-15T18:49:42.315667
https://img-9gag-fun.9cache.com/photo/aE0jLq9_460svav1.mp4,oldmeme,2025-12-15T18:49:45.483195
https://img-9gag-fun.9cache.com/photo/aE0jLq9_460sv.mp4,oldmeme,2025-12-15T18:49:45.495164
https://img-9gag-fun.9cache.com/photo/axyeXjL_460svav1.mp4,oldmeme,2025-12-15T18:49:49.358007
https://img-9gag-fun.9cache.com/photo/axyeXjL_460sv.mp4,oldmeme,2025-12-15T18:49:49.367979
https://img-9gag-fun.9cache.com/photo/a0eD2vv_460sv.mp4,oldmeme,2025-12-15T18:49:53.768640
https://img-9gag-fun.9cache.com/photo/amoO3Qo_460sv.mp4,oldmeme,2025-12-15T18:49:57.790721
https://img-9gag-fun.9cache.com/photo/aMV0gxG_460svav1.mp4,oldmeme,2025-12-15T18:50:04.893420
https://img-9gag-fun.9cache.com/photo/aMV0gxG_460sv.mp4,oldmeme,2025-12-15T18:50:04.901399
https://img-9gag-fun.9cache.com/photo/amoO32d_460svav1.mp4,oldmeme,2025-12-15T18:50:04.913368
https://img-9gag-fun.9cache.com/photo/amoO32d_460sv.mp4,oldmeme,2025-12-15T18:50:04.927330
https://img-9gag-fun.9cache.com/photo/aAyLjRE_460svav1.mp4,oldmeme,2025-12-15T18:50:18.909535
https://img-9gag-fun.9cache.com/photo/aAyLjRE_460sv.mp4,oldmeme,2025-12-15T18:50:18.920506
https://img-9gag-fun.9cache.com/photo/ayNmbOq_460svav1.mp4,oldmeme,2025-12-15T18:50:18.935465
https://img-9gag-fun.9cache.com/photo/ayNmbOq_460sv.mp4,oldmeme,2025-12-15T18:50:18.949429
https://img-9gag-fun.9cache.com/photo/axyeLA1_460svav1.mp4,oldmeme,2025-12-15T18:50:24.239282
https://img-9gag-fun.9cache.com/photo/axyeLA1_460sv.mp4,oldmeme,2025-12-15T18:50:24.254243
https://img-9gag-fun.9cache.com/photo/aGyrmLw_460svav1.mp4,oldmeme,2025-12-15T18:50:27.324809
https://img-9gag-fun.9cache.com/photo/aGyrmLw_460sv.mp4,oldmeme,2025-12-15T18:50:27.333783
https://img-9gag-fun.9cache.com/photo/aLnOZz5_460sv.mp4,oldmeme,2025-12-15T18:50:32.764261
https://img-9gag-fun.9cache.com/photo/awy9EO1_460sv.mp4,oldmeme,2025-12-15T18:50:32.774234
https://img-9gag-fun.9cache.com/photo/ae9q8vB_460svav1.mp4,oldmeme,2025-12-15T18:50:32.788197
https://img-9gag-fun.9cache.com/photo/ae9q8vB_460sv.mp4,oldmeme,2025-12-15T18:50:32.806149
https://img-9gag-fun.9cache.com/photo/an70Pmz_460sv.mp4,oldmeme,2025-12-15T18:50:35.980660
https://img-9gag-fun.9cache.com/photo/a87vxNZ_460svav1.mp4,oldmeme,2025-12-15T18:50:35.993625
https://img-9gag-fun.9cache.com/photo/a87vxNZ_460sv.mp4,oldmeme,2025-12-15T18:50:36.004597
https://img-9gag-fun.9cache.com/photo/an70PW5_460svav1.mp4,oldmeme,2025-12-15T18:50:44.249549
https://img-9gag-fun.9cache.com/photo/an70PW5_460sv.mp4,oldmeme,2025-12-15T18:50:44.264508
https://img-9gag-fun.9cache.com/photo/aO8nLZM_460svav1.mp4,oldmeme,2025-12-15T18:50:47.347890
https://img-9gag-fun.9cache.com/photo/abALPPb_460svav1.mp4,anime,2025-12-15T18:51:11.106447
https://img-9gag-fun.9cache.com/photo/abALPPb_460sv.mp4,anime,2025-12-15T18:51:11.115425
https://img-9gag-fun.9cache.com/photo/adBWZNZ_460sv.mp4,anime,2025-12-15T18:51:22.767360
https://img-9gag-fun.9cache.com/photo/aLnOyyx_460sv.mp4,anime,2025-12-15T18:51:27.595448
https://img-9gag-fun.9cache.com/photo/aD2qEr7_460svav1.mp4,anime,2025-12-15T18:51:34.067688
https://img-9gag-fun.9cache.com/photo/aD2qEr7_460sv.mp4,anime,2025-12-15T18:51:34.079649
https://img-9gag-fun.9cache.com/photo/adBWEmZ_460svav1.mp4,anime,2025-12-15T18:51:54.031790
https://img-9gag-fun.9cache.com/photo/adBWEmZ_460sv.mp4,anime,2025-12-15T18:51:54.043757
https://img-9gag-fun.9cache.com/photo/aVv9AKy_460svav1.mp4,anime,2025-12-15T18:52:25.184146
https://img-9gag-fun.9cache.com/photo/aVv9AKy_460sv.mp4,anime,2025-12-15T18:52:25.194123
https://img-9gag-fun.9cache.com/photo/an706nE_460sv.mp4,anime,2025-12-15T18:52:25.205092
https://img-9gag-fun.9cache.com/photo/aMV0g4V_460svav1.mp4,anime,2025-12-15T18:52:30.846041
https://img-9gag-fun.9cache.com/photo/aMV0g4V_460sv.mp4,anime,2025-12-15T18:52:30.855016
https://img-9gag-fun.9cache.com/photo/aO8nw02_460svav1.mp4,anime,2025-12-15T18:52:33.946749
https://img-9gag-fun.9cache.com/photo/aO8nw02_460sv.mp4,anime,2025-12-15T18:52:33.957722
https://img-9gag-fun.9cache.com/photo/awy9wo4_460svav1.mp4,anime,2025-12-15T18:52:33.969691
https://img-9gag-fun.9cache.com/photo/awy9wo4_460sv.mp4,anime,2025-12-15T18:52:33.984648
https://img-9gag-fun.9cache.com/photo/an706qz_460svav1.mp4,anime,2025-12-15T18:52:48.280895
https://img-9gag-fun.9cache.com/photo/an706qz_460sv.mp4,anime,2025-12-15T18:52:48.292867
https://img-9gag-fun.9cache.com/photo/abAL7yb_460sv.mp4,anime,2025-12-15T18:52:48.311811
https://img-9gag-fun.9cache.com/photo/aryDY45_460sv.mp4,anime,2025-12-15T18:52:52.927050
https://img-9gag-fun.9cache.com/photo/aYQv31m_460svav1.mp4,anime,2025-12-15T18:53:05.657403
https://img-9gag-fun.9cache.com/photo/aYQv31m_460sv.mp4,anime,2025-12-15T18:53:05.668374
https://img-9gag-fun.9cache.com/photo/a9y4x6m_460svav1.mp4,anime,2025-12-15T18:53:08.781050
https://img-9gag-fun.9cache.com/photo/a9y4x6m_460sv.mp4,anime,2025-12-15T18:53:08.790027
https://img-9gag-fun.9cache.com/photo/aO8nM4y_460svav1.mp4,anime,2025-12-15T18:53:14.584950
https://img-9gag-fun.9cache.com/photo/aO8nM4y_460sv.mp4,anime,2025-12-15T18:53:14.596917
https://img-9gag-fun.9cache.com/photo/agmpDBg_460sv.mp4,anime,2025-12-15T18:53:17.674949
https://img-9gag-fun.9cache.com/photo/a7omYdb_460svav1.mp4,anime,2025-12-15T18:53:17.741772
https://img-9gag-fun.9cache.com/photo/a7omYdb_460sv.mp4,anime,2025-12-15T18:53:17.751744
https://img-9gag-fun.9cache.com/photo/agmpDnv_460svav1.mp4,anime,2025-12-15T18:53:24.142654
https://img-9gag-fun.9cache.com/photo/agmpDnv_460sv.mp4,anime,2025-12-15T18:53:24.154622
https://img-9gag-fun.9cache.com/photo/aGyr4Xz_460svav1.mp4,anime,2025-12-15T18:53:24.168584
https://img-9gag-fun.9cache.com/photo/aGyr4Xz_460sv.mp4,anime,2025-12-15T18:53:24.177560
https://img-9gag-fun.9cache.com/photo/aE0jm5x_460svav1.mp4,anime,2025-12-15T18:53:27.274412
https://img-9gag-fun.9cache.com/photo/aE0jm5x_460sv.mp4,anime,2025-12-15T18:53:27.283388
https://img-9gag-fun.9cache.com/photo/azxvpoB_460svav1.mp4,anime,2025-12-15T18:53:27.308321
https://img-9gag-fun.9cache.com/photo/azxvpoB_460sv.mp4,anime,2025-12-15T18:53:27.323281
https://img-9gag-fun.9cache.com/photo/aQzDW2q_460svav1.mp4,anime,2025-12-15T18:53:27.337245
https://img-9gag-fun.9cache.com/photo/aQzDW2q_460sv.mp4,anime,2025-12-15T18:53:29.403717
https://img-9gag-fun.9cache.com/photo/a34zXq7_460svav1.mp4,anime,2025-12-15T18:53:34.752510
https://img-9gag-fun.9cache.com/photo/a34zXq7_460sv.mp4,anime,2025-12-15T18:53:34.762484
https://img-9gag-fun.9cache.com/photo/aD2qeGO_460sv.mp4,anime,2025-12-15T18:53:39.297330
https://img-9gag-fun.9cache.com/photo/ae9q8pO_460svav1.mp4,anime,2025-12-15T18:53:45.078785
https://img-9gag-fun.9cache.com/photo/ae9q8pO_460sv.mp4,anime,2025-12-15T18:53:45.089755
https://img-9gag-fun.9cache.com/photo/a4PB0em_460sv.mp4,anime,2025-12-15T18:53:45.104716
https://img-9gag-fun.9cache.com/photo/aNDGbVb_460svav1.mp4,anime,2025-12-15T18:53:57.454132
https://img-9gag-fun.9cache.com/photo/aNDGbVb_460sv.mp4,anime,2025-12-15T18:53:57.468096
https://img-9gag-fun.9cache.com/photo/a9y4Gzo_460svav1.mp4,anime,2025-12-15T18:54:00.585760
https://img-9gag-fun.9cache.com/photo/a9y4Gzo_460sv.mp4,anime,2025-12-15T18:54:00.598724
https://img-9gag-fun.9cache.com/photo/a1m8zyR_460svav1.mp4,news,2025-12-15T18:54:15.048400
</file>

<file path="videosurls.py">
import re

INPUT_TXT = "urls.txt"
OUTPUT_TXT = "urls_fixed.txt"

def fix_9gag_url(url: str) -> str:
    return re.sub(
        r"img-9gag-fun\.[^/]+",
        "img-9gag-fun.9cache.com/photo",
        url.strip()
    )

with open(INPUT_TXT, encoding="utf-8") as f:
    urls = f.readlines()

fixed_urls = [fix_9gag_url(url) for url in urls if url.strip()]

with open(OUTPUT_TXT, "w", encoding="utf-8") as f:
    f.write("\n".join(fixed_urls))

print("Listo:", OUTPUT_TXT)
</file>

<file path=".env.example">
saranga (?
</file>

<file path="backend/prisma/seed.js">
const { PrismaClient, ShopCategory } = require("@prisma/client");

const prisma = new PrismaClient();

async function main() {
  await prisma.badge.upsert({
    where: { code: "FOUNDER_2025" },
    update: {},
    create: {
      code: "FOUNDER_2025",
      name: "Fundador 2025",
      description: "Uno de los primeros en creer en Macanudo",
    },
  });

  const themes = [
    {
      key: "nature",
      name: "Naturaleza",
      primaryColor: "#16a34a",
      secondaryColor: "#65a30d",
      backgroundGradient: "linear-gradient(135deg, #d9f99d, #bbf7d0)",
      decorations: { leaves: true, fire: false },
    },
    {
      key: "racing",
      name: "Racing",
      primaryColor: "#ef4444",
      secondaryColor: "#0f172a",
      backgroundGradient: "linear-gradient(135deg, #0f172a, #ef4444)",
      decorations: { flags: true, sparks: true },
    },
    {
      key: "space",
      name: "Espacio",
      primaryColor: "#7c3aed",
      secondaryColor: "#0ea5e9",
      backgroundGradient: "linear-gradient(135deg, #0b1021, #312e81)",
      decorations: { stars: true, glow: true },
    },
    {
      key: "tech",
      name: "Tech",
      primaryColor: "#0ea5e9",
      secondaryColor: "#111827",
      backgroundGradient: "linear-gradient(135deg, #0f172a, #0ea5e9)",
      decorations: { circuits: true, glow: true },
    },
  ];

  for (const t of themes) {
    await prisma.theme.upsert({
      where: { key: t.key },
      update: t,
      create: t,
    });
  }

  const items = [
    {
      key: "theme-nature",
      name: "Tema Naturaleza",
      description: "Verdes, hojas y un fondo boscoso.",
      category: ShopCategory.THEME,
      pricePoints: 0,
      assetData: { themeKey: "nature" },
      theme: { connect: { key: "nature" } },
    },
    {
      key: "theme-racing",
      name: "Tema Racing",
      description: "Rojo/negro, banderas a cuadros, vibe de pista.",
      category: ShopCategory.THEME,
      pricePoints: 80,
      assetData: { themeKey: "racing" },
      theme: { connect: { key: "racing" } },
    },
    {
      key: "decor-leaves",
      name: "Hojas flotantes",
      description: "Pequeas hojas animadas en los bordes.",
      category: ShopCategory.DECORATION,
      pricePoints: 40,
      assetData: { component: "LeavesDecoration", themeKey: "nature" },
      theme: { connect: { key: "nature" } },
    },
    {
      key: "decor-flags",
      name: "Banderas Racing",
      description: "Banderas a cuadros en el header.",
      category: ShopCategory.DECORATION,
      pricePoints: 50,
      assetData: { component: "FlagsDecoration", themeKey: "racing" },
      theme: { connect: { key: "racing" } },
    },
  ];

  for (const item of items) {
    await prisma.shopItem.upsert({
      where: { key: item.key },
      update: item,
      create: item,
    });
  }
}

main()
  .catch((e) => {
    console.error(e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
</file>

<file path="backend/src/config/topics.js">
// backend/src/config/topics.js
// Catlogo inicial de temas y palabras clave asociadas.
// El campo canonicalTag es lo que termina guardado en Post.tags (normalizado).
module.exports = {
  formula1: {
    canonicalTag: "formula1",
    keywords: [
      "formula 1",
      "f1",
      "max verstappen",
      "verstappen",
      "hamilton",
      "red bull",
      "ferrari",
      "mercedes",
      "gran premio",
      "safety car",
      "pit stop",
    ],
  },

  mate: {
    canonicalTag: "mate",
    keywords: ["mate", "mates", "termo", "bombilla", "yerba", "taragui", "playadito", "union", "cbse"],
  },

  anime: {
    canonicalTag: "anime",
    keywords: [
      "anime",
      "manga",
      "one piece",
      "luffy",
      "naruto",
      "sasuke",
      "goku",
      "dragon ball",
      "my hero academia",
    ],
  },

  apple: {
    canonicalTag: "apple",
    keywords: [
      "apple",
      "mac",
      "macbook",
      "imac",
      "iphone",
      "ipad",
      "ios",
      "airpods",
      "macos",
    ],
  },

  // agreg ms: futbol, fotografia, gaming, musica, etc.
};
</file>

<file path="frontend/package.json">
{
  "name": "frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@tanstack/react-query": "^5.90.11",
    "axios": "^1.13.2",
    "color-thief-browser": "^2.0.2",
    "framer-motion": "^12.23.25",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-router-dom": "^7.10.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "autoprefixer": "^10.4.22",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^3.4.14",
    "vite": "^7.2.4"
  }
}
</file>

<file path="frontend/src/components/layout/RightSidebar.tsx">
import React from "react";

const CardBase: React.FC<{ title: string; children: React.ReactNode }> = ({ title, children }) => (
  <div className="rounded-2xl border border-white/10 bg-white/5 p-4 text-white shadow-sm shadow-black/30">
    <h2 className="text-sm font-semibold mb-2 flex items-center justify-between">
      <span>{title}</span>
    </h2>
    {children}
  </div>
);

const HoyEnMacanudoCard: React.FC = () => (
  <CardBase title="Hoy en Macanudos">
    <p className="text-xs text-white/70">
      Ests en modo <span className="text-emerald-300">creativo</span>. Compartiste proyectos y mates con la comunidad.
      
    </p>
  </CardBase>
);

const TusProyectosCard: React.FC = () => (
  <CardBase title="Tus proyectos">
    <ul className="text-xs text-white/80 space-y-2">
      <li className="flex flex-col">
        <span className="font-medium">Aprender React</span>
        <span className="text-white/40">Progreso: 40%  3 posts</span>
      </li>
      <li className="flex flex-col">
        <span className="font-medium">Bajar 10kg caminando</span>
        <span className="text-white/40">Progreso: 10%  1 post</span>
      </li>
    </ul>
  </CardBase>
);

const GenteComoVosCard: React.FC = () => (
  <CardBase title="Gente como vos">
    <ul className="text-xs text-white/80 space-y-2">
      <li className="flex items-center gap-2">
        <div className="w-6 h-6 rounded-full bg-white/10" />
        <div className="flex-1">
          <div className="flex justify-between">
            <span className="font-medium">@f1ycode</span>
          </div>
          <span className="text-white/40">F1  Programacin</span>
        </div>
      </li>
      <li className="flex items-center gap-2">
        <div className="w-6 h-6 rounded-full bg-white/10" />
        <div className="flex-1">
          <span className="font-medium">@mateanddev</span>
          <div className="text-white/40">Mate  Proyectos locos</div>
        </div>
      </li>
    </ul>
  </CardBase>
);

const TrendingHoyCard: React.FC = () => (
  <CardBase title="Trending hoy">
    <ul className="text-xs text-white/80 space-y-1.5">
      <li className="flex justify-between">
        <span>#F1</span>
        <span className="text-white/40">+128 posts</span>
      </li>
      <li className="flex justify-between">
        <span>#mate</span>
        <span className="text-white/40">+76 posts</span>
      </li>
      <li className="flex justify-between">
        <span>#proyectos</span>
        <span className="text-white/40">+33 posts</span>
      </li>
    </ul>
  </CardBase>
);

export const RightSidebar: React.FC = () => {
  return (
    <aside className="space-y-4">
      <HoyEnMacanudoCard />
      <TusProyectosCard />
      <GenteComoVosCard />
      <TrendingHoyCard />
    </aside>
  );
};
</file>

<file path="frontend/src/components/Lightbox.jsx">
import { AnimatePresence, motion } from "framer-motion";
import { useLightbox } from "../context/LightboxContext";
import { useEffect, useMemo, useRef } from "react";

function parseTimeRange(src = "") {
  const match = src.match(/#t=([\d.]+),?([\d.]*)/);
  if (!match) return { cleanSrc: src, start: 0, end: null };
  const start = parseFloat(match[1]) || 0;
  const end = match[2] ? parseFloat(match[2]) : null;
  const cleanSrc = src.split("#")[0];
  return { cleanSrc, start, end };
}

export default function Lightbox() {
  const { media, close } = useLightbox();
  const videoRef = useRef(null);

  const parsed = useMemo(() => parseTimeRange(media?.src), [media]);

  useEffect(() => {
    if (!media?.isVideo || !videoRef.current) return;
    const video = videoRef.current;
    const start = parsed.start || 0;
    const end = parsed.end;
    const handleLoaded = () => {
      video.currentTime = start;
    };
    const handleTimeUpdate = () => {
      if (end && video.currentTime >= end - 0.05) {
        video.currentTime = start;
        video.play();
      }
    };
    video.addEventListener("loadedmetadata", handleLoaded);
    video.addEventListener("timeupdate", handleTimeUpdate);
    return () => {
      video.removeEventListener("loadedmetadata", handleLoaded);
      video.removeEventListener("timeupdate", handleTimeUpdate);
    };
  }, [media, parsed.start, parsed.end]);

  return (
    <AnimatePresence>
      {media && (
        <motion.div
          className="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center"
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          onClick={close}
        >
          <motion.div
            className="max-h-[90vh] max-w-[90vw] rounded-2xl shadow-2xl overflow-hidden bg-black/40 p-1"
            initial={{ scale: 0.95, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            onClick={(e) => e.stopPropagation()}
          >
            {media.isVideo ? (
              <video
                ref={videoRef}
                src={parsed.cleanSrc}
                autoPlay
                loop
                muted
                playsInline
                className="max-h-[90vh] max-w-[90vw] object-contain rounded-xl"
              />
            ) : (
              <img
                src={media.src}
                alt={media.alt || "media"}
                className="max-h-[90vh] max-w-[90vw] object-contain rounded-xl"
              />
            )}
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
}
</file>

<file path="frontend/src/components/MobileHeader.jsx">
import { Link } from "react-router-dom";
import MacanudosLogo from "./MacanudosLogo";
import NotificationBell from "./NotificationBell";
import FriendRequests from "./FriendRequests";
import Avatar from "./Avatar";
import { useAuth } from "../context/AuthContext";
import ThemeToggle from "./ThemeToggle";

export default function MobileHeader() {
  const { user } = useAuth();
  if (!user) return null;

  return (
    <header className="sticky top-0 z-40 flex items-center justify-between border-b border-slate-200 dark:border-slate-800 bg-white/90 dark:bg-slate-950/95 px-3 py-2 md:hidden backdrop-blur text-slate-900 dark:text-slate-50">
      <Link to="/feed" className="flex items-center gap-2">
        <MacanudosLogo showText size={80} />
      </Link>
      <div className="flex items-center gap-2">
        <FriendRequests iconOnly />
        <NotificationBell iconOnly />
        <ThemeToggle iconOnly />
        <Link to={`/profile/${user.username}`}>
          <Avatar user={user} size={32} />
        </Link>
      </div>
    </header>
  );
}
</file>

<file path="frontend/src/components/PostComposer.jsx">
import { useState } from "react";
import { useMutation, useQueryClient } from "@tanstack/react-query";
import api from "../api/client";
import Avatar from "./Avatar";
import { useAuth } from "../context/AuthContext";
import useCardStyle from "../hooks/useCardStyle";

export default function PostComposer({ onCreated }) {
  const { user } = useAuth();
  const queryClient = useQueryClient();
  const [content, setContent] = useState("");
  const [image, setImage] = useState(null);
  const [preview, setPreview] = useState(null);
  const { style } = useCardStyle();

  const { mutateAsync, isPending } = useMutation({
    mutationFn: async () => {
      const formData = new FormData();
      formData.append("content", content);
      if (image) formData.append("image", image);
      const { data } = await api.post("/posts", formData, {
        headers: { "Content-Type": "multipart/form-data" },
      });
      return data;
    },
    onSuccess: (data) => {
      setContent("");
      setImage(null);
      setPreview(null);
      queryClient.invalidateQueries({ queryKey: ["posts"] });
      if (onCreated) onCreated(data);
    },
  });

  const handleFile = (file) => {
    setImage(file);
    setPreview(file ? URL.createObjectURL(file) : null);
  };

  return (
    <div
      className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-4 shadow-sm"
      style={style}
    >
      <div className="flex gap-3">
        <Avatar user={user} />
        <div className="flex-1">
          <textarea
            value={content}
            onChange={(e) => setContent(e.target.value)}
            rows={3}
            className="w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none"
            placeholder="Qu ests pensando?"
            onKeyDown={(e) => {
              if (e.key === "Enter" && !e.shiftKey) {
                e.preventDefault();
                if (content.trim() && !isPending) {
                  mutateAsync();
                }
              }
            }}
          />
          {preview && (
            <img
              src={preview}
              alt="Previsualizacin"
              className="mt-2 h-48 w-full object-cover rounded-xl border border-slate-200 dark:border-slate-700"
            />
          )}
          <div className="mt-3 flex items-center justify-between">
            <label className="text-sm text-indigo-700 dark:text-indigo-300 font-medium cursor-pointer hover:text-indigo-800 dark:hover:text-indigo-200">
              <input
                type="file"
                accept="image/*"
                className="hidden"
                onChange={(e) => handleFile(e.target.files?.[0])}
              />
              Subir imagen
            </label>
            <button
              onClick={() => mutateAsync()}
              disabled={!content.trim() || isPending}
              className="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
            >
              {isPending ? "Publicando..." : "Publicar"}
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/components/SplashLogo.jsx">
import React, { useEffect, useState, useRef } from "react";

const IntroLogo = ({ onFinish, title = "MACANUDOS", subtitle = "SOCIAL EXPERIENCE", visible = true }) => {
  if (!visible) return null;

  const [fadeOut, setFadeOut] = useState(false);
  const [typedText, setTypedText] = useState("");
  const audioRef = useRef(null);

  useEffect(() => {
    const fullText = subtitle || "";
    let index = 0;
    const typingInterval = setInterval(() => {
      if (index <= fullText.length) {
        setTypedText(fullText.slice(0, index));
        index++;
      } else {
        clearInterval(typingInterval);
      }
    }, 80); // Velocidad de escritura

    return () => clearInterval(typingInterval);
  }, [subtitle]);

  useEffect(() => {
    // reproduce sfx una vez al iniciar
    if (audioRef.current) {
      audioRef.current.currentTime = 0;
      audioRef.current.play().catch(() => {});
    }
    const timer = setTimeout(() => {
      setFadeOut(true);
      setTimeout(() => onFinish && onFinish(), 100);
    }, 5500); // Duracin visible del logo

    return () => clearTimeout(timer);
  }, []);

  return (
    <div
      className={`fixed inset-0 flex items-center justify-center 
      bg-black
      transition-opacity duration-700 ${fadeOut ? "opacity-0" : "opacity-100"}`}
    >
      <style>{`
        /* Pulso suave del glow */
        @keyframes outerGlow {
          0% { box-shadow: 0 0 25px rgba(139,92,246,0.4), 0 0 45px rgba(56,189,248,0.3); }
          50% { box-shadow: 0 0 55px rgba(139,92,246,0.75), 0 0 85px rgba(56,189,248,0.5); }
          100% { box-shadow: 0 0 25px rgba(139,92,246,0.4), 0 0 45px rgba(56,189,248,0.3); }
        }
        /* Crculo interior vivo */
        @keyframes swirlEnergy {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        /* Texto reveal */
        @keyframes brandReveal {
          0% { opacity: 0; letter-spacing: -8px; transform: translateY(12px); }
          100% { opacity: 1; letter-spacing: 4px; transform: translateY(0); }
        }
        /* Cursor parpadeante */
        @keyframes blink {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0; }
        }
      `}</style>

      <audio
        ref={audioRef}
        src={`${import.meta.env.BASE_URL}sfx-office-keyboard3.mp3`}
        preload="auto"
      />

      <div className="flex flex-col items-center gap-6 select-none">
        
        {/* Contenedor del logo */}
        <div
          className="relative h-40 w-40 rounded-full bg-black/40 backdrop-blur-xl 
          flex items-center justify-center"
          style={{
            animation: "outerGlow 3s ease-in-out infinite",
          }}
        >
          {/* Capa giratoria */}
          <div
            className="absolute inset-0 rounded-full opacity-50"
            style={{
              background:
                "conic-gradient(from 0deg, #8b5cf6, #3b82f6, #06b6d4, #8b5cf6)",
              animation: "swirlEnergy 4s linear infinite",
            }}
          />

        {/* Crculo interior */}
        <div className="relative z-10 h-28 w-28 rounded-full bg-black/70 backdrop-blur-md flex items-center justify-center">
          <span className="text-white text-5xl font-bold tracking-wide">
            M
          </span>
          </div>
        </div>

        {/* TEXTO MACANUDOS */}
        <h1
          className="text-3xl font-extrabold text-transparent bg-clip-text 
          bg-gradient-to-r from-purple-400 to-blue-300"
          style={{
            animation: "brandReveal 0.9s ease forwards",
          }}
        >
          {title}
        </h1>

        {/* Subttulo con efecto terminal */}
        <p className="text-sm text-gray-400 tracking-widest font-mono">
          {typedText}
          <span 
            className="inline-block w-2 h-4 bg-gray-400 ml-1"
            style={{ animation: "blink 1s step-end infinite" }}
          />
        </p>
      </div>
    </div>
  );
};

export default IntroLogo;
</file>

<file path="frontend/src/components/ThemeToggle.jsx">
import { useTheme } from "../context/ThemeContext";

export default function ThemeToggle({ iconOnly = false }) {
  const { theme, toggleTheme } = useTheme();

  const baseClasses =
    "border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition";

  const isDark = theme === "dark";

  return (
    <button
      onClick={toggleTheme}
      className={
        iconOnly
          ? `${baseClasses} h-10 w-10 rounded-full flex items-center justify-center text-lg`
          : `${baseClasses} px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2`
      }
      aria-label="Cambiar tema"
    >
      <span aria-hidden>{isDark ? "\u2600" : "\u{1F319}"}</span>
      {!iconOnly && <span>{isDark ? "Claro" : "Oscuro"}</span>}
    </button>
  );
}
</file>

<file path="frontend/src/components/UserSearch.jsx">
import { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom";
import api from "../api/client";
import Avatar from "./Avatar";

export default function UserSearch() {
  const [query, setQuery] = useState("");
  const [results, setResults] = useState([]);
  const [loading, setLoading] = useState(false);
  const navigate = useNavigate();

  useEffect(() => {
    if (!query.trim()) {
      setResults([]);
      return;
    }
    let active = true;
    setLoading(true);
    api
      .get("/users/search", { params: { q: query.trim() } })
      .then(({ data }) => {
        if (active) setResults(data || []);
      })
      .catch(() => {
        if (active) setResults([]);
      })
      .finally(() => active && setLoading(false));

    return () => {
      active = false;
    };
  }, [query]);

  return (
    <div className="relative w-full">
      <input
        type="text"
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="Buscar personas..."
        className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-500 focus:outline-none"
        aria-label="Buscar personas"
      />
      {query && (
        <div className="absolute z-30 mt-2 w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 shadow-lg overflow-hidden">
          {loading && <div className="px-3 py-2 text-sm text-slate-500">Buscando...</div>}
          {!loading &&
            results.map((u) => (
              <button
                key={u.id}
                onClick={() => {
                  navigate(`/profile/${u.username}`);
                  setQuery("");
                  setResults([]);
                }}
                className="w-full text-left px-3 py-2 text-sm text-slate-900 dark:text-slate-100 hover:bg-indigo-50 dark:hover:bg-slate-800 transition flex items-center gap-3"
              >
                <Avatar user={u} size={36} />
                <div>
                  <div className="font-semibold">{u.name}</div>
                  <div className="text-xs text-slate-500">@{u.username}</div>
                </div>
              </button>
            ))}
          {!loading && results.length === 0 && (
            <div className="px-3 py-2 text-sm text-slate-500">Sin resultados</div>
          )}
        </div>
      )}
    </div>
  );
}
</file>

<file path="frontend/src/context/LightboxContext.jsx">
import { createContext, useContext, useMemo, useState } from "react";

const LightboxContext = createContext(null);

export function LightboxProvider({ children }) {
  const [media, setMedia] = useState(null);

  const open = (src, alt = "", options = {}) => {
    if (typeof src === "object" && src !== null) {
      setMedia(src);
    } else {
      setMedia({ src, alt, isVideo: options.isVideo || false });
    }
  };
  const close = () => setMedia(null);

  const value = useMemo(() => ({ media, open, close }), [media]);

  return <LightboxContext.Provider value={value}>{children}</LightboxContext.Provider>;
}

export function useLightbox() {
  const ctx = useContext(LightboxContext);
  if (!ctx) throw new Error("useLightbox debe usarse dentro de LightboxProvider");
  return ctx;
}
</file>

<file path="frontend/src/features/highlights/ModePicker.jsx">
import { Fragment } from "react";
import { createPortal } from "react-dom";
import { MODES, MODE_ORDER } from "./ModeConfig";
import { useReelsMode } from "./ReelsModeProvider";

export default function ModePicker({ open, onClose }) {
  const { mode, setMode, chaosEndsAt } = useReelsMode();
  if (!open) return null;

  const DESCRIPTIONS = {
    CERCA: "Amigos, familia y crculos.",
    DESCUBRIR: "Gente/ideas fuera de tu burbuja.",
    AHORA: "Lo reciente y lo que est pasando.",
    PROFUNDO: "Lecturas e hilos con sustancia.",
    CALMA: "Contenido liviano, cero bardo.",
    HUMOR: "Memes y ocurrencias bien a tu gusto.",
    APRENDER: "Tips, guas y data aplicable.",
    CAOS: "Mezcla sin freno, algoritmo estndar (10 min).",
  };

  const body = (
    <div
      className="fixed inset-0 z-50 bg-slate-950/70 backdrop-blur-sm md:hidden"
      onClick={onClose}
      aria-modal="true"
      role="dialog"
    >
      <div
        className="absolute bottom-0 left-0 right-0 bg-slate-900 text-slate-50 rounded-t-2xl p-4 border-t border-slate-800"
        onClick={(e) => e.stopPropagation()}
      >
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-sm font-semibold">Modo de highlights</h3>
          <button onClick={onClose} className="text-xs px-2 py-1 rounded-full bg-slate-800">Cerrar</button>
        </div>
        <div className="space-y-2 max-h-80 overflow-y-auto">
          {MODE_ORDER.map((key) => {
            const m = MODES[key];
            const active = mode === key;
            return (
              <button
                key={key}
                onClick={() => {
                  setMode(key);
                  onClose?.();
                }}
                className={`w-full flex items-center justify-between px-3 py-2 rounded-xl border text-left transition ${
                  active
                    ? "border-indigo-400 bg-indigo-500/10"
                    : "border-slate-800 bg-slate-900"
                }`}
              >
                <div className="flex items-center gap-3">
                  <span
                    className="inline-block h-8 w-8 rounded-full"
                    style={{ background: m.accent }}
                  />
                  <div>
                    <div className="text-sm font-semibold">{m.label}</div>
                    <div className="text-[12px] text-slate-400">{DESCRIPTIONS[key]}</div>
                  </div>
                </div>
                {active && <span className="text-[10px] uppercase text-indigo-300 font-semibold">Activo</span>}
              </button>
            );
          })}
        </div>
        {mode === "CAOS" && chaosEndsAt && (
          <div className="mt-3 text-xs text-rose-300">
            CAOS termina en: {Math.max(0, chaosEndsAt - Date.now()) / 1000 | 0}s
          </div>
        )}
      </div>
    </div>
  );

  return createPortal(body, document.body);
}
</file>

<file path="frontend/src/features/highlights/reelData.js">
export const reelData = [
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrPRn_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDmbz_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGBZw_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9R61_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWZZ2_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34z9re_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jr5o_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyexQM_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpM6g_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmgL8_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBY2b_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9nXw_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeXwW_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70LAn_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB3X5_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOEMy_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV03zW_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jLq9_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eD2vv_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeXjL_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO3Qo_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV0gxG_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO32d_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLjRE_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmbOq_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeLA1_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9EO1_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrmLw_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOZz5_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9q8vB_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70Pmz_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vxNZ_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70PW5_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyr4nX_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nLZM_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4e3G6_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZeYOe_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGQMA_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV0MBx_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ4OLn_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPm69D_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPm60P_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeqNb_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8qwM_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyL9zR_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOEVA_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrQAZ_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv3jq_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4GYK_460sv.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALwNp_460svav1.mp4", "category": "oldmeme" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOD26_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALj3v_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALPPb_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVN5K_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOyyx_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWZNZ_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qEr7_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWEmZ_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9AKy_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an706nE_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nw02_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV0g4V_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9wo4_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an706qz_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abAL7yb_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDY45_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQv31m_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4x6m_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nM4y_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpDBg_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpDnv_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omYdb_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyr4Xz_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jm5x_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvpoB_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzDW2q_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zXq7_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qeGO_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9q8pO_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PB0em_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGbVb_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4Gzo_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnMD5_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPmOj2_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nWzy_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyerZY_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWwEd_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmwrr_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGwYA_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j5yp_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qw3m_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVw5L_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aByb5Kx_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRn7wb_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8W52_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDgzd_460svav1.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omgem_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nEP3_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOQGV_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLAyo_460sv.mp4", "category": "anime" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrPwn_460sv.mp4", "category": "news" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a1m8zyR_460svav1.mp4", "category": "news" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLWAo_460sv.mp4", "category": "news" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBYVZ_460sv.mp4", "category": "news" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3pZR_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PBv5d_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4ezW6_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qKXB_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9jD4_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vNx1_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXZ6W_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvyMB_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVVVY_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q9AeE_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALm9X_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PBr0Q_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeAe2_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nGK6_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70VZz_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a1m8OQY_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jXLo_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPm2Ov_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nPVr_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOX2z_460sv.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87v2W1_460svav1.mp4", "category": "cosplay" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP32Q1_460sv.mp4", "category": "politics" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVOMR_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv6EZ_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGyAb_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv6Ap_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLnp2_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBbgX_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70ppL_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmgyW_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGymG_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOjE4_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVNqg_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOYog_460svav1.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDADQ_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9nnn_460sv.mp4", "category": "memes" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vABnD_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZevQb_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9n3P_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDjrd_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB3wM_460svav1.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnW6b_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOEG2_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ4Gb6_460svav1.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4ez5K_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLjNR_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO36X_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGvB3_460svav1.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6Ze04q_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PBX6w_460svav1.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrm2X_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4x1j_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyL8Dp_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9q885_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4erB4_460sv.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeqn2_460svav1.mp4", "category": "games" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv68j_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVO4V_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzDY6e_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmy5r_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP320Q_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV0p1X_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jrLG_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOYZ5_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3bvg_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGX0bQ_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9RPy_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvNBx_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4QDW_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmgvY_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOjry_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aBybq8D_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmgey_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBYLE_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryD6R7_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q9mKr_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qp3d_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLojg_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y493D_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y49w0_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zVgQ_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB3NW_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70L3V_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPm5mb_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmOvq_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpPEg_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vBmY_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jL6n_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzD0gq_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmOqM_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qv1v_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qExB_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOyM5_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB3nd_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOE8X_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4ew16_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGb02_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrW95_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zVY7_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmGGY_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qyK9_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abAL7Np_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vZgO_460svav1.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZeP32_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9A4n_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvnQz_460sv.mp4", "category": "wtf" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4eKAx_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvNEx_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDjPp_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDG626_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrWqz_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVKoR_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXrOW_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a1m8GvD_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrXoX_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGXx3_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4ezed_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLjGp_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrXjn_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnO55_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nMEN_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70mw5_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9AjP_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qndW_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDG7Vv_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j9oG_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9EmQ_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j90o_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLzWL_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV0oex_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8q5B_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmjby_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVboP_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnO7XM_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGEVr_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70Pgz_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDy7L_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPmO89_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXMr3_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv96nM_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nWpr_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGbjw_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBjxE_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyG7gx_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP34AR_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aByb5BO_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8d9y_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omXGL_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6Ze68m_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4e503_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qw9O_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWw6V_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV0516_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zr3v_460svav1.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j5do_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrv35_460sv.mp4", "category": "relationship" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGBp0_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4eK52_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7om4GA_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34z9z7_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3ozG_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpMrx_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLWr0_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVqoR_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzD0Kw_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aByb7jx_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omzPm_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOEv9_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmO4Y_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qEDx_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVKRB_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70LNB_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOE8v_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOE0X_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aByb7rx_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQv2xw_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abAL7D9_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ4Gxp_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axye5qb_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8ndj_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vAejp_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an706wn_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qLPp_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qLLb_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXRNQ_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGXdm_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO3R4_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmG6q_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAV58G_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGNOA_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9AbO_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy9wyx_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOxpz_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qLQb_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZePbR_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGNg4_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8nm5_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBN5O_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zmLQ_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDBLZ_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nM6E_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO3Nv_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4xeW_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ46Ap_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9pA2_460sv.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPmymP_460svav1.mp4", "category": "music" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBYEX_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDG66r_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzD0y8_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vB7e_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOyez_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aBybpAA_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDjmp_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnOZ5_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8nNy_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrX8G_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXRvZ_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXR6b_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLjrL_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qynO_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBNPn_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9AOv_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9pny_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOeKj_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvWyj_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLznL_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4e3Dq_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDymZ_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGQDg_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALn1v_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omRLb_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVEEL_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOZKv_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv96z2_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qvdx_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv3qK_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGX5NO_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vApxD_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnMoB_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vAgQ9_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a1m8gyb_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy92my_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDE0V_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3vj8_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOorW_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzDKYw_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALoNB_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDG3n_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDGZL_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv98Yy_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmppz1_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVVAZ_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jjjo_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qENv_460sv.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLLAE_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnnL8_460svav1.mp4", "category": "motorvehicles" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQvzwx_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBbZX_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vAQEp_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8xeM_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aBybqDQ_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGxxv_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGx6v_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qp5G_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6Zev0m_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGX0ZZ_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9nyv_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4Q0j_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4Q51_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PBeRw_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q9mZV_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vAB5w_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4QL6_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a1m8zYb_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOjqj_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70pe0_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB33X_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv00m_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOEEo_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vAngD_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qE5B_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVKVn_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y494m_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOyV5_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpPpq_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZeAxe_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB345_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV03vR_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrWNw_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVqAj_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jLVM_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDjAB_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70Lv5_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDG64K_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jLMn_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q98QE_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3oOx_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpP56_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV03Yx_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ4Gm9_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAVKBK_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qEoG_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPm5qb_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpPrv_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/awy967R_460sv.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qyBd_460svav1.mp4", "category": "animals" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBbLX_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70AeL_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvNDB_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qodO_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aByb772_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q988N_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9NGK_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omzRw_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q98Yg_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vBxd_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmOwX_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PBDx1_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PBDr1_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y496o_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nXxv_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nX7M_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zVwr_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9Nqv_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWmXN_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAV5NQ_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omQ2e_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO3xv_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoO3Vv_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZePqA_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nwQN_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j3gn_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPmBx9_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyGXzA_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j37p_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvWwx_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4x0W_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nMPR_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOZoz_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBM1d_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeL6D_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j9WG_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vxPQ_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zXmv_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzDWLr_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnZ8b_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBK9O_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vxKO_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3exQ_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyLzxo_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70Pbo_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnO71P_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j45G_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDLD6_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyL9jg_460sv.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyer8D_460svav1.mp4", "category": "science" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXb4Q_460sv.mp4", "category": "comic" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPm5g6_460svav1.mp4", "category": "comic" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9ArM_460sv.mp4", "category": "comic" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3eeR_460sv.mp4", "category": "comic" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALnmL_460svav1.mp4", "category": "comic" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8xAM_460svav1.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0jeG9_460sv.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyexxW_460svav1.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9nnd_460sv.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnyZW_460svav1.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8ngOD_460sv.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8ngm6_460svav1.mp4", "category": "wholesome" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vAQNY_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vPLO_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXrKZ_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQv2mq_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q98Mg_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDBBz_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qLdB_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axye5nn_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvndB_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omQqA_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrXzK_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrXYw_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrmN6_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvWzj_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nMwr_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34z6Ge_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8bZA_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDQ5B_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a9y4xp6_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a34zXVv_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxvpQj_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ4OyV_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aBybBxD_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpznW_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWzmj_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aO8nWXM_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vgzZ_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv3nb_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv35p_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aE0j47o_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aoyG702_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aLnOED5_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVwqQ_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv96Wy_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV05vP_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qwMQ_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXZYQ_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4eywZ_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aRB8WvB_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vNz3_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzDbgz_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQv6yN_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aryDEgB_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axye8XD_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qEqq_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrqbK_460svav1.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnXM9_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axye8AK_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aMV06wR_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aD2qLgG_460sv.mp4", "category": "sports" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70pyo_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/azxv0em_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyB32q_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGN8G_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a1m89w2_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aPAV5oG_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aNDGNzr_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aW4ezO6_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vZb6_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyV09P_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a7omY4r_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aQzDLLW_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/axyeLQb_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBMmW_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vA3Xd_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a2vA3yD_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aVv9pZn_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXQwQ_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQv3Ow_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRn4R8_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70mXb_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGXonj_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aBybBEO_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6ZeY9R_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/avyBK0b_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/apRnZq5_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrQmX_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aXPmOB6_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qBzB_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eD3Ev_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aqyVEdj_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aYQv0n0_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/agmpe8w_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ayNmK4M_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a4PB07v_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/amoOZ0X_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/abALw7p_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aZZ45eW_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a87vOZO_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aAyL5Od_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aKGX5g6_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a6Ze67N_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70wYz_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ajP3wPw_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/ae9qzPW_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a5Q9gGo_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/adBWAgQ_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDgXq_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/a0eDG2L_460sv.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aGyrq76_460svav1.mp4", "category": "food" },
  { "url": "https://img-9gag-fun.9cache.com/photo/an70AXb_460sv.mp4", "category": "lifestyle" },
  { "url": "https://img-9gag-fun.9cache.com/photo/aBybD3O_460sv.mp4", "category": "lifestyle" }
]
</file>

<file path="frontend/src/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  color: #0f172a;
  background-color: #eef2ff;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at 10% 20%, #dbeafe 0, transparent 25%),
    radial-gradient(circle at 80% 0%, #c7d2fe 0, transparent 30%),
    linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%);
}

.dark body {
  color: #e2e8f0;
  background: radial-gradient(circle at 10% 20%, #0f172a 0, transparent 25%),
    radial-gradient(circle at 80% 0%, #1e293b 0, transparent 30%),
    linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

a {
  color: inherit;
  text-decoration: none;
}

/* Splash intro */
.splash-overlay {
  position: fixed;
  inset: 0;
  z-index: 2000;
  display: grid;
  place-items: center;
  background: radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.25), transparent 35%),
    radial-gradient(circle at 70% 10%, rgba(14, 165, 233, 0.18), transparent 30%),
    #0f172a;
  animation: splashFadeIn 0.2s ease-out;
}

.splash-card {
  width: 320px;
  height: 220px;
  background: linear-gradient(135deg, #0f172a 0%, #111827 40%, #1f2937 100%);
  position: relative;
  display: grid;
  place-content: center;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.45);
  animation: splashPop 0.9s ease-out forwards;
}

.splash-content {
  position: relative;
  transition: all 0.5s ease-in-out;
}

.splash-logo {
  height: 42px;
  position: relative;
  width: 38px;
  overflow: hidden;
  transition: all 1s ease-in-out;
  animation: splashLogoGrow 1s ease forwards;
}

.splash-logo .logo-main {
  height: 38px;
  position: absolute;
  left: 0;
}

.splash-logo svg {
  height: 100%;
}

.splash-logo .logo-main svg {
  fill: #b9a068;
}

.logo-second-text {
  position: absolute;
  left: 44px;
  top: 2px;
  font-size: 18px;
  letter-spacing: 8px;
  color: #e5e7eb;
  font-weight: 700;
  text-transform: uppercase;
  opacity: 0;
  animation: splashText 0.9s ease-out 0.35s forwards;
}

.logo-trail {
  position: absolute;
  right: 0;
  height: 100%;
  width: 100%;
  opacity: 0;
  animation: splashTrail 1.1s ease-out 0.1s forwards;
}

.splash-bottom {
  display: none;
}

@keyframes splashFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes splashPop {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  60% {
    transform: scale(1.04);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes splashTrail {
  0% {
    background: linear-gradient(90deg, rgba(185, 160, 104, 0) 90%, rgb(185, 160, 104) 100%);
    opacity: 0;
  }
  30% {
    background: linear-gradient(90deg, rgba(185, 160, 104, 0) 70%, rgb(185, 160, 104) 100%);
    opacity: 1;
  }
  70% {
    background: linear-gradient(90deg, rgba(185, 160, 104, 0) 70%, rgb(185, 160, 104) 100%);
    opacity: 1;
  }
  95% {
    background: linear-gradient(90deg, rgba(185, 160, 104, 0) 90%, rgb(185, 160, 104) 100%);
    opacity: 0;
  }
}

@keyframes splashLogoGrow {
  from {
    width: 38px;
  }
  to {
    width: 140px;
  }
}

@keyframes splashText {
  from {
    opacity: 0;
    letter-spacing: 2px;
  }
  to {
    opacity: 1;
    letter-spacing: 8px;
  }
}
</file>

<file path="frontend/src/pages/EditProfile.jsx">
import { useEffect, useState } from "react";
import { useMutation, useQueryClient } from "@tanstack/react-query";
import { useNavigate } from "react-router-dom";
import api, { API_BASE_URL } from "../api/client";
import Avatar from "../components/Avatar";
import { useAuth } from "../context/AuthContext";

export default function EditProfile() {
  const { user, setUser } = useAuth();
  const navigate = useNavigate();
  const queryClient = useQueryClient();
  const [form, setForm] = useState({ name: "", username: "", bio: "" });
  const [avatarFile, setAvatarFile] = useState(null);
  const [avatarPreview, setAvatarPreview] = useState(null);
  const [profileVideoFile, setProfileVideoFile] = useState(null);
  const [coverFile, setCoverFile] = useState(null);
  const [coverPreview, setCoverPreview] = useState(null);
  const [coverVideoFile, setCoverVideoFile] = useState(null);
  const [coverVideoStart, setCoverVideoStart] = useState(0);
  const [coverVideoDuration, setCoverVideoDuration] = useState(0);
  const [coverClipLength, setCoverClipLength] = useState(3);
  const [videoStart, setVideoStart] = useState(0);
  const [videoDuration, setVideoDuration] = useState(0);
  const [videoClipLength, setVideoClipLength] = useState(3);
  const [useVideoAvatar, setUseVideoAvatar] = useState(false);
  const [message, setMessage] = useState(null);
  const mediaBase = API_BASE_URL.replace(/\/api$/, "");

  useEffect(() => {
    if (user) {
      setForm({
        name: user.name || "",
        username: user.username || "",
        bio: user.bio || "",
      });
      setUseVideoAvatar(!!user.useVideoAvatar);
    }
  }, [user]);

  const profileMutation = useMutation({
    mutationFn: async () => {
      const { data } = await api.put("/users/me", form);
      return data;
    },
    onSuccess: ({ user: updated }) => {
      setUser(updated);
      queryClient.invalidateQueries({ queryKey: ["profile", updated.username] });
      setMessage("Perfil actualizado");
      navigate(`/profile/${updated.username}`);
    },
  });

  const avatarMutation = useMutation({
    mutationFn: async (file) => {
      const fd = new FormData();
      fd.append("avatar", file);
      const { data } = await api.put("/users/me/avatar", fd, {
        headers: { "Content-Type": "multipart/form-data" },
      });
      return data;
    },
    onSuccess: ({ user: updated }) => {
      setUser(updated);
      queryClient.invalidateQueries({ queryKey: ["profile", updated.username] });
      setMessage("Avatar actualizado");
      setAvatarFile(null);
      setAvatarPreview(null);
    },
  });

  const handleAvatarChange = (file) => {
    if (!file) return;
    setAvatarFile(file);
    setAvatarPreview(URL.createObjectURL(file));
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    profileMutation.mutate();
  };

  const videoMutation = useMutation({
    mutationFn: async (file) => {
      const fd = new FormData();
      fd.append("profileVideo", file);
      fd.append("start", videoStart);
      fd.append("length", videoClipLength);
      fd.append("end", Math.min(videoStart + videoClipLength, videoDuration || videoStart + videoClipLength));
      const { data } = await api.put("/users/me/profile-video", fd, {
        headers: { "Content-Type": "multipart/form-data" },
      });
      return data;
    },
    onSuccess: ({ user: updated }) => {
      setUser(updated);
      queryClient.invalidateQueries({ queryKey: ["profile", updated.username] });
      setMessage("Video de perfil actualizado");
      setProfileVideoFile(null);
      setVideoDuration(0);
      setVideoStart(0);
    },
  });

  const coverMutation = useMutation({
    mutationFn: async (file) => {
      const fd = new FormData();
      fd.append("coverImage", file);
      const { data } = await api.put("/users/me/cover", fd, {
        headers: { "Content-Type": "multipart/form-data" },
      });
      return data;
    },
    onSuccess: ({ user: updated }) => {
      setUser(updated);
      queryClient.invalidateQueries({ queryKey: ["profile", updated.username] });
      setMessage("Portada actualizada");
      setCoverFile(null);
      setCoverPreview(null);
    },
  });

  const coverVideoMutation = useMutation({
    mutationFn: async (file) => {
      const fd = new FormData();
      fd.append("coverVideo", file);
      fd.append("start", coverVideoStart);
      fd.append("length", coverClipLength);
      fd.append("end", Math.min(coverVideoStart + coverClipLength, coverVideoDuration || coverVideoStart + coverClipLength));
      const { data } = await api.put("/users/me/cover-video", fd, {
        headers: { "Content-Type": "multipart/form-data" },
      });
      return data;
    },
    onSuccess: ({ user: updated }) => {
      setUser(updated);
      queryClient.invalidateQueries({ queryKey: ["profile", updated.username] });
      setMessage("Portada en video actualizada");
      setCoverVideoFile(null);
      setCoverVideoDuration(0);
      setCoverVideoStart(0);
    },
  });

  const avatarModeMutation = useMutation({
    mutationFn: async (mode) => api.put("/users/me/avatar-mode", { useVideoAvatar: mode }),
    onSuccess: ({ user: updated }) => {
      setUser(updated);
      setUseVideoAvatar(updated.useVideoAvatar);
      queryClient.invalidateQueries({ queryKey: ["profile", updated.username] });
      setMessage("Modo de avatar actualizado");
    },
  });

  return (
    <div className="max-w-3xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm">
      <h1 className="text-xl font-semibold text-slate-900 dark:text-slate-50 mb-4">Editar perfil</h1>
      {message && <div className="mb-4 text-sm text-green-700 bg-green-50 border border-green-200 rounded-lg p-3">{message}</div>}
      <form className="space-y-4" onSubmit={handleSubmit}>
        <div className="space-y-2">
          <h2 className="text-sm font-semibold text-slate-800 dark:text-slate-100">Portada</h2>
          <div className="w-full h-32 rounded-xl overflow-hidden bg-gradient-to-r from-slate-200 to-slate-300 dark:from-slate-800 dark:to-slate-700 border border-slate-200 dark:border-slate-700">
            {coverPreview ? (
              <img src={coverPreview} alt="Portada" className="w-full h-full object-cover" />
            ) : user?.coverImageUrl ? (
              <img src={`${mediaBase}/${user.coverImageUrl}`} alt="Portada" className="w-full h-full object-cover" />
            ) : user?.coverVideoUrl ? (
              <video
                src={`${mediaBase}/${user.coverVideoUrl}`}
                autoPlay
                loop
                muted
                playsInline
                className="w-full h-full object-cover"
              />
            ) : null}
          </div>
          <label className="text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer">
            <input
              type="file"
              accept="image/*"
              className="hidden"
              onChange={(e) => {
                const file = e.target.files?.[0];
                if (file) {
                  setCoverFile(file);
                  setCoverPreview(URL.createObjectURL(file));
                }
              }}
            />
            Cambiar portada
          </label>
          {coverFile && (
            <button
              type="button"
              onClick={() => coverMutation.mutate(coverFile)}
              className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
              disabled={coverMutation.isPending}
            >
              {coverMutation.isPending ? "Guardando..." : "Guardar portada"}
            </button>
          )}
          <div className="space-y-1">
                        <label className="text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer">
              <input
                type="file"
                accept="video/*"
                className="hidden"
                onChange={(e) => {
                  const file = e.target.files?.[0] || null;
                  if (file && file.size > 20 * 1024 * 1024) {
                    alert("El video no puede superar 20MB");
                    return;
                  }
                  setCoverVideoFile(file);
                  if (file) {
                    const url = URL.createObjectURL(file);
                    const vid = document.createElement("video");
                    vid.src = url;
                    vid.onloadedmetadata = () => {
                      const dur = vid.duration;
                      setCoverVideoDuration(dur);
                      setCoverVideoStart(0);
                    };
                  }
                }}
              />
              Subir video de portada (max. 20MB, clip de 3 o 5s)
            </label>
            <div className="flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300">
              <span>Duracion:</span>
              {[3, 5].map((len) => (
                <button
                  type="button"
                  key={len}
                  onClick={() => {
                    setCoverClipLength(len);
                    setCoverVideoStart((prev) =>
                      Math.min(prev, Math.max(0, (coverVideoDuration || len) - len))
                    );
                  }}
                  className={`px-2 py-1 rounded-full border ${
                    coverClipLength === len
                      ? "bg-indigo-600 text-white border-indigo-600"
                      : "border-slate-300 dark:border-slate-700"
                  }`}
                >
                  {len}s
                </button>
              ))}
            </div>
            {coverVideoDuration > 0 && (
              <div className="text-xs text-slate-500">
                Selecciona inicio (clip {coverClipLength}s):{" "}
                <input
                  type="range"
                  min="0"
                  max={Math.max(0, coverVideoDuration - coverClipLength)}
                  step="0.1"
                  value={coverVideoStart}
                  onChange={(e) => setCoverVideoStart(Number(e.target.value))}
                />
                <span className="ml-2">
                  {coverVideoStart.toFixed(1)}s - {(coverVideoStart + coverClipLength).toFixed(1)}s
                </span>
              </div>
            )}
            {coverVideoFile && (
              <button
                type="button"
                onClick={() => coverVideoMutation.mutate(coverVideoFile)}
                className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
                disabled={coverVideoMutation.isPending}
              >
                {coverVideoMutation.isPending ? "Guardando..." : "Guardar video de portada"}
              </button>
            )}
          </div>
        </div>
          <div className="flex items-center gap-4">
            <Avatar user={user} size={72} />
            <div className="space-y-2">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer">
              <input
                type="file"
                accept="image/*"
                className="hidden"
                onChange={(e) => handleAvatarChange(e.target.files?.[0])}
              />
              Cambiar avatar
            </label>
            {avatarPreview && (
              <img
                src={avatarPreview}
                alt="Preview avatar"
                className="w-24 h-24 rounded-full object-cover border border-slate-200 dark:border-slate-700"
              />
            )}
            {avatarFile && (
              <button
                type="button"
                onClick={() => avatarMutation.mutate(avatarFile)}
                className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
                disabled={avatarMutation.isPending}
              >
                {avatarMutation.isPending ? "Guardando..." : "Guardar avatar"}
              </button>
            )}
            <div className="space-y-1">
                            <label className="text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer">
                <input
                  type="file"
                  accept="video/*"
                  className="hidden"
                  onChange={(e) => {
                    const file = e.target.files?.[0] || null;
                    if (file && file.size > 20 * 1024 * 1024) {
                      alert("El video no puede superar 20MB");
                      return;
                    }
                    setProfileVideoFile(file);
                    if (file) {
                      const url = URL.createObjectURL(file);
                      const vid = document.createElement("video");
                      vid.src = url;
                      vid.onloadedmetadata = () => {
                        const dur = vid.duration;
                        setVideoDuration(dur);
                        setVideoStart(0);
                      };
                    }
                  }}
                />
                Subir video de perfil (max. 20 MB, clip de 3 o 5s)
              </label>
              <div className="flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300">
                <span>Duracion:</span>
                {[3, 5].map((len) => (
                  <button
                    type="button"
                    key={len}
                    onClick={() => {
                      setVideoClipLength(len);
                      setVideoStart((prev) => Math.min(prev, Math.max(0, (videoDuration || len) - len)));
                    }}
                    className={`px-2 py-1 rounded-full border ${
                      videoClipLength === len
                        ? "bg-indigo-600 text-white border-indigo-600"
                        : "border-slate-300 dark:border-slate-700"
                    }`}
                  >
                    {len}s
                  </button>
                ))}
              </div>
              {profileVideoFile && (
                <button
                  type="button"
                  onClick={() => videoMutation.mutate(profileVideoFile)}
                  className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
                  disabled={videoMutation.isPending}
                >
                  {videoMutation.isPending ? "Guardando..." : "Guardar video"}
                </button>
              )}
              <label className="flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200">
                <input
                  type="checkbox"
                  checked={useVideoAvatar}
                  onChange={(e) => avatarModeMutation.mutate(e.target.checked)}
                />
                Usar video como foto de perfil (recomendado: 3-5s, sin audio)
              </label>
              {videoDuration > 0 && (
                <div className="text-xs text-slate-500">
                  Selecciona el inicio (clip {videoClipLength}s):{" "}
                  <input
                    type="range"
                    min="0"
                    max={Math.max(0, videoDuration - videoClipLength)}
                    step="0.1"
                    value={videoStart}
                    onChange={(e) => setVideoStart(Number(e.target.value))}
                  />
                  <span className="ml-2">
                    {videoStart.toFixed(1)}s - {(videoStart + videoClipLength).toFixed(1)}s
                  </span>
                </div>
              )}
            </div>
          </div>
        </div>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Nombre</label>
            <input
              value={form.name}
              onChange={(e) => setForm((prev) => ({ ...prev, name: e.target.value }))}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"
            />
          </div>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">@username</label>
            <input
              value={form.username}
              onChange={(e) => setForm((prev) => ({ ...prev, username: e.target.value }))}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"
            />
          </div>
        </div>
        <div className="space-y-1">
          <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Bio</label>
          <textarea
            value={form.bio}
            onChange={(e) => setForm((prev) => ({ ...prev, bio: e.target.value }))}
            rows={3}
            className="w-full rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm focus:border-indigo-400 focus:outline-none bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100"
            placeholder="Cuntanos sobre ti"
          />
        </div>
        <button
          type="submit"
          disabled={profileMutation.isPending}
          className="px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50 dark:bg-indigo-600 dark:hover:bg-indigo-500"
        >
          {profileMutation.isPending ? "Guardando..." : "Guardar cambios"}
        </button>
      </form>
      {user?.avatar && (
        <p className="text-xs text-slate-500 dark:text-slate-400 mt-4">
          Ruta de avatar actual: {`${mediaBase}/${user.avatar}`}
        </p>
      )}
    </div>
  );
}
</file>

<file path="backend/prisma/migrations/20251204221945_init/migration.sql">
-- CreateTable
CREATE TABLE "User" (
    "id" SERIAL NOT NULL,
    "name" TEXT NOT NULL,
    "username" TEXT NOT NULL,
    "email" TEXT NOT NULL,
    "bio" TEXT,
    "password" TEXT NOT NULL,
    "avatar" TEXT,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "User_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Post" (
    "id" SERIAL NOT NULL,
    "content" TEXT NOT NULL,
    "image" TEXT,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "authorId" INTEGER NOT NULL,

    CONSTRAINT "Post_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Comment" (
    "id" SERIAL NOT NULL,
    "content" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "authorId" INTEGER NOT NULL,
    "postId" INTEGER NOT NULL,

    CONSTRAINT "Comment_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Like" (
    "id" SERIAL NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "userId" INTEGER NOT NULL,
    "postId" INTEGER NOT NULL,

    CONSTRAINT "Like_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "User_username_key" ON "User"("username");

-- CreateIndex
CREATE UNIQUE INDEX "User_email_key" ON "User"("email");

-- CreateIndex
CREATE UNIQUE INDEX "Like_userId_postId_key" ON "Like"("userId", "postId");

-- AddForeignKey
ALTER TABLE "Post" ADD CONSTRAINT "Post_authorId_fkey" FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Comment" ADD CONSTRAINT "Comment_authorId_fkey" FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Comment" ADD CONSTRAINT "Comment_postId_fkey" FOREIGN KEY ("postId") REFERENCES "Post"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Like" ADD CONSTRAINT "Like_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Like" ADD CONSTRAINT "Like_postId_fkey" FOREIGN KEY ("postId") REFERENCES "Post"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
</file>

<file path="backend/prisma/migrations/20251204233504_add_friends_reactions/migration.sql">
-- CreateEnum
CREATE TYPE "ReactionType" AS ENUM ('MACANUDO', 'MESSIRVE', 'JAJAJA', 'DE_UNA', 'QUE_BOLUDO', 'QUE_BAJON');

-- CreateEnum
CREATE TYPE "FriendshipStatus" AS ENUM ('PENDING', 'ACCEPTED');

-- CreateTable
CREATE TABLE "Reaction" (
    "id" SERIAL NOT NULL,
    "type" "ReactionType" NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "userId" INTEGER NOT NULL,
    "postId" INTEGER NOT NULL,

    CONSTRAINT "Reaction_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Friendship" (
    "id" SERIAL NOT NULL,
    "requesterId" INTEGER NOT NULL,
    "addresseeId" INTEGER NOT NULL,
    "status" "FriendshipStatus" NOT NULL DEFAULT 'PENDING',
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL,

    CONSTRAINT "Friendship_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "Reaction_userId_postId_key" ON "Reaction"("userId", "postId");

-- CreateIndex
CREATE UNIQUE INDEX "Friendship_requesterId_addresseeId_key" ON "Friendship"("requesterId", "addresseeId");

-- AddForeignKey
ALTER TABLE "Reaction" ADD CONSTRAINT "Reaction_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Reaction" ADD CONSTRAINT "Reaction_postId_fkey" FOREIGN KEY ("postId") REFERENCES "Post"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Friendship" ADD CONSTRAINT "Friendship_requesterId_fkey" FOREIGN KEY ("requesterId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Friendship" ADD CONSTRAINT "Friendship_addresseeId_fkey" FOREIGN KEY ("addresseeId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
</file>

<file path="backend/prisma/migrations/20251205005345_notifications_chat_preferences/migration.sql">
-- CreateEnum
CREATE TYPE "NotificationType" AS ENUM ('REACTION', 'MENTION', 'MESSAGE');

-- AlterTable
ALTER TABLE "Friendship" ADD COLUMN     "relationCategory" TEXT,
ADD COLUMN     "relationDetail" TEXT;

-- CreateTable
CREATE TABLE "Notification" (
    "id" SERIAL NOT NULL,
    "type" "NotificationType" NOT NULL,
    "data" JSONB NOT NULL,
    "readAt" TIMESTAMP(3),
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "userId" INTEGER NOT NULL,

    CONSTRAINT "Notification_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "UserPreference" (
    "id" SERIAL NOT NULL,
    "userId" INTEGER NOT NULL,
    "cardStyle" JSONB,
    "theme" TEXT,
    "updatedAt" TIMESTAMP(3) NOT NULL,

    CONSTRAINT "UserPreference_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Conversation" (
    "id" SERIAL NOT NULL,
    "isDirect" BOOLEAN NOT NULL DEFAULT true,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "Conversation_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "ConversationParticipant" (
    "id" SERIAL NOT NULL,
    "conversationId" INTEGER NOT NULL,
    "userId" INTEGER NOT NULL,

    CONSTRAINT "ConversationParticipant_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Message" (
    "id" SERIAL NOT NULL,
    "content" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "senderId" INTEGER NOT NULL,
    "conversationId" INTEGER NOT NULL,

    CONSTRAINT "Message_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "UserPreference_userId_key" ON "UserPreference"("userId");

-- CreateIndex
CREATE UNIQUE INDEX "ConversationParticipant_conversationId_userId_key" ON "ConversationParticipant"("conversationId", "userId");

-- AddForeignKey
ALTER TABLE "Notification" ADD CONSTRAINT "Notification_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserPreference" ADD CONSTRAINT "UserPreference_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "ConversationParticipant" ADD CONSTRAINT "ConversationParticipant_conversationId_fkey" FOREIGN KEY ("conversationId") REFERENCES "Conversation"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "ConversationParticipant" ADD CONSTRAINT "ConversationParticipant_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Message" ADD CONSTRAINT "Message_senderId_fkey" FOREIGN KEY ("senderId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Message" ADD CONSTRAINT "Message_conversationId_fkey" FOREIGN KEY ("conversationId") REFERENCES "Conversation"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
</file>

<file path="backend/prisma/migrations/20251205030205_themes_gamification/migration.sql">
-- CreateEnum
CREATE TYPE "InterestTopic" AS ENUM ('NATURE', 'RACING', 'MUSIC', 'TECH', 'ART', 'GENERIC');

-- CreateEnum
CREATE TYPE "InteractionType" AS ENUM ('REGISTER', 'LOGIN', 'POST_CREATED', 'COMMENT_CREATED', 'LIKE_GIVEN');

-- CreateEnum
CREATE TYPE "ShopCategory" AS ENUM ('THEME', 'DECORATION');

-- AlterTable
ALTER TABLE "User" ADD COLUMN     "customThemeSettings" JSONB,
ADD COLUMN     "lastLoginAt" TIMESTAMP(3),
ADD COLUMN     "loginStreak" INTEGER NOT NULL DEFAULT 0,
ADD COLUMN     "points" INTEGER NOT NULL DEFAULT 0,
ADD COLUMN     "themeId" INTEGER,
ADD COLUMN     "totalPointsEarned" INTEGER NOT NULL DEFAULT 0;

-- CreateTable
CREATE TABLE "Theme" (
    "id" SERIAL NOT NULL,
    "key" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    "primaryColor" TEXT NOT NULL,
    "secondaryColor" TEXT NOT NULL,
    "backgroundGradient" TEXT NOT NULL,
    "decorations" JSONB,

    CONSTRAINT "Theme_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "ShopItem" (
    "id" SERIAL NOT NULL,
    "key" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    "description" TEXT NOT NULL,
    "category" "ShopCategory" NOT NULL,
    "pricePoints" INTEGER NOT NULL,
    "assetData" JSONB NOT NULL,
    "themeKey" TEXT,

    CONSTRAINT "ShopItem_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "UserItem" (
    "id" SERIAL NOT NULL,
    "userId" INTEGER NOT NULL,
    "itemId" INTEGER NOT NULL,
    "acquiredAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "equipped" BOOLEAN NOT NULL DEFAULT false,

    CONSTRAINT "UserItem_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "UserInteraction" (
    "id" SERIAL NOT NULL,
    "userId" INTEGER NOT NULL,
    "type" "InteractionType" NOT NULL,
    "weight" INTEGER NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "UserInteraction_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "Theme_key_key" ON "Theme"("key");

-- CreateIndex
CREATE UNIQUE INDEX "ShopItem_key_key" ON "ShopItem"("key");

-- AddForeignKey
ALTER TABLE "User" ADD CONSTRAINT "User_themeId_fkey" FOREIGN KEY ("themeId") REFERENCES "Theme"("id") ON DELETE SET NULL ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "ShopItem" ADD CONSTRAINT "ShopItem_themeKey_fkey" FOREIGN KEY ("themeKey") REFERENCES "Theme"("key") ON DELETE SET NULL ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserItem" ADD CONSTRAINT "UserItem_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserItem" ADD CONSTRAINT "UserItem_itemId_fkey" FOREIGN KEY ("itemId") REFERENCES "ShopItem"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserInteraction" ADD CONSTRAINT "UserInteraction_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
</file>

<file path="backend/prisma/migrations/20251206053730_add_squads_projects_badges_feedback/migration.sql">
/*
  Warnings:

  - Changed the type of `category` on the `ShopItem` table. No cast exists, the column would be dropped and recreated, which cannot be done if there is data, since the column is required.

*/
-- CreateEnum
CREATE TYPE "PostType" AS ENUM ('NORMAL', 'HELP_REQUEST', 'PROJECT_UPDATE');

-- CreateEnum
CREATE TYPE "ShopItemCategory" AS ENUM ('THEME', 'DECORATION');

-- CreateEnum
CREATE TYPE "SquadType" AS ENUM ('FOTO', 'FITNESS', 'IDIOMAS', 'GENERAL');

-- CreateEnum
CREATE TYPE "SquadRole" AS ENUM ('MEMBER', 'ADMIN');

-- CreateEnum
CREATE TYPE "ProjectCategory" AS ENUM ('PERSONAL', 'CREATIVO', 'SALUD', 'ESTUDIO', 'OTRO');

-- CreateEnum
CREATE TYPE "ProjectVisibility" AS ENUM ('PUBLIC', 'FRIENDS', 'PRIVATE');

-- CreateEnum
CREATE TYPE "FeedbackStatus" AS ENUM ('NEW', 'REVIEWING', 'IN_PROGRESS', 'DONE');

-- AlterTable
ALTER TABLE "Post" ADD COLUMN     "projectId" INTEGER,
ADD COLUMN     "squadId" INTEGER,
ADD COLUMN     "tags" TEXT[] DEFAULT ARRAY[]::TEXT[],
ADD COLUMN     "type" "PostType" NOT NULL DEFAULT 'NORMAL';

-- AlterTable
ALTER TABLE "ShopItem" ALTER COLUMN "description" DROP NOT NULL,
DROP COLUMN "category",
ADD COLUMN     "category" "ShopItemCategory" NOT NULL,
ALTER COLUMN "assetData" DROP NOT NULL;

-- AlterTable
ALTER TABLE "Theme" ADD COLUMN     "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
ALTER COLUMN "primaryColor" DROP NOT NULL,
ALTER COLUMN "secondaryColor" DROP NOT NULL,
ALTER COLUMN "backgroundGradient" DROP NOT NULL;

-- AlterTable
ALTER TABLE "User" ADD COLUMN     "interests" TEXT[] DEFAULT ARRAY[]::TEXT[],
ADD COLUMN     "location" TEXT;

-- DropEnum
DROP TYPE "InterestTopic";

-- DropEnum
DROP TYPE "ShopCategory";

-- CreateTable
CREATE TABLE "Squad" (
    "id" SERIAL NOT NULL,
    "name" TEXT NOT NULL,
    "slug" TEXT NOT NULL,
    "description" TEXT NOT NULL,
    "tags" TEXT[] DEFAULT ARRAY[]::TEXT[],
    "type" "SquadType" NOT NULL DEFAULT 'GENERAL',
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "Squad_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "SquadMember" (
    "userId" INTEGER NOT NULL,
    "squadId" INTEGER NOT NULL,
    "role" "SquadRole" NOT NULL DEFAULT 'MEMBER',
    "joinedAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "SquadMember_pkey" PRIMARY KEY ("userId","squadId")
);

-- CreateTable
CREATE TABLE "Project" (
    "id" SERIAL NOT NULL,
    "userId" INTEGER NOT NULL,
    "title" TEXT NOT NULL,
    "description" TEXT,
    "category" "ProjectCategory" NOT NULL DEFAULT 'OTRO',
    "targetDate" TIMESTAMP(3),
    "visibility" "ProjectVisibility" NOT NULL DEFAULT 'PUBLIC',
    "needsHelp" BOOLEAN NOT NULL DEFAULT false,

    CONSTRAINT "Project_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Badge" (
    "id" SERIAL NOT NULL,
    "code" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    "description" TEXT,
    "icon" TEXT,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "Badge_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "UserBadge" (
    "userId" INTEGER NOT NULL,
    "badgeId" INTEGER NOT NULL,
    "grantedAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "UserBadge_pkey" PRIMARY KEY ("userId","badgeId")
);

-- CreateTable
CREATE TABLE "Feedback" (
    "id" SERIAL NOT NULL,
    "authorId" INTEGER NOT NULL,
    "title" TEXT NOT NULL,
    "description" TEXT NOT NULL,
    "votes" INTEGER NOT NULL DEFAULT 0,
    "status" "FeedbackStatus" NOT NULL DEFAULT 'NEW',
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "Feedback_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "FeedbackVote" (
    "userId" INTEGER NOT NULL,
    "feedbackId" INTEGER NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "FeedbackVote_pkey" PRIMARY KEY ("userId","feedbackId")
);

-- CreateIndex
CREATE UNIQUE INDEX "Squad_slug_key" ON "Squad"("slug");

-- CreateIndex
CREATE UNIQUE INDEX "Badge_code_key" ON "Badge"("code");

-- AddForeignKey
ALTER TABLE "Post" ADD CONSTRAINT "Post_squadId_fkey" FOREIGN KEY ("squadId") REFERENCES "Squad"("id") ON DELETE SET NULL ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Post" ADD CONSTRAINT "Post_projectId_fkey" FOREIGN KEY ("projectId") REFERENCES "Project"("id") ON DELETE SET NULL ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "SquadMember" ADD CONSTRAINT "SquadMember_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "SquadMember" ADD CONSTRAINT "SquadMember_squadId_fkey" FOREIGN KEY ("squadId") REFERENCES "Squad"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Project" ADD CONSTRAINT "Project_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserBadge" ADD CONSTRAINT "UserBadge_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserBadge" ADD CONSTRAINT "UserBadge_badgeId_fkey" FOREIGN KEY ("badgeId") REFERENCES "Badge"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "Feedback" ADD CONSTRAINT "Feedback_authorId_fkey" FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "FeedbackVote" ADD CONSTRAINT "FeedbackVote_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "FeedbackVote" ADD CONSTRAINT "FeedbackVote_feedbackId_fkey" FOREIGN KEY ("feedbackId") REFERENCES "Feedback"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
</file>

<file path="backend/prisma/migrations/20251206054900_add_squads_projects_badges_feedback_v2/migration.sql">
-- This is an empty migration.
</file>

<file path="backend/prisma/migrations/20251206071154_add_onboarding_flag/migration.sql">
-- AlterTable
ALTER TABLE "User" ADD COLUMN     "hasCompletedOnboarding" BOOLEAN NOT NULL DEFAULT false;
</file>

<file path="backend/prisma/migrations/20251206071220_add_onboarding_flag/migration.sql">
-- This is an empty migration.
</file>

<file path="backend/prisma/migrations/20251206073138_add_project_progress/migration.sql">
-- AlterTable
ALTER TABLE "Project" ADD COLUMN     "progress" INTEGER NOT NULL DEFAULT 0;
</file>

<file path="backend/prisma/migrations/20251206073204_add_project_progress/migration.sql">
-- This is an empty migration.
</file>

<file path="backend/prisma/migrations/20251206074116_add_profile_video_cover/migration.sql">
-- AlterTable
ALTER TABLE "User" ADD COLUMN     "coverImageUrl" TEXT,
ADD COLUMN     "profileVideoThumbnailUrl" TEXT,
ADD COLUMN     "profileVideoUrl" TEXT,
ADD COLUMN     "useVideoAvatar" BOOLEAN NOT NULL DEFAULT false;
</file>

<file path="backend/prisma/migrations/20251206080653_add_cover_video/migration.sql">
-- AlterTable
ALTER TABLE "User" ADD COLUMN     "coverVideoUrl" TEXT;
</file>

<file path="backend/prisma/migrations/20251206174818_add_hashtag_stats/migration.sql">
-- CreateTable
CREATE TABLE "Hashtag" (
    "id" SERIAL NOT NULL,
    "canonical" TEXT NOT NULL,
    "display" TEXT NOT NULL,
    "useCount" INTEGER NOT NULL DEFAULT 0,
    "lastUsedAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "Hashtag_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "Hashtag_canonical_key" ON "Hashtag"("canonical");
</file>

<file path="backend/prisma/migrations/20251206203340_add_unique_usertermstats/migration.sql">
-- CreateIndex
CREATE UNIQUE INDEX "UserTermStats_userId_normalized_key" ON "UserTermStats"("userId", "normalized");
</file>

<file path="backend/prisma/migrations/20251206232135_add_term_and_relation_models/migration.sql">
-- CreateTable
CREATE TABLE "TermGlobal" (
    "id" SERIAL NOT NULL,
    "term" TEXT NOT NULL,
    "normalized" TEXT NOT NULL,
    "totalCount" INTEGER NOT NULL DEFAULT 0,
    "firstSeenAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "lastSeenAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "TermGlobal_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "TermTopicStats" (
    "id" SERIAL NOT NULL,
    "termNormalized" TEXT NOT NULL,
    "tag" TEXT NOT NULL,
    "count" INTEGER NOT NULL DEFAULT 0,

    CONSTRAINT "TermTopicStats_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "UserTermStats" (
    "id" SERIAL NOT NULL,
    "userId" INTEGER NOT NULL,
    "term" TEXT NOT NULL,
    "normalized" TEXT NOT NULL,
    "isProperName" BOOLEAN NOT NULL DEFAULT false,
    "count" INTEGER NOT NULL DEFAULT 0,
    "lastSeenAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "UserTermStats_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "UserRelation" (
    "id" SERIAL NOT NULL,
    "user1Id" INTEGER NOT NULL,
    "user2Id" INTEGER NOT NULL,
    "score" DOUBLE PRECISION NOT NULL DEFAULT 0,
    "lastInteractionAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "UserRelation_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "AmbiguousReference" (
    "id" SERIAL NOT NULL,
    "postId" INTEGER NOT NULL,
    "authorId" INTEGER NOT NULL,
    "label" TEXT NOT NULL,
    "sentiment" TEXT NOT NULL,
    "kind" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,

    CONSTRAINT "AmbiguousReference_pkey" PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "AmbiguousReferenceCandidate" (
    "id" SERIAL NOT NULL,
    "referenceId" INTEGER NOT NULL,
    "targetUserId" INTEGER NOT NULL,
    "confidence" DOUBLE PRECISION NOT NULL DEFAULT 0,

    CONSTRAINT "AmbiguousReferenceCandidate_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "TermGlobal_normalized_key" ON "TermGlobal"("normalized");

-- CreateIndex
CREATE UNIQUE INDEX "TermTopicStats_termNormalized_tag_key" ON "TermTopicStats"("termNormalized", "tag");

-- CreateIndex
CREATE INDEX "UserTermStats_userId_normalized_idx" ON "UserTermStats"("userId", "normalized");

-- CreateIndex
CREATE UNIQUE INDEX "UserRelation_user1Id_user2Id_key" ON "UserRelation"("user1Id", "user2Id");

-- AddForeignKey
ALTER TABLE "UserTermStats" ADD CONSTRAINT "UserTermStats_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserRelation" ADD CONSTRAINT "UserRelation_user1Id_fkey" FOREIGN KEY ("user1Id") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "UserRelation" ADD CONSTRAINT "UserRelation_user2Id_fkey" FOREIGN KEY ("user2Id") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "AmbiguousReference" ADD CONSTRAINT "AmbiguousReference_postId_fkey" FOREIGN KEY ("postId") REFERENCES "Post"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "AmbiguousReference" ADD CONSTRAINT "AmbiguousReference_authorId_fkey" FOREIGN KEY ("authorId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "AmbiguousReferenceCandidate" ADD CONSTRAINT "AmbiguousReferenceCandidate_referenceId_fkey" FOREIGN KEY ("referenceId") REFERENCES "AmbiguousReference"("id") ON DELETE RESTRICT ON UPDATE CASCADE;

-- AddForeignKey
ALTER TABLE "AmbiguousReferenceCandidate" ADD CONSTRAINT "AmbiguousReferenceCandidate_targetUserId_fkey" FOREIGN KEY ("targetUserId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE;
</file>

<file path="backend/prisma/migrations/20251207173539_add_post_hashtags/migration.sql">
-- AlterTable
ALTER TABLE "Post" ADD COLUMN     "hashtags" TEXT[] DEFAULT ARRAY[]::TEXT[];
</file>

<file path="backend/src/routes/auth.js">
const express = require("express");
const bcrypt = require("bcrypt");
const jwt = require("jsonwebtoken");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");

const router = express.Router();

function createToken(userId) {
  return jwt.sign({ userId }, process.env.JWT_SECRET, { expiresIn: "7d" });
}

function sanitizeUser(user) {
  const { password, ...rest } = user;
  return rest;
}

router.post("/register", async (req, res) => {
  const { name, username, email, password } = req.body;
  const cleanUsername = (username || "").trim().toLowerCase();
  const cleanEmail = (email || "").trim().toLowerCase();

  if (!name || !cleanUsername || !cleanEmail || !password) {
    return res.status(400).json({ message: "Faltan campos obligatorios" });
  }

  const existing = await prisma.user.findFirst({
    where: {
      OR: [
        { email: { equals: cleanEmail, mode: "insensitive" } },
        { username: { equals: cleanUsername, mode: "insensitive" } },
      ],
    },
  });

  if (existing) {
    return res.status(400).json({ message: "Email o username ya registrado" });
  }

  const hashedPassword = await bcrypt.hash(password, 10);
  const user = await prisma.user.create({
    data: {
      name,
      username: cleanUsername,
      email: cleanEmail,
      password: hashedPassword,
    },
  });

  // Badge para fundadores (primeros N usuarios)
  const totalUsers = await prisma.user.count();
  if (totalUsers <= 200) {
    const founderBadge = await prisma.badge.findUnique({ where: { code: "FOUNDER_2025" } });
    if (founderBadge) {
      await prisma.userBadge.upsert({
        where: { userId_badgeId: { userId: user.id, badgeId: founderBadge.id } },
        update: {},
        create: { userId: user.id, badgeId: founderBadge.id },
      });
    }
  }

  const token = createToken(user.id);
  res.status(201).json({ token, user: sanitizeUser(user) });
});

router.post("/login", async (req, res) => {
  const { identifier, password } = req.body;
  const cleanIdentifier = (identifier || "").trim().toLowerCase();

  if (!cleanIdentifier || !password) {
    return res.status(400).json({ message: "Faltan credenciales" });
  }

  const user = await prisma.user.findFirst({
    where: {
      OR: [
        { email: { equals: cleanIdentifier, mode: "insensitive" } },
        { username: { equals: cleanIdentifier, mode: "insensitive" } },
      ],
    },
  });

  if (!user) {
    return res.status(400).json({ message: "Usuario no encontrado" });
  }

  const valid = await bcrypt.compare(password, user.password);
  if (!valid) {
    return res.status(400).json({ message: "Credenciales invlidas" });
  }

  const token = createToken(user.id);
  res.json({ token, user: sanitizeUser(user) });
});

router.get("/me", requireAuth, async (req, res) => {
  const user = await prisma.user.findUnique({
    where: { id: req.userId },
  });

  if (!user) {
    return res.status(404).json({ message: "Usuario no encontrado" });
  }

  res.json({ user: sanitizeUser(user) });
});

module.exports = router;
</file>

<file path="backend/src/routes/reels.js">
const express = require("express");
const router = express.Router();

// Minimal router for now to resolve MODULE_NOT_FOUND error
router.get("/", (req, res) => {
  res.status(200).json({ message: "Reels API endpoint (placeholder)" });
});

module.exports = router;
</file>

<file path="backend/src/services/aiPostAnalyzer.js">
const { callGroqChat, GROQ_ENABLED } = require("./aiClient");
const TOPICS = require("../config/topics");
const TAG_CATEGORIES = require("../config/tagCategories");
const { normalizeHashtag } = require("../utils/hashtags");

function buildTopicsCatalog() {
  return Object.keys(TOPICS).map((key) => {
    const t = TOPICS[key];
    return {
      id: t.canonicalTag || key,
      description: t.description || "",
      keywords: t.keywords || [],
    };
  });
}

function normalizeText(str = "") {
  return normalizeHashtag(str);
}

function countWords(str = "") {
  return str
    .trim()
    .split(/\s+/)
    .filter(Boolean).length;
}

function cleanTag(tag = "") {
  if (!tag) return "";
  let t = String(tag).trim();
  if (t.startsWith("#")) t = t.slice(1);
  return t;
}

function contentMatchesTopic(content, topic) {
  if (!content || !topic) return false;
  const textNorm = normalizeText(content);

  for (const rawKw of topic.keywords || []) {
    const kwNorm = normalizeText(rawKw);
    if (!kwNorm) continue;
    if (textNorm.includes(kwNorm)) {
      return true;
    }
  }
  return false;
}

/**
 * Analiza un post con IA y devuelve:
 * {
 *   topics: [...],        // ids de catlogo
 *   hashtags: [...],      // palabras SIN "#" (ej: "MaxVerstappen", "F1Crash", "amor")
 *   implicit_reference: { present, kind, target_is_person }
 * }
 */
async function analyzePostWithAI(content) {
  if (!GROQ_ENABLED || !content || !content.trim()) {
    return {
      topics: [],
      hashtags: [],
      implicit_reference: { present: false, kind: "none", target_is_person: false },
    };
  }

  const topicsCatalog = buildTopicsCatalog();

  const systemPrompt = `
Actus como un clasificador de hashtags para una red social argentina.
Tu tarea:
- Leer el texto del post.
- Leer una lista de categoras con reglas (idea_principal, cuando_usar, no_usar_cuando, subtags).
- Elegir SOLO los hashtags que tengan sentido segn el CONTEXTO y la INTENCIN. Nunca etiquetes por una palabra suelta.
- Devolver un JSON con mximo 5 hashtags ordenados por relevancia.

REGLAS:
1) Us nicamente los tags o subtags provistos en "categories". No inventes otros.
2) No uses un hashtag si cae en "no_usar_cuando", aunque aparezca la palabra.
3) Si algo no encaja bien, es mejor no etiquetar.
4) Entends lunfardo argentino (guita, bondi, mardel, etc.) y lugares ambiguos (Mar del Plata  dinero).
5) No uses roles familiares/relacionales como hashtag genrico (#primo, #novio, etc.); usa la categora apropiada (familia, amor, amigos) si aplica.

FORMATO DE RESPUESTA (solo JSON):
{
  "hashtags": [
    { "tag": "#viajes", "reason": "breve razn", "confidence": 0.0-1.0 }
  ]
}
`;

  const userPayload = {
    post_text: content,
    categories: TAG_CATEGORIES,
  };

  const userPrompt = `
Analiz el post y devolv SOLO este JSON:
{
  "hashtags": [
    { "tag": "#tag1", "reason": "por qu aplica", "confidence": 0.0-1.0 }
  ]
}

Reglas:
- Usa solo tags/subtags que figuran en "categories".
- Sigue idea_principal / cuando_usar / no_usar_cuando de cada categora.
- Si aparece "Mar del Plata", "Mardel", "MDQ", "La Feliz": es viaje/lugar, prefer #viajes, #mardelplata, #argentina, NO #finanzas.
- Si aparece "plata" o "guita" como dinero y el foco es dinero, us #finanzas (y subtags si corresponde).
- Si la ciudad es "La Plata" (ciudad), tratala como lugar argentino, no como dinero.
- No etiquetes por una palabra suelta; debe coincidir la intencin/tema.
- Mximo 5 hashtags, ordenados por relevancia.

Post:
"""${content}"""

Categories:
${JSON.stringify(TAG_CATEGORIES, null, 2)}
`;

  let raw;
  try {
    raw = await callGroqChat([
      { role: "system", content: systemPrompt },
      { role: "user", content: userPrompt },
    ]);
  } catch (err) {
    console.error("[aiPostAnalyzer] Error llamando a Groq:", err);
    return {
      topics: [],
      hashtags: fallbackHashtagsFromText(content),
      implicit_reference: { present: false, kind: "none", target_is_person: false },
    };
  }

  try {
    const parsed = JSON.parse(raw);

    let hashtagsRaw = [];
    if (Array.isArray(parsed.hashtags)) {
      hashtagsRaw = parsed.hashtags.map((h) => (typeof h === "string" ? { tag: h } : h));
    }
    let hashtags = hashtagsRaw
      .map((h) => (typeof h === "string" ? h : h.tag))
      .filter((h) => typeof h === "string" && h.trim())
      .map(cleanTag);
    // No usamos topics en este enfoque; quedarn vacos para no romper compatibilidad
    let topics = [];
    const implicit_reference = { present: false, kind: "none", target_is_person: false };

    const contentNorm = normalizeText(content);

    // Filtro extra: slo topics con evidencia en el texto
    const topicsById = {};
    for (const t of topicsCatalog) topicsById[t.id] = t;

    topics = topics.filter((id) => {
      const topic = topicsById[id];
      if (!topic) return false;
      return contentMatchesTopic(content, topic);
    });

    // Limpiar y normalizar hashtags:
    hashtags = hashtags
      .map((h) => cleanTag(h))
      .filter(Boolean)
      .filter((h, idx, arr) => arr.indexOf(h) === idx);

    // Si hay tags especficos, eliminamos el genrico "general"
    if (hashtags.length > 1) {
      hashtags = hashtags.filter((h) => normalizeText(h) !== "general");
    }

    // Limpiar y normalizar hashtags sin bloquear casos de una sola palabra
    hashtags = hashtags.filter((h) => {
      const hNorm = normalizeText(h);
      if (!hNorm) return false;
      // Si aparece en el texto, vlido
      if (contentNorm && contentNorm.includes(hNorm)) return true;
      // Si es parte del catlogo (Groq lo eligi) tambin lo admitimos
      return true;
    });

    // Fallback: si Groq no devolvi nada, intenta heurstica y si no, hashtag genrico
    if (hashtags.length === 0) {
      hashtags = fallbackHashtagsFromText(content);
    }

    // Filtro anti roles familiares/relacionales
    const bannedRel = new Set(["primo", "prima", "hermano", "hermana", "amigo", "amiga", "novio", "novia"]);
    hashtags = hashtags.filter((h) => !bannedRel.has(normalizeText(h)));

    return { topics, hashtags, implicit_reference };
  } catch (err) {
    console.error("[aiPostAnalyzer] Error parseando JSON de Groq:", err, raw);
    return {
      topics: [],
      hashtags: fallbackHashtagsFromText(content),
      implicit_reference: { present: false, kind: "none", target_is_person: false },
    };
  }
}

// Heurstica mnima para que nunca devolvamos 0 hashtags
function fallbackHashtagsFromText(text = "") {
  const t = (text || "").toLowerCase();
  const add = (tag) => [cleanTag(tag)];
  if (/mar\s+del\s+plata|mardel|mdq|la\s+feliz/.test(t)) return add("mardelplata");
  if (/plata|guita|dinero|sueldo|inflaci[o]n|precio/.test(t)) return add("finanzas");
  if (/viaje|viajar|viajando|vacaciones|turismo/.test(t)) return add("viajes");
  if (/macbook|mac\b|imac|iphone|ipad|airpods|apple/.test(t)) return add("tech");
  if (/cafe|caf[e]|mate|birra|cerveza|vino|trago|coctel|bebida/.test(t)) return add("bebidas");
  if (/comida|cena|almuerzo|desayuno|receta|cocinar|hambre|pizza|empanada|asado/.test(t))
    return add("comida");
  if (/musica|canci[o]n|album|banda|spotify|concierto|recital/.test(t)) return add("musica");
  if (/futbol|partido|gol|mundial|basquet|basket|tenis|gym|gimnasio|correr|entrenar/.test(t))
    return add("deporte");
  if (/jaja|jajaja|meme|chiste|gracioso/.test(t)) return add("humor");
  if (/amor|novio|novia|pareja|cita/.test(t)) return add("amor");
  // ltimo recurso: elegimos una etiqueta neutra para no devolver vaco
  return [cleanTag("general")];
}

module.exports = {
  analyzePostWithAI,
};
</file>

<file path="backend/src/utils/topicDetection.js">
// backend/src/utils/topicDetection.js

const { normalizeHashtag } = require("./hashtags");
const TOPICS = require("../config/topics");

function normalizeText(str = "") {
  return normalizeHashtag(str);
}

/**
 * Devuelve un array de tags cannicos a partir del texto,
 * usando solo el diccionario de palabras clave.
 */
function detectTopicsFromText(rawText = "") {
  if (!rawText) return [];
  const text = normalizeText(rawText);
  const foundTags = new Set();

  for (const key of Object.keys(TOPICS)) {
    const topic = TOPICS[key];
    const canonicalTag = topic.canonicalTag || key;

    for (const rawKeyword of topic.keywords || []) {
      const normalizedKeyword = normalizeText(rawKeyword);
      if (!normalizedKeyword) continue;

      if (text.includes(normalizedKeyword)) {
        foundTags.add(canonicalTag);
        break;
      }
    }
  }

  return Array.from(foundTags);
}

module.exports = {
  detectTopicsFromText,
};
</file>

<file path="frontend/src/components/MobileBottomNav.jsx">
import React, { useRef } from "react";
import { useLocation } from "react-router-dom";

export default function MobileBottomNav({ activeTab, onChange }) {
  const location = useLocation();
  const current = activeTab || "home";
  const btnRefs = useRef({});

  const handleClick = (id) => (e) => {
    onChange?.(id);
    const btn = e.currentTarget;
    btn.classList.remove("animate-ripple");
    void btn.offsetWidth; // force reflow
    btn.classList.add("animate-ripple");
    setTimeout(() => btn.classList.remove("animate-ripple"), 700);
  };

  const navItems = [
    {
      id: "home",
      title: "Inicio",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width={22} height={22} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
          <path strokeLinecap="round" strokeLinejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
      ),
    },
    {
      id: "chat",
      title: "Chat",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width={22} height={22} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
          <path strokeLinecap="round" strokeLinejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
      ),
    },
    {
      id: "shop",
      title: "Tienda",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width={22} height={22} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
          <path strokeLinecap="round" strokeLinejoin="round" d="M3 3h18l-1 7H4L3 3z" />
          <path strokeLinecap="round" strokeLinejoin="round" d="M5 10h14l-1 10H6L5 10z" />
        </svg>
      ),
    },
    {
      id: "squads",
      title: "Squads",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width={22} height={22} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
          <path strokeLinecap="round" strokeLinejoin="round" d="M17 20h5V4h-5M7 20H2V4h5m1 4h6m-6 4h6" />
        </svg>
      ),
    },
    {
      id: "ideas",
      title: "Ideas",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width={22} height={22} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
          <path strokeLinecap="round" strokeLinejoin="round" d="M12 3v2m0 14v2m7-9h2M3 12H1m15.364-6.364l1.414 1.414M6.343 17.657l-1.414 1.414m0-12.728l1.414 1.414m12.728 12.728l-1.414-1.414" />
          <path strokeLinecap="round" strokeLinejoin="round" d="M8 14h8l-1 5H9l-1-5zM9 9h6v5H9z" />
        </svg>
      ),
    },
    {
      id: "search",
      title: "Buscar",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width={22} height={22} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
          <path strokeLinecap="round" strokeLinejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      ),
    },
  ];

  return (
    <>
      <style>{`
        @keyframes rippleEffect {
          0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.55); transform: translate(-50%, -50%) scale(0); }
          100% { box-shadow: 0 0 0 16px rgba(99, 102, 241, 0); transform: translate(-50%, -50%) scale(2); }
        }
        @keyframes iconBounce {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.15); }
        }
        .nav-button {
          position: relative;
          overflow: hidden;
        }
        .nav-button.animate-ripple::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          width: 36px;
          height: 36px;
          border-radius: 50%;
          animation: rippleEffect 0.7s ease-out;
          pointer-events: none;
        }
        .nav-button.animate-ripple .icon-container {
          animation: iconBounce 0.6s ease-out;
        }
      `}</style>
      <nav className="fixed bottom-0 left-0 right-0 z-50 flex h-16 items-center justify-around border-t border-slate-200 dark:border-slate-800 bg-white/90 dark:bg-slate-950/95 px-2 backdrop-blur md:hidden">
        {navItems.map((item) => {
          const active = current === item.id;
          return (
            <button
              key={item.id}
              ref={(el) => (btnRefs.current[item.id] = el)}
              onClick={handleClick(item.id)}
              className={`nav-button relative flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl text-xs font-semibold transition ${
                active ? "text-indigo-600 dark:text-indigo-300" : "text-slate-600 dark:text-slate-400 hover:text-indigo-500 dark:hover:text-indigo-200"
              }`}
            >
              <span className="icon-container h-6 w-6">{item.icon}</span>
              <span className="whitespace-nowrap">{item.title}</span>
            </button>
          );
        })}
      </nav>
    </>
  );
}
</file>

<file path="frontend/src/features/highlights/reelService.js">
import { reelData } from './reelData';

const categoryToModeMap = {
  // Humor
  memes: 'HUMOR',
  oldmeme: 'HUMOR',
  wtf: 'HUMOR',
  comic: 'HUMOR',
  // Aprender
  science: 'APRENDER',
  // Ahora
  news: 'AHORA',
  // Calma
  food: 'CALMA',
  animals: 'CALMA',
  music: 'CALMA',
  wholesome: 'CALMA',
  // Descubrir
  sports: 'DESCUBRIR',
  games: 'DESCUBRIR',
  anime: 'DESCUBRIR',
  cosplay: 'DESCUBRIR',
  motorvehicles: 'DESCUBRIR',
  lifestyle: 'DESCUBRIR',
  // Profundo
  relationship: 'PROFUNDO',
  politics: 'PROFUNDO',
};

// Fisher-Yates (aka Knuth) Shuffle
function shuffle(array) {
  let currentIndex = array.length,  randomIndex;

  // While there remain elements to shuffle.
  while (currentIndex > 0) {

    // Pick a remaining element.
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;

    // And swap it with the current element.
    [array[currentIndex], array[randomIndex]] = [
      array[randomIndex], array[currentIndex]];
  }

  return array;
}

export function getReels(mode) {
  let filteredData;

  if (mode === 'CAOS') {
    // All categories for CAOS
    filteredData = reelData;
  } else {
    // Get categories for the selected mode
    const targetCategories = Object.keys(categoryToModeMap).filter(
      (category) => categoryToModeMap[category] === mode
    );
    
    filteredData = reelData.filter((reel) => targetCategories.includes(reel.category));
  }

  // Shuffle the filtered data to ensure random order and no repeats until exhausted.
  // We return a new shuffled array every time.
  const reels = filteredData.map(r => ({
    id: r.url, // Use URL as a unique ID
    authorName: `#${r.category}`,
    type: 'video',
    url: r.url,
    contentType: categoryToModeMap[r.category] || 'CAOS'
  }));

  return shuffle(reels);
}
</file>

<file path="frontend/src/pages/Login.jsx">
import { useState } from "react";
import { Link, useNavigate } from "react-router-dom";
import { useAuth } from "../context/AuthContext";
import LoginBackground from "../components/LoginBackground";
import MacanudosLogo from "../components/MacanudosLogo";

export default function Login() {
  const navigate = useNavigate();
  const { login } = useAuth();
  const [identifier, setIdentifier] = useState("");
  const [password, setPassword] = useState("");
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(false);
  const [showSplash] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);
    setError(null);
    try {
      await login(identifier, password);
      navigate("/feed");
    } catch (err) {
      setError(err.response?.data?.message || "Error al iniciar sesin");
      setLoading(false);
    }
  };

  return (
    <LoginBackground>
      <div className="absolute top-4 left-4 z-20">
        <MacanudosLogo showText={false} size={140} />
      </div>
      <div className="bg-white/90 dark:bg-slate-900/90 border border-slate-200 dark:border-slate-800 shadow-2xl rounded-2xl p-6 w-full max-w-sm relative z-10 backdrop-blur-md mt-0">
        <h1 className="text-2xl font-semibold text-slate-900 dark:text-slate-50 mb-1">Bienvenido</h1>
        <p className="text-sm text-slate-500 mb-6">Inicia sesin para ver el feed.</p>
        {error && <div className="mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3">{error}</div>}
        <form className="space-y-4" onSubmit={handleSubmit}>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Email o @username</label>
            <input
              value={identifier}
              onChange={(e) => setIdentifier(e.target.value)}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder="tu@email.com"
            />
          </div>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Contrasea</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder=""
            />
          </div>
          <button
            type="submit"
            disabled={loading || showSplash}
            className="w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500 disabled:opacity-50"
          >
            {loading ? "Entrando..." : "Entrar"}
          </button>
        </form>
        <p className="text-sm text-center text-slate-500 mt-4">
          No tienes cuenta?{" "}
          <Link to="/register" className="text-indigo-700 dark:text-indigo-300 font-semibold">
            Regstrate
          </Link>
        </p>
      </div>
    </LoginBackground>
  );
}
</file>

<file path="frontend/src/pages/Register.jsx">
import { useState } from "react";
import { Link, useNavigate } from "react-router-dom";
import { useAuth } from "../context/AuthContext";
import LoginBackground from "../components/LoginBackground";
import MacanudosLogo from "../components/MacanudosLogo";

export default function Register() {
  const navigate = useNavigate();
  const { register } = useAuth();
  const [form, setForm] = useState({
    name: "",
    username: "",
    email: "",
    password: "",
  });
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(false);
  const [showSplash] = useState(false);

  const handleChange = (e) => {
    setForm((prev) => ({ ...prev, [e.target.name]: e.target.value }));
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError(null);
    setLoading(true);
    try {
      await register(form);
      navigate("/feed");
    } catch (err) {
      setError(err.response?.data?.message || "Error al registrarse");
    } finally {
      setLoading(false);
    }
  };

  return (
    <LoginBackground>
      <div className="absolute top-4 left-4 z-20">
        <MacanudosLogo showText={false} size={140} />
      </div>
      <div className="bg-white/90 dark:bg-slate-900/90 border border-slate-200 dark:border-slate-800 shadow-2xl rounded-2xl p-6 w-full max-w-sm relative z-10 backdrop-blur-md mt-0">
        <h1 className="text-2xl font-semibold text-slate-900 dark:text-slate-50 mb-1">Crear cuenta</h1>
        <p className="text-sm text-slate-500 mb-6">nete y comparte tus ideas.</p>
        {error && <div className="mb-4 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3">{error}</div>}
        <form className="space-y-4" onSubmit={handleSubmit}>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Nombre completo</label>
            <input
              name="name"
              value={form.name}
              onChange={handleChange}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder="Tu nombre"
            />
          </div>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">@username</label>
            <input
              name="username"
              value={form.username}
              onChange={handleChange}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder="usuario"
            />
          </div>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Email</label>
            <input
              type="email"
              name="email"
              value={form.email}
              onChange={handleChange}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder="tu@email.com"
            />
          </div>
          <div className="space-y-1">
            <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Contrasea</label>
            <input
              type="password"
              name="password"
              value={form.password}
              onChange={handleChange}
              required
              className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder=""
            />
          </div>
          <button
            type="submit"
            disabled={loading || showSplash}
            className="w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-500 disabled:opacity-50"
          >
            {loading ? "Creando cuenta..." : "Registrarme"}
          </button>
        </form>
        <p className="text-sm text-center text-slate-500 mt-4">
          Ya tienes cuenta?{" "}
          <Link to="/login" className="text-indigo-700 dark:text-indigo-300 font-semibold">
            Inicia sesin
          </Link>
        </p>
      </div>
    </LoginBackground>
  );
}
</file>

<file path="frontend/src/pages/TagFeed.jsx">
import React, { useEffect, useState } from "react";
import { useParams } from "react-router-dom";
import PostCard from "../components/PostCard";
import api from "../api/client";
import { useAuth } from "../context/AuthContext";

export default function TagFeed() {
  const { tagName } = useParams();
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(true);
  const { user, refreshUser } = useAuth();
  const [following, setFollowing] = useState(false);

  useEffect(() => {
    async function load() {
      setLoading(true);
      try {
        const { data } = await api.get(`/posts?tag=${encodeURIComponent(tagName)}`);
        setPosts(data);
      } catch (err) {
        // eslint-disable-next-line no-console
        console.error(err);
      } finally {
        setLoading(false);
      }
    }
    load();
  }, [tagName]);

  async function handleFollowTag() {
    try {
      const currentInterests = user?.interests || [];
      const canonical = tagName.toLowerCase();
      if (currentInterests.includes(canonical)) return;
      setFollowing(true);
      const updated = [...currentInterests, canonical];
      await api.put("/users/me/interests", { interests: updated });
      await refreshUser?.();
    } catch (err) {
      // eslint-disable-next-line no-console
      console.error(err);
    } finally {
      setFollowing(false);
    }
  }

  if (loading) return <div className="p-4 text-slate-600 dark:text-slate-200">Cargando posts con #{tagName}...</div>;

  return (
    <div className="max-w-3xl mx-auto space-y-4 p-4">
      <div>
        <h1 className="text-2xl font-bold text-slate-900 dark:text-slate-50">#{tagName}</h1>
        <p className="text-slate-600 dark:text-slate-300">Publicaciones relacionadas con este tema.</p>
        {user && (
          <button
            onClick={handleFollowTag}
            disabled={following || (user.interests || []).includes(tagName.toLowerCase())}
            className="mt-2 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-50"
          >
            {(user.interests || []).includes(tagName.toLowerCase()) ? "Ya sigues este tema" : `Seguir tema #${tagName}`}
          </button>
        )}
      </div>
      {posts.length === 0 && <p className="text-slate-600 dark:text-slate-300">No hay publicaciones con este hashtag todava.</p>}
      {posts.map((post) => (
        <PostCard key={post.id} post={post} />
      ))}
    </div>
  );
}
</file>

<file path="procedimiento.txt">
quiero que mires en la raiz que deje un archivo llamada 9gag_urls.csv
Este archivo tine una AMPLIA lista de urls para los videos de los reels. La red social debe tomarlos desde esta lista.
Tambien estan tageados. En base a eso podriamos agregar esas categorias a los reels. o bien, asignarlas acorde a las categorias que ya estan, por ejemplo. Las categorias que estan ahora en el csv son
Lifestyle, food, oldmeme, sports, science, animals, motorehicles, music, relationship, wtf, games, memes, politics, cosplay, news, anime.
DONDE CREES QUE DEBERIA IR CADA UNA DE ESAS CATEGORIAS EN LAS CATEGORIAS ACTUALES?, EPXLICAME DOND ELAS PONDRIA SY POR QUE Y UNA VEZ QUE ESTEMOS DE ACUERDO TE DIDRE SI PROCEDEMOS
</file>

<file path="frontend/src/features/highlights/HighlightsRow.jsx">
import { useState } from "react";
import { useHighlights } from "./useHighlights";
import { MODES } from "./ModeConfig";
import { useReelsMode } from "./ReelsModeProvider";
import HighlightViewer from "./HighlightViewer";

export default function HighlightsRow() {
  const { mode } = useReelsMode();
  const { data, isLoading } = useHighlights(mode);
  const items = Array.isArray(data) ? data : [];
  const accent = MODES[mode]?.accent || "#3B82F6";
  const [viewerIndex, setViewerIndex] = useState(null);

  const openViewer = (idx) => setViewerIndex(idx);
  const closeViewer = () => setViewerIndex(null);
  const next = () => setViewerIndex((idx) => (idx === null ? 0 : (idx + 1) % items.length));
  const prev = () => setViewerIndex((idx) => (idx === null ? 0 : (idx - 1 + items.length) % items.length));

  return (
    <div className="w-full">
      <div className="flex items-center justify-between mb-2">
        <span className="inline-flex items-center gap-2 text-xs font-semibold">
          <span className="h-2 w-2 rounded-full" style={{ background: accent }} />
          Reels: {MODES[mode]?.label}
        </span>
      </div>
      <div className="flex gap-3 overflow-x-auto pb-3">
        {isLoading &&
          Array.from({ length: 6 }).map((_, i) => (
            <div
              key={i}
              className="h-16 w-16 rounded-full bg-slate-800/70 animate-pulse border border-slate-700 flex-shrink-0"
            />
          ))}
        {!isLoading &&
          items.map((item, idx) => (
            <button
              key={item.id}
              onClick={() => openViewer(idx)}
              className="flex flex-col items-center gap-2 flex-shrink-0"
            >
              <span
                className="h-16 w-16 rounded-full border-2 flex items-center justify-center overflow-hidden bg-slate-900"
                style={{ borderColor: accent, boxShadow: `0 0 0 2px ${accent}22` }}
              >
                <video
                  src={item.url}
                  muted
                  playsInline
                  preload="metadata"
                  className="h-full w-full object-cover"
                />
              </span>
              <span className="text-[11px] text-slate-100 line-clamp-1">{item.authorName}</span>
            </button>
          ))}
      </div>
      <HighlightViewer
        open={viewerIndex !== null}
        items={items}
        index={viewerIndex ?? 0}
        onClose={closeViewer}
        onNext={next}
        onPrev={prev}
        mode={mode}
      />
    </div>
  );
}
</file>

<file path="backend/package.json">
{
  "name": "backend",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "dev": "nodemon src/server.js",
    "start": "node src/server.js",
    "postinstall": "prisma generate",
    "dev:full": "npm --prefix ../frontend run build && nodemon src/server.js",
    "start:full": "npm --prefix ../frontend run build && node src/server.js",
    "prisma:migrate": "prisma migrate dev --name init",
    "prisma:generate": "prisma generate",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@prisma/adapter-pg": "^7.1.0",
    "@prisma/client": "^7.1.0",
    "bcrypt": "^6.0.0",
    "cors": "^2.8.5",
    "dotenv": "^17.2.3",
    "express": "^5.2.1",
    "jsonwebtoken": "^9.0.2",
    "morgan": "^1.10.1",
    "multer": "^2.0.2",
    "pg": "^8.16.3"
  },
  "devDependencies": {
    "nodemon": "^3.1.11",
    "prisma": "^7.1.0"
  }
}
</file>

<file path="frontend/src/components/Avatar.jsx">
import { API_BASE_URL } from "../api/client";
import { useLightbox } from "../context/LightboxContext";
import { useMemo, useRef, useEffect, useState } from "react";

function parseTimeRange(src = "") {
  const match = src.match(/#t=([\d.]+),?([\d.]*)/);
  if (!match) return { cleanSrc: src, start: 0, end: null };
  const start = parseFloat(match[1]) || 0;
  const end = match[2] ? parseFloat(match[2]) : null;
  const cleanSrc = src.split("#")[0];
  return { cleanSrc, start, end };
}

export default function Avatar({ user, size = 48, className = "" }) {
  const mediaBase = API_BASE_URL.replace(/\/api$/, "");
  const imgSrc = user?.avatar ? `${mediaBase}/${user.avatar}` : null;
  const videoSrc = user?.profileVideoUrl ? `${mediaBase}/${user.profileVideoUrl}` : null;
  const useVideo = user?.useVideoAvatar && videoSrc;
  const initials = user?.name ? user.name.charAt(0).toUpperCase() : "?";
  const { open } = useLightbox();
  const videoRef = useRef(null);
  const parsed = useMemo(() => parseTimeRange(videoSrc || ""), [videoSrc]);
  const ringColors = {
    c1: "rgb(186, 66, 255)",
    c2: "rgb(0, 225, 255)",
  };

  useEffect(() => {
    if (!useVideo || !videoRef.current) return;
    const video = videoRef.current;
    const start = parsed.start || 0;
    const end = parsed.end;
    const handleLoaded = () => {
      video.currentTime = start;
    };
    const handleTimeUpdate = () => {
      if (end && video.currentTime >= end - 0.05) {
        video.currentTime = start;
        video.play();
      }
    };
    video.addEventListener("loadedmetadata", handleLoaded);
    video.addEventListener("timeupdate", handleTimeUpdate);
    return () => {
      video.removeEventListener("loadedmetadata", handleLoaded);
      video.removeEventListener("timeupdate", handleTimeUpdate);
    };
  }, [useVideo, parsed.start, parsed.end]);

  const ringSize = size + 10;

  return (
    <div className={`relative inline-flex items-center justify-center ${className}`} style={{ width: ringSize, height: ringSize }}>
      {/* Spinner exterior */}
      <div
        className="absolute inset-0 rounded-full animate-spin"
        style={{
          backgroundImage: `linear-gradient(${ringColors.c1} 35%, ${ringColors.c2})`,
          filter: "blur(0.5px)",
          boxShadow: `0px -4px 14px 0px ${ringColors.c1}, 0px 4px 14px 0px ${ringColors.c2}`,
          animationDuration: "2.8s",
        }}
      />
      {/* Halo interior */}
      <div
        className="absolute inset-0 rounded-full"
        style={{
          backgroundColor: "rgb(36,36,36)",
          filter: "blur(8px)",
          transform: "scale(0.88)",
        }}
      />
      {/* Avatar */}
      <div
        className={`relative rounded-full bg-slate-200 overflow-hidden flex items-center justify-center text-slate-700 font-semibold ${
          imgSrc || useVideo ? "cursor-pointer" : ""
        }`}
        style={{ width: size, height: size }}
        onClick={() => {
          const src = useVideo ? videoSrc : imgSrc;
          if (src) open(src, user?.name || "avatar", { isVideo: !!useVideo });
        }}
      >
        {useVideo ? (
          <video
            ref={videoRef}
            src={parsed.cleanSrc}
            autoPlay
            loop
            muted
            playsInline
            className="w-full h-full object-cover"
          />
        ) : imgSrc ? (
          <img src={imgSrc} alt={user?.name || "avatar"} className="w-full h-full object-cover" />
        ) : (
          <span>{initials}</span>
        )}
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/context/AuthContext.jsx">
import { createContext, useContext, useEffect, useMemo, useState } from "react";
import api from "../api/client";
import SplashLogo from "../components/SplashLogo";

const AuthContext = createContext(null);
const SPLASH_DURATION = 3000;

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null);
  const [token, setToken] = useState(localStorage.getItem("token"));
  const [loading, setLoading] = useState(true);
  const [showSplash, setShowSplash] = useState(() => {
    // Si ya hay token guardado, no mostramos splash en recarga
    return localStorage.getItem("token") ? false : true;
  });
  const [splashSubtitle, setSplashSubtitle] = useState("SOCIAL EXPERIENCE");

  useEffect(() => {
    const initialize = async () => {
      if (!token) {
        // Mostrar intro inicial aunque no haya sesin
        setSplashSubtitle("SOCIAL EXPERIENCE");
        const timer = setTimeout(() => setShowSplash(false), SPLASH_DURATION);
        setLoading(false);
        return () => clearTimeout(timer);
      }
      // Mostrar el splash apenas detectamos token para evitar ver el feed antes del efecto
      // Si ya lo ocultamos por haber token en localStorage, no lo volvemos a mostrar
      if (!showSplash) {
        setLoading(false);
        try {
          const { data } = await api.get("/auth/me");
          setUser(data.user);
        } catch (error) {
          logout();
        }
        return;
      }
      setShowSplash(true);
      try {
        const { data } = await api.get("/auth/me");
        setUser(data.user);
        setSplashSubtitle(
          data.user?.name
            ? `Bienvenido ${data.user.name}`
            : data.user?.username
              ? `Bienvenido ${data.user.username}`
              : "Bienvenido"
        );
        setTimeout(() => setShowSplash(false), SPLASH_DURATION);
      } catch (error) {
        setShowSplash(false);
        logout();
      } finally {
        setLoading(false);
      }
    };
    initialize();
  }, [token]);

  const login = async (identifier, password) => {
    const { data } = await api.post("/auth/login", { identifier, password });
    localStorage.setItem("token", data.token);
    setToken(data.token);
    setUser(data.user);
    setSplashSubtitle(
      data.user?.name
        ? `Bienvenido ${data.user.name}`
        : data.user?.username
          ? `Bienvenido ${data.user.username}`
          : "Bienvenido"
    );
    setShowSplash(true);
    setTimeout(() => setShowSplash(false), SPLASH_DURATION);
    return data.user;
  };

  const register = async ({ name, username, email, password }) => {
    const { data } = await api.post("/auth/register", {
      name,
      username,
      email,
      password,
    });
    localStorage.setItem("token", data.token);
    setToken(data.token);
    setUser(data.user);
    setSplashSubtitle(
      data.user?.name
        ? `Bienvenido ${data.user.name}`
        : data.user?.username
          ? `Bienvenido ${data.user.username}`
          : "Bienvenido"
    );
    setShowSplash(true);
    setTimeout(() => setShowSplash(false), SPLASH_DURATION);
    return data.user;
  };

  const logout = () => {
    localStorage.removeItem("token");
    setToken(null);
    setUser(null);
    setShowSplash(false);
  };

  const value = useMemo(
    () => ({
      user,
      token,
      loading,
      login,
      register,
      logout,
      setUser,
      showSplash,
      setShowSplash,
      splashSubtitle,
      setSplashSubtitle,
    }),
    [user, token, loading, showSplash, splashSubtitle]
  );

  return (
    <AuthContext.Provider value={value}>
      {children}
      <SplashLogo visible={showSplash} subtitle={splashSubtitle} />
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const ctx = useContext(AuthContext);
  if (!ctx) {
    throw new Error("useAuth debe usarse dentro de un AuthProvider");
  }
  return ctx;
}
</file>

<file path="frontend/src/features/highlights/MobileHighlightsSection.jsx">
import HighlightsRow from "./HighlightsRow";
import ModePickerButton from "./ModePickerButton";
import { ReelsModeProvider } from "./ReelsModeProvider";

export default function MobileHighlightsSection() {
  return (
    <ReelsModeProvider>
      <div className="md:hidden space-y-3 mb-4 w-full">
        <HighlightsRow />
        <ModePickerButton />
      </div>
    </ReelsModeProvider>
  );
}
</file>

<file path="frontend/src/features/highlights/useHighlights.js">
import { useQuery } from "@tanstack/react-query";
import { getReels } from "./reelService";

export function useHighlights(mode) {
  const enabled = import.meta.env.VITE_ENABLE_HIGHLIGHTS === "1";
  return useQuery({
    queryKey: ["highlights", mode],
    queryFn: () => {
      if (!enabled) return [];
      return getReels(mode);
    },
    enabled,
    // La data ahora es sincrnica, pero react-query la cachea igual.
    // Si en el futuro es una API real, el queryFn debe ser async.
  });
}
</file>

<file path="frontend/src/pages/Profile.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import { Link, useParams } from "react-router-dom";
import { useEffect, useRef, useState } from "react";
import api, { API_BASE_URL } from "../api/client";
import Avatar from "../components/Avatar";
import PostCard from "../components/PostCard";
import { useAuth } from "../context/AuthContext";

const parseTimeRange = (src = "") => {
  const match = src.match(/#t=([\d.]+),?([\d.]*)/);
  if (!match) return { cleanSrc: src, start: 0, end: null };
  const start = parseFloat(match[1]) || 0;
  const end = match[2] ? parseFloat(match[2]) : null;
  const cleanSrc = src.split("#")[0];
  return { cleanSrc, start, end };
};

export default function Profile() {
  const { username } = useParams();
  const { user: currentUser } = useAuth();
  const queryClient = useQueryClient();
  const [relationForm, setRelationForm] = useState({ category: "", detail: "" });
  const [editingRelation, setEditingRelation] = useState(false);
  const [interestsDraft, setInterestsDraft] = useState([]);
  const [newInterest, setNewInterest] = useState("");
  const [locationDraft, setLocationDraft] = useState("");
  const [projectForm, setProjectForm] = useState({
    title: "",
    description: "",
    category: "OTRO",
    targetDate: "",
    visibility: "PUBLIC",
    needsHelp: false,
  });
  const [editingProject, setEditingProject] = useState(null);
  const [showProjectPosts, setShowProjectPosts] = useState(false);
  const [projectPosts, setProjectPosts] = useState([]);
  const coverVideoRef = useRef(null);

  const { data, isLoading, isError } = useQuery({
    queryKey: ["profile", username],
    queryFn: async () => {
      const { data } = await api.get(`/users/${username}`);
      return data;
    },
  });
  const { data: myProjects } = useQuery({
    queryKey: ["my-projects"],
    queryFn: async () => {
      const { data } = await api.get("/users/me/projects");
      return data;
    },
    enabled: currentUser?.username === username,
  });
  const { data: myProjectsOverview } = useQuery({
    queryKey: ["my-projects-overview"],
    queryFn: async () => {
      const { data } = await api.get("/users/me/projects/overview");
      return data;
    },
    enabled: currentUser?.username === username,
  });
  const { data: mySquads } = useQuery({
    queryKey: ["my-squads"],
    queryFn: async () => {
      const { data } = await api.get("/squads");
      return data;
    },
    enabled: currentUser?.username === username,
  });

  const profile = data?.user;
  const posts = data?.posts || [];
  const mediaBase = API_BASE_URL.replace(/\/api$/, "");
  const coverVideoSrc = profile?.coverVideoUrl ? `${mediaBase}/${profile.coverVideoUrl}` : null;
  const parsedCoverVideo = coverVideoSrc ? parseTimeRange(coverVideoSrc) : null;

  useEffect(() => {
    if (data?.user) {
      setRelationForm({
        category: data.user.relationCategory || "",
        detail: data.user.relationDetail || "",
      });
      setInterestsDraft(data.user.interests || []);
      setLocationDraft(data.user.location || "");
    }
  }, [data]);

  useEffect(() => {
    if (!parsedCoverVideo || !coverVideoRef.current) return;
    const video = coverVideoRef.current;
    const start = parsedCoverVideo.start || 0;
    const end = parsedCoverVideo.end;
    const handleLoaded = () => {
      video.currentTime = start;
    };
    const handleTimeUpdate = () => {
      if (end && video.currentTime >= end - 0.05) {
        video.currentTime = start;
        video.play();
      }
    };
    video.addEventListener("loadedmetadata", handleLoaded);
    video.addEventListener("timeupdate", handleTimeUpdate);
    return () => {
      video.removeEventListener("loadedmetadata", handleLoaded);
      video.removeEventListener("timeupdate", handleTimeUpdate);
    };
  }, [parsedCoverVideo]);

  const sendRequest = useMutation({
    mutationFn: async () => {
      await api.post(`/friends/${username}`);
    },
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["profile", username] }),
  });

  const acceptRequest = useMutation({
    mutationFn: async () => {
      await api.post(`/friends/${username}/accept`);
    },
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["profile", username] }),
  });

  const removeFriend = useMutation({
    mutationFn: async () => {
      await api.delete(`/friends/${username}`);
    },
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["profile", username] }),
  });

  const setRelation = useMutation({
    mutationFn: async () => {
      await api.post(`/friends/${username}/relation`, relationForm);
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["profile", username] });
      setEditingRelation(false);
    },
  });
  const updateInterests = useMutation({
    mutationFn: async (interests) => api.put("/users/me/interests", { interests }),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["profile", username] }),
  });
  const updateLocation = useMutation({
    mutationFn: async (location) => api.put("/users/me/location", { location }),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["profile", username] }),
  });
  const createProject = useMutation({
    mutationFn: async (payload) => api.post("/users/me/projects", payload),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["my-projects"] });
      setProjectForm({
        title: "",
        description: "",
        category: "OTRO",
        targetDate: "",
        visibility: "PUBLIC",
        needsHelp: false,
      });
    },
  });
  const updateProject = useMutation({
    mutationFn: async ({ id, ...rest }) => api.put(`/users/me/projects/${id}`, rest),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["my-projects"] });
      setEditingProject(null);
      setProjectForm({
        title: "",
        description: "",
        category: "OTRO",
        targetDate: "",
        visibility: "PUBLIC",
        needsHelp: false,
      });
    },
  });
  const deleteProject = useMutation({
    mutationFn: async (id) => api.delete(`/users/me/projects/${id}`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["my-projects"] }),
  });
  const updateProjectProgress = useMutation({
    mutationFn: async ({ id, progress }) => api.put(`/users/me/projects/${id}/progress`, { progress }),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["my-projects-overview"] }),
  });
  const helpPost = useMutation({
    mutationFn: async (project) => {
      const tagsMap = {
        SALUD: ["salud"],
        CREATIVO: ["creativo"],
        PERSONAL: ["personal"],
        ESTUDIO: ["estudio"],
        OTRO: ["ayuda"],
      };
      const tags = tagsMap[project.category] || ["ayuda"];
      const content = `Estoy buscando ayuda para este proyecto: ${project.title}${project.description ? `\\n${project.description}` : ""}`;
      const { data } = await api.post("/posts", {
        content,
        type: "HELP_REQUEST",
        projectId: project.id,
        tags,
      });
      return data;
    },
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ["posts"] }),
  });

  if (isLoading) {
    return (
      <div className="max-w-4xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
        Cargando perfil...
      </div>
    );
  }

  if (isError || !data) {
    return (
      <div className="max-w-4xl mx-auto bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-red-600">
        No pudimos cargar este perfil.
      </div>
    );
  }

  const relationCategory = profile.relationCategory || "";
  const relationDetail = profile.relationDetail || "";
  const isOwnProfile = currentUser?.username === profile.username;
  const isOwner = isOwnProfile;
  const projectCategories = ["PERSONAL", "CREATIVO", "SALUD", "ESTUDIO", "OTRO"];
  const projectVisibilities = ["PUBLIC", "FRIENDS", "PRIVATE"];
  const formatDate = (val) => (val ? new Date(val).toLocaleDateString() : "");

  const friendStatus = profile.friendshipStatus;
  const renderFriendAction = () => {
    if (currentUser?.username === profile.username) {
      return (
        <Link
          to="/profile/edit"
          className="text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
        >
          Editar perfil
        </Link>
      );
    }
    if (friendStatus === "FRIENDS") {
      return (
        <div className="flex flex-wrap items-center gap-2">
          <button
            onClick={() => {
              const confirmed = window.confirm("Seguro que quieres quitar a esta persona de tus amigos?");
              if (confirmed) removeFriend.mutate();
            }}
            className="text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
          >
            Amigos  (quitar)
          </button>
          {!editingRelation && (
            <button
              onClick={() => setEditingRelation(true)}
              className="text-sm px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500"
            >
              Editar relacin
            </button>
          )}
          {editingRelation && (
            <>
              <select
                value={relationForm.category}
                onChange={(e) => setRelationForm((prev) => ({ ...prev, category: e.target.value }))}
                className="text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-2 py-1"
              >
                <option value="">Categora</option>
                <option value="amigo">Amigo/Amiga</option>
                <option value="familia">Familia</option>
                <option value="trabajo">Trabajo</option>
                <option value="deporte">Deporte</option>
                <option value="pareja">Pareja</option>
                <option value="conocido">Conocido/a</option>
                <option value="otro">Otro</option>
              </select>
              {relationForm.category === "familia" && (
                <input
                  value={relationForm.detail}
                  onChange={(e) => setRelationForm((prev) => ({ ...prev, detail: e.target.value }))}
                  placeholder="Primo, madre, etc."
                  className="text-sm rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-2 py-1"
                />
              )}
              {relationForm.category && (
                <button
                  onClick={() => setRelation.mutate()}
                  className="text-sm px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500"
                >
                  Guardar relacin
                </button>
              )}
              <button
                onClick={() => {
                  setEditingRelation(false);
                  setRelationForm({
                    category: profile.relationCategory || "",
                    detail: profile.relationDetail || "",
                  });
                }}
                className="text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
              >
                Cancelar
              </button>
            </>
          )}
        </div>
      );
    }
    if (friendStatus === "OUTGOING") {
      return (
        <button
          onClick={() => {
            const confirmed = window.confirm("Cancelar solicitud de amistad?");
            if (confirmed) removeFriend.mutate();
          }}
          className="text-sm px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"
        >
          Solicitud enviada (cancelar)
        </button>
      );
    }
    if (friendStatus === "INCOMING") {
      return (
        <button
          onClick={() => acceptRequest.mutate()}
          className="text-sm px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500"
        >
          Aceptar solicitud
        </button>
      );
    }
    return (
      <button
        onClick={() => sendRequest.mutate()}
        className="text-sm px-3 py-1 rounded-lg bg-slate-900 text-white hover:bg-slate-800"
      >
        Agregar amigo
      </button>
    );
  };

  return (
    <div className="max-w-4xl mx-auto space-y-5">
      <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-sm">
        <div className="h-32 w-full rounded-t-2xl overflow-hidden bg-gradient-to-r from-indigo-100 to-slate-200 dark:from-slate-800 dark:to-slate-700">
          {parsedCoverVideo ? (
            <video
              ref={coverVideoRef}
              src={parsedCoverVideo.cleanSrc}
              autoPlay
              loop
              muted
              playsInline
              className="w-full h-full object-cover"
            />
          ) : profile.coverImageUrl ? (
            <img src={`${mediaBase}/${profile.coverImageUrl}`} alt="Portada" className="w-full h-full object-cover" />
          ) : null}
        </div>
        <div className="p-6">
          <div className="flex items-start gap-4">
            <Avatar
              user={profile}
              size={72}
              className="border border-slate-200 dark:border-slate-700 -mt-10 bg-white"
            />
            <div className="flex-1 space-y-1">
              <div className="flex items-center gap-2 flex-wrap">
                <h1 className="text-xl font-semibold text-slate-900 dark:text-slate-50">{profile.name}</h1>
                {renderFriendAction()}
              </div>
              <div className="text-sm text-slate-500">@{profile.username}</div>
              {isOwner && (
                <div className="mt-1">
                  <Link
                    to="/feedback"
                    className="text-xs px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-200 dark:border-indigo-800"
                  >
                    Ir al muro del creador
                  </Link>
                </div>
              )}
              {profile.badges && profile.badges.length > 0 && (
                <div className="flex flex-wrap gap-2 mt-1">
                  {profile.badges.map((b) => (
                    <span
                      key={b.code}
                      className="px-2 py-1 rounded-full bg-amber-100 text-amber-800 text-xs font-semibold dark:bg-amber-900/40 dark:text-amber-200 border border-amber-200 dark:border-amber-800"
                    >
                      {b.name}
                    </span>
                  ))}
                </div>
              )}
              {profile.email && <div className="text-sm text-slate-500">{profile.email}</div>}
              {profile.bio && <p className="text-slate-700 dark:text-slate-200 text-sm mt-2">{profile.bio}</p>}
              <div className="text-xs text-slate-500 mt-2">
                {profile._count?.posts ?? 0} publicaciones  {profile.friendsCount ?? 0} amigos
              </div>
              {profile.relationCategory && (
                <div className="text-xs text-slate-500">
                  Relacin: {profile.relationCategory} {profile.relationDetail ? `(${profile.relationDetail})` : ""}
                </div>
              )}
              {isOwner && (
                <div className="mt-4 space-y-3">
                  <div className="flex items-center gap-2">
                    <h2 className="text-sm font-semibold text-slate-800 dark:text-slate-100">Intereses</h2>
                    <button
                      onClick={() => updateInterests.mutateAsync(interestsDraft)}
                      className="text-xs px-3 py-1 rounded-lg bg-indigo-600 text-white hover:bg-indigo-500 disabled:opacity-50"
                      disabled={updateInterests.isPending}
                    >
                      {updateInterests.isPending ? "Guardando..." : "Guardar intereses"}
                    </button>
                  </div>
                  <div className="flex flex-wrap gap-2">
                    {interestsDraft.map((tag, idx) => (
                      <span
                        key={`${tag}-${idx}`}
                        className="flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200"
                      >
                        #{tag}
                        <button
                          onClick={() => setInterestsDraft((prev) => prev.filter((_, i) => i !== idx))}
                          className="text-slate-500 hover:text-red-500"
                          type="button"
                        >
                          
                        </button>
                      </span>
                    ))}
                    <input
                      value={newInterest}
                      onChange={(e) => setNewInterest(e.target.value)}
                      onKeyDown={(e) => {
                        if (e.key === "Enter") {
                          e.preventDefault();
                          if (newInterest.trim()) {
                            setInterestsDraft((prev) => [...prev, newInterest.trim()]);
                            setNewInterest("");
                          }
                        }
                      }}
                      className="px-3 py-1 rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-xs text-slate-700 dark:text-slate-200"
                      placeholder="Agregar inters y Enter"
                    />
                  </div>
                  <div className="flex items-center gap-2">
                    <input
                      value={locationDraft}
                      onChange={(e) => setLocationDraft(e.target.value)}
                      className="px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-sm flex-1 text-slate-800 dark:text-slate-100"
                      placeholder="Ciudad / zona"
                    />
                    <button
                      onClick={() => updateLocation.mutateAsync(locationDraft)}
                      className="px-3 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50"
                      disabled={updateLocation.isPending}
                    >
                      {updateLocation.isPending ? "Guardando..." : "Guardar ubicacin"}
                    </button>
                  </div>
                </div>
              )}
              {!isOwner && profile.interests?.length > 0 && (
                <div className="mt-3">
                  <h2 className="text-sm font-semibold text-slate-800 dark:text-slate-100">Intereses</h2>
                  <div className="flex flex-wrap gap-2 mt-1">
                    {profile.interests.map((tag) => (
                      <span
                        key={tag}
                        className="px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200"
                      >
                        #{tag}
                      </span>
                    ))}
                  </div>
                  {profile.location && (
                    <div className="text-xs text-slate-500 mt-2">Ubicacin: {profile.location}</div>
                  )}
                </div>
              )}
              {isOwner && mySquads && (
                <div className="mt-4">
                  <h2 className="text-sm font-semibold text-slate-800 dark:text-slate-100">Mis squads</h2>
                  <div className="flex flex-wrap gap-2 mt-1">
                    {mySquads.filter((s) => s.joined).map((s) => (
                      <Link
                        key={s.id}
                        to={`/squads/${s.id}`}
                        className="px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-xs text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700"
                      >
                        {s.name}
                      </Link>
                    ))}
                    {mySquads.filter((s) => s.joined).length === 0 && (
                      <div className="text-xs text-slate-500">An no te uniste a squads.</div>
                    )}
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
      {isOwner && (
        <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4">
          <div className="flex items-center justify-between">
            <h2 className="text-lg font-semibold text-slate-900 dark:text-slate-50">Proyectos y metas</h2>
            <button
              onClick={() => {
                setEditingProject(null);
                setProjectForm({
                  title: "",
                  description: "",
                  category: "OTRO",
                  targetDate: "",
                  visibility: "PUBLIC",
                  needsHelp: false,
                });
              }}
              className="px-3 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500"
            >
              Agregar proyecto
            </button>
          </div>
          <div className="grid gap-3">
            {myProjects?.map((p) => (
              <div
                key={p.id}
                className="border border-slate-200 dark:border-slate-800 rounded-xl p-3 bg-slate-50 dark:bg-slate-800/50"
              >
                <div className="flex items-center gap-2">
                  <div className="font-semibold text-slate-900 dark:text-slate-100">{p.title}</div>
                  <span className="text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200">
                    {p.category}
                  </span>
                  {p.needsHelp && (
                    <span className="text-xs px-2 py-1 rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200">
                      Pide ayuda
                    </span>
                  )}
                  <div className="ml-auto flex items-center gap-2 text-xs text-slate-500">
                    {p.targetDate && <span>Objetivo: {formatDate(p.targetDate)}</span>}
                    <span>Visibilidad: {p.visibility}</span>
                  </div>
                </div>
                {p.description && (
                  <p className="text-sm text-slate-700 dark:text-slate-200 mt-1">{p.description}</p>
                )}
                <div className="flex gap-2 mt-2">
                  <button
                    onClick={() => {
                      setEditingProject(p.id);
                      setProjectForm({
                        title: p.title,
                        description: p.description || "",
                        category: p.category,
                        targetDate: p.targetDate ? p.targetDate.split("T")[0] : "",
                        visibility: p.visibility,
                        needsHelp: p.needsHelp,
                      });
                    }}
                    className="text-xs px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
                  >
                    Editar
                  </button>
                  <button
                    onClick={() => deleteProject.mutate(p.id)}
                    className="text-xs px-3 py-1 rounded-lg border border-red-200 bg-red-50 text-red-700 dark:border-red-800 dark:bg-red-900/30 dark:text-red-200"
                  >
                    Eliminar
                  </button>
                  <button
                    onClick={() => helpPost.mutate(p)}
                    className="text-xs px-3 py-1 rounded-lg bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200"
                  >
                    Pedir ayuda a la comunidad
                  </button>
                </div>
              </div>
            ))}
            {(!myProjects || myProjects.length === 0) && (
              <div className="text-sm text-slate-500">An no tienes proyectos. Crea el primero!</div>
            )}
          </div>
          <div className="border-t border-slate-200 dark:border-slate-800 pt-4 space-y-3">
            <div className="grid gap-3 md:grid-cols-2">
              <div className="space-y-2">
                <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Ttulo *</label>
                <input
                  value={projectForm.title}
                  onChange={(e) => setProjectForm((p) => ({ ...p, title: e.target.value }))}
                  className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
                  placeholder="Nuevo proyecto"
                />
              </div>
              <div className="space-y-2">
                <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Categora</label>
                <select
                  value={projectForm.category}
                  onChange={(e) => setProjectForm((p) => ({ ...p, category: e.target.value }))}
                  className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
                >
                  {projectCategories.map((c) => (
                    <option key={c} value={c}>
                      {c}
                    </option>
                  ))}
                </select>
              </div>
            </div>
            <div className="space-y-2">
              <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Descripcin</label>
              <textarea
                value={projectForm.description}
                onChange={(e) => setProjectForm((p) => ({ ...p, description: e.target.value }))}
                className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
                rows={3}
                placeholder="Detalles adicionales"
              />
            </div>
            <div className="grid gap-3 md:grid-cols-3">
              <div className="space-y-2">
                <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Fecha objetivo</label>
                <input
                  type="date"
                  value={projectForm.targetDate}
                  onChange={(e) => setProjectForm((p) => ({ ...p, targetDate: e.target.value }))}
                  className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
                />
              </div>
              <div className="space-y-2">
                <label className="text-sm font-medium text-slate-700 dark:text-slate-200">Visibilidad</label>
                <select
                  value={projectForm.visibility}
                  onChange={(e) => setProjectForm((p) => ({ ...p, visibility: e.target.value }))}
                  className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-900 dark:text-slate-100"
                >
                  {projectVisibilities.map((v) => (
                    <option key={v} value={v}>
                      {v}
                    </option>
                  ))}
                </select>
              </div>
              <label className="flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200 mt-6">
                <input
                  type="checkbox"
                  checked={projectForm.needsHelp}
                  onChange={(e) => setProjectForm((p) => ({ ...p, needsHelp: e.target.checked }))}
                />
                Necesito ayuda de la comunidad
              </label>
            </div>
            <div className="flex gap-2">
              <button
                onClick={() =>
                  editingProject
                    ? updateProject.mutate({ id: editingProject, ...projectForm })
                    : createProject.mutate(projectForm)
                }
                className="px-4 py-2 rounded-lg bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50"
                disabled={!projectForm.title}
              >
                {editingProject ? "Actualizar proyecto" : "Crear proyecto"}
              </button>
              {editingProject && (
                <button
                  onClick={() => {
                    setEditingProject(null);
                    setProjectForm({
                      title: "",
                      description: "",
                      category: "OTRO",
                      targetDate: "",
                      visibility: "PUBLIC",
                      needsHelp: false,
                    });
                  }}
                  className="px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-sm"
                >
                  Cancelar
                </button>
              )}
            </div>
          </div>
        </div>
      )}
      {isOwner && (
        <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4">
          <h2 className="text-lg font-semibold text-slate-900 dark:text-slate-50">Mis proyectos (resumen)</h2>
          <div className="space-y-3">
            {myProjectsOverview?.map((p) => (
              <div key={p.id} className="border border-slate-200 dark:border-slate-800 rounded-xl p-3 space-y-2">
                <div className="flex items-center gap-2">
                  <div className="font-semibold text-slate-900 dark:text-slate-100">{p.title}</div>
                  <span className="text-xs px-2 py-1 rounded-full bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200">
                    {p.category}
                  </span>
                  <div className="ml-auto text-xs text-slate-500">Progreso: {p.progress}%</div>
                </div>
                <div className="w-full h-2 rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden">
                  <div
                    className="h-full bg-indigo-500"
                    style={{ width: `${Math.min(100, Math.max(0, p.progress))}%` }}
                  />
                </div>
                <div className="text-xs text-slate-600 dark:text-slate-300">
                  Actualizaciones: {p.updatesCount}  Pedidos de ayuda: {p.helpRequestsCount}  ltimo movimiento:{" "}
                  {p.lastUpdateAt ? new Date(p.lastUpdateAt).toLocaleDateString() : "sin actividad"}
                </div>
                <div className="flex items-center gap-2">
                  <input
                    type="range"
                    min="0"
                    max="100"
                    value={p.progress}
                    onChange={(e) =>
                      updateProjectProgress.mutate({ id: p.id, progress: Number(e.target.value) })
                    }
                    className="flex-1"
                  />
                  <button
                    onClick={async () => {
                      const { data } = await api.get(`/posts/project/${p.id}`);
                      setProjectPosts(data);
                      setShowProjectPosts(true);
                    }}
                    className="text-xs px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
                  >
                    Ver posts relacionados
                  </button>
                </div>
              </div>
            ))}
            {(!myProjectsOverview || myProjectsOverview.length === 0) && (
              <div className="text-sm text-slate-500">Sin proyectos todava.</div>
            )}
          </div>
        </div>
      )}
      {showProjectPosts && (
        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
          <div className="bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-4 max-w-4xl w-full max-h-[80vh] overflow-auto space-y-3">
            <div className="flex justify-between items-center">
              <h3 className="text-lg font-semibold text-slate-900 dark:text-slate-50">Posts del proyecto</h3>
              <button
                onClick={() => setShowProjectPosts(false)}
                className="px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-sm"
              >
                Cerrar
              </button>
            </div>
            {projectPosts.map((post) => (
              <PostCard
                key={post.id}
                post={post}
                onPostUpdated={() => queryClient.invalidateQueries({ queryKey: ["profile", username] })}
              />
            ))}
            {projectPosts.length === 0 && (
              <div className="text-sm text-slate-500">Sin posts para este proyecto.</div>
            )}
          </div>
        </div>
      )}
      <div className="space-y-4">
        {posts.length === 0 && (
          <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
            Sin publicaciones todava.
          </div>
        )}
        {posts.map((post) => (
          <PostCard
            key={post.id}
            post={post}
            onPostUpdated={() => queryClient.invalidateQueries({ queryKey: ["profile", username] })}
          />
        ))}
      </div>
    </div>
  );
}
</file>

<file path="backend/src/routes/users.js">
const express = require("express");
const multer = require("multer");
const path = require("path");
const prisma = require("../prisma");
const { requireAuth, optionalAuth } = require("../middleware/auth");

const router = express.Router();

const avatarStorage = multer.diskStorage({
  destination: path.join(__dirname, "../../uploads/avatars"),
  filename: (req, file, cb) => {
    const ext = path.extname(file.originalname);
    cb(null, `avatar-${req.userId}-${Date.now()}${ext}`);
  },
});

const profileVideoStorage = multer.diskStorage({
  destination: path.join(__dirname, "../../uploads/profile_videos"),
  filename: (req, file, cb) => {
    const ext = path.extname(file.originalname);
    cb(null, `profile-video-${req.userId}-${Date.now()}${ext}`);
  },
});

const coverStorage = multer.diskStorage({
  destination: path.join(__dirname, "../../uploads/covers"),
  filename: (req, file, cb) => {
    const ext = path.extname(file.originalname);
    cb(null, `cover-${req.userId}-${Date.now()}${ext}`);
  },
});

const uploadAvatar = multer({ storage: avatarStorage });
const uploadProfileVideo = multer({
  storage: profileVideoStorage,
  limits: { fileSize: 20 * 1024 * 1024 }, // 20MB
  fileFilter: (req, file, cb) => {
    const allowed = ["video/mp4", "video/webm"];
    if (!allowed.includes(file.mimetype)) {
      return cb(new Error("Tipo de video invlido"));
    }
    cb(null, true);
  },
});

const uploadCover = multer({ storage: coverStorage });
const uploadCoverVideo = multer({
  storage: coverStorage,
  limits: { fileSize: 20 * 1024 * 1024 },
  fileFilter: (req, file, cb) => {
    const allowed = ["video/mp4", "video/webm"];
    if (!allowed.includes(file.mimetype)) {
      return cb(new Error("Tipo de video invlido"));
    }
    cb(null, true);
  },
});

const sanitizeUser = (user) => {
  if (!user) return null;
  // Remove password if included
  // eslint-disable-next-line no-unused-vars
  const { password, ...rest } = user;
  return rest;
};

const REACTION_TYPES = ["MACANUDO", "MESSIRVE", "JAJAJA", "DE_UNA", "QUE_BOLUDO", "QUE_BAJON"];
const summarizeReactions = (reactions = []) => {
  const base = {};
  REACTION_TYPES.forEach((t) => {
    base[t] = 0;
  });
  reactions.forEach((r) => {
    base[r.type] = (base[r.type] || 0) + 1;
  });
  return base;
};

const getFriendshipStatus = async (currentUserId, targetUserId) => {
  const friendship = await prisma.friendship.findFirst({
    where: {
      OR: [
        { requesterId: currentUserId, addresseeId: targetUserId },
        { requesterId: targetUserId, addresseeId: currentUserId },
      ],
    },
  });

  if (!friendship) return "NONE";
  if (friendship.status === "ACCEPTED") return "FRIENDS";
  if (friendship.requesterId === currentUserId) return "OUTGOING";
  return "INCOMING";
};

router.get("/search", optionalAuth, async (req, res) => {
  const q = (req.query.q || "").trim();
  if (!q) {
    return res.json([]);
  }

  const users = await prisma.user.findMany({
    where: {
      OR: [
        { name: { contains: q, mode: "insensitive" } },
        { username: { contains: q, mode: "insensitive" } },
      ],
      NOT: req.userId ? { id: req.userId } : undefined,
    },
    take: 5,
    orderBy: { name: "asc" },
  });

  res.json(users.map(sanitizeUser));
});

router.get("/:username", optionalAuth, async (req, res) => {
  const { username } = req.params;
  const user = await prisma.user.findUnique({
    where: { username },
    select: {
      id: true,
      name: true,
      username: true,
      email: true,
      bio: true,
      avatar: true,
      location: true,
      interests: true,
      hasCompletedOnboarding: true,
      profileVideoUrl: true,
      profileVideoThumbnailUrl: true,
      useVideoAvatar: true,
      coverImageUrl: true,
      coverVideoUrl: true,
      createdAt: true,
      _count: { select: { posts: true } },
      userBadges: {
        include: { badge: true },
      },
    },
  });

  if (!user) {
    return res.status(404).json({ message: "Usuario no encontrado" });
  }

  const posts = await prisma.post.findMany({
    where: { author: { username } },
    orderBy: { createdAt: "desc" },
    include: {
      author: true,
      _count: { select: { likes: true, comments: true } },
      likes: {
        select: { userId: true },
      },
      reactions: true,
      comments: { orderBy: { createdAt: "asc" }, include: { author: true } },
      squad: true,
    },
  });

  const friendsCount = await prisma.friendship.count({
    where: {
      status: "ACCEPTED",
      OR: [{ requesterId: user.id }, { addresseeId: user.id }],
    },
  });

  let friendshipStatus = "NONE";
  let friendship = null;
  if (req.userId) {
    friendship = await prisma.friendship.findFirst({
      where: {
        OR: [
          { requesterId: req.userId, addresseeId: user.id },
          { requesterId: user.id, addresseeId: req.userId },
        ],
      },
    });
    friendshipStatus = friendship
      ? friendship.status === "ACCEPTED"
        ? "FRIENDS"
        : friendship.requesterId === req.userId
          ? "OUTGOING"
          : "INCOMING"
      : "NONE";
  }

  res.json({
    user: {
      ...user,
      friendsCount,
      friendshipStatus,
      relationCategory: friendship?.relationCategory || null,
      relationDetail: friendship?.relationDetail || null,
      badges:
        user.userBadges?.map((ub) => ({
          code: ub.badge.code,
          name: ub.badge.name,
          description: ub.badge.description,
          icon: ub.badge.icon,
        })) || [],
    },
    posts: posts.map((post) => ({
      id: post.id,
      content: post.content,
      image: post.image,
      createdAt: post.createdAt,
      author: sanitizeUser(post.author),
      likedBy: post.likes.map((like) => like.userId),
      _count: post._count,
      reactions: summarizeReactions(post.reactions),
      userReaction: post.reactions.find((r) => r.userId === req.userId)?.type || null,
      comments: post.comments.map((comment) => ({
        id: comment.id,
        content: comment.content,
        createdAt: comment.createdAt,
        author: sanitizeUser(comment.author),
      })),
    })),
  });
});

router.put("/me", requireAuth, async (req, res) => {
  const { name, bio, username } = req.body;

  if (!name || !username) {
    return res.status(400).json({ message: "Nombre y username son obligatorios" });
  }

  const user = await prisma.user.findUnique({ where: { id: req.userId } });
  if (!user) {
    return res.status(404).json({ message: "Usuario no encontrado" });
  }

  if (username !== user.username) {
    const existingUsername = await prisma.user.findUnique({ where: { username } });
    if (existingUsername) {
      return res.status(400).json({ message: "Username ya est en uso" });
    }
  }

  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { name, bio, username },
  });

  res.json({ user: sanitizeUser(updated) });
});

router.put("/me/avatar", requireAuth, uploadAvatar.single("avatar"), async (req, res) => {
  if (!req.file) {
    return res.status(400).json({ message: "No se adjunt archivo" });
  }

  const avatarPath = path.join("uploads/avatars", req.file.filename).replace(/\\/g, "/");

  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { avatar: avatarPath },
  });

  res.json({ user: sanitizeUser(updated) });
});

router.put("/me/profile-video", requireAuth, uploadProfileVideo.single("profileVideo"), async (req, res) => {
  if (!req.file) {
    return res.status(400).json({ message: "No se adjunt archivo de video" });
  }
  try {
    const rawStart = Number(req.body.start);
    const rawEnd = Number(req.body.end);
    const rawLength = Number(req.body.length);
    const start = Number.isFinite(rawStart) && rawStart >= 0 ? rawStart : 0;
    const desiredLength = Number.isFinite(rawLength)
      ? rawLength
      : Number.isFinite(rawEnd)
        ? rawEnd - start
        : 3;
    const clipLength = Math.min(5, Math.max(3, desiredLength || 3));
    const computedEnd = Number.isFinite(rawEnd) ? rawEnd : start + clipLength;
    const end = Math.min(start + 5, computedEnd);
    const videoPath = path.join("uploads/profile_videos", req.file.filename).replace(/\\/g, "/");
    const finalPath = end ? `${videoPath}#t=${Math.max(0, start)},${Math.max(0, end)}` : videoPath;
    const updated = await prisma.user.update({
      where: { id: req.userId },
      data: { profileVideoUrl: finalPath, useVideoAvatar: true },
    });
    res.json({ user: sanitizeUser(updated) });
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ message: "Error al subir video de perfil" });
  }
});

router.put("/me/avatar-mode", requireAuth, async (req, res) => {
  const { useVideoAvatar } = req.body;
  const user = await prisma.user.findUnique({ where: { id: req.userId } });
  if (useVideoAvatar && !user.profileVideoUrl) {
    return res.status(400).json({ message: "No tienes video de perfil para activar el modo video" });
  }
  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { useVideoAvatar: !!useVideoAvatar },
  });
  res.json({ user: sanitizeUser(updated) });
});

router.put("/me/cover", requireAuth, uploadCover.single("coverImage"), async (req, res) => {
  if (!req.file) {
    return res.status(400).json({ message: "No se adjunt archivo de portada" });
  }
  const coverPath = path.join("uploads/covers", req.file.filename).replace(/\\/g, "/");
  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { coverImageUrl: coverPath },
  });
  res.json({ user: sanitizeUser(updated) });
});

router.put("/me/cover-video", requireAuth, uploadCoverVideo.single("coverVideo"), async (req, res) => {
  if (!req.file) {
    return res.status(400).json({ message: "No se adjunt archivo de video de portada" });
  }
  const rawStart = Number(req.body.start);
  const rawEnd = Number(req.body.end);
  const rawLength = Number(req.body.length);
  const start = Number.isFinite(rawStart) && rawStart >= 0 ? rawStart : 0;
  const desiredLength = Number.isFinite(rawLength)
    ? rawLength
    : Number.isFinite(rawEnd)
      ? rawEnd - start
      : 3;
  const clipLength = Math.min(5, Math.max(3, desiredLength || 3));
  const computedEnd = Number.isFinite(rawEnd) ? rawEnd : start + clipLength;
  const end = Math.min(start + 5, computedEnd);
  const coverPath = path.join("uploads/covers", req.file.filename).replace(/\\/g, "/");
  const finalPath = end ? `${coverPath}#t=${Math.max(0, start)},${Math.max(0, end)}` : coverPath;
  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { coverVideoUrl: finalPath },
  });
  res.json({ user: sanitizeUser(updated) });
});

router.put("/me/interests", requireAuth, async (req, res) => {
  const { interests } = req.body;
  if (!Array.isArray(interests)) {
    return res.status(400).json({ message: "interests debe ser un array de strings" });
  }
  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { interests },
  });
  res.json({ user: sanitizeUser(updated) });
});

router.put("/me/location", requireAuth, async (req, res) => {
  const { location } = req.body;
  if (!location || typeof location !== "string") {
    return res.status(400).json({ message: "location es obligatorio" });
  }
  const updated = await prisma.user.update({
    where: { id: req.userId },
    data: { location },
  });
  res.json({ user: sanitizeUser(updated) });
});

// Marca el onboarding como completado
router.put("/me/onboarding", requireAuth, async (req, res) => {
  try {
    const user = await prisma.user.update({
      where: { id: req.userId },
      data: { hasCompletedOnboarding: true },
    });
    res.json(sanitizeUser(user));
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error updating onboarding state" });
  }
});

router.get("/me/projects", requireAuth, async (req, res) => {
  const projects = await prisma.project.findMany({
    where: { userId: req.userId },
    orderBy: { id: "desc" },
  });
  res.json(projects);
});

router.post("/me/projects", requireAuth, async (req, res) => {
  const { title, description, category, targetDate, visibility, needsHelp } = req.body;
  if (!title) return res.status(400).json({ message: "title es obligatorio" });
  const project = await prisma.project.create({
    data: {
      userId: req.userId,
      title,
      description,
      category,
      targetDate: targetDate ? new Date(targetDate) : undefined,
      visibility,
      needsHelp,
    },
  });
  res.status(201).json(project);
});

router.put("/me/projects/:projectId", requireAuth, async (req, res) => {
  const projectId = Number(req.params.projectId);
  if (Number.isNaN(projectId)) return res.status(400).json({ message: "ID invlido" });

  const existing = await prisma.project.findUnique({ where: { id: projectId } });
  if (!existing || existing.userId !== req.userId) {
    return res.status(404).json({ message: "Proyecto no encontrado" });
  }

  const { title, description, category, targetDate, visibility, needsHelp } = req.body;
  const updated = await prisma.project.update({
    where: { id: projectId },
    data: {
      title,
      description,
      category,
      targetDate: targetDate ? new Date(targetDate) : null,
      visibility,
      needsHelp,
    },
  });
  res.json(updated);
});

router.delete("/me/projects/:projectId", requireAuth, async (req, res) => {
  const projectId = Number(req.params.projectId);
  if (Number.isNaN(projectId)) return res.status(400).json({ message: "ID invlido" });

  const existing = await prisma.project.findUnique({ where: { id: projectId } });
  if (!existing || existing.userId !== req.userId) {
    return res.status(404).json({ message: "Proyecto no encontrado" });
  }

  await prisma.project.delete({ where: { id: projectId } });
  res.json({ ok: true });
});

router.put("/me/projects/:projectId/progress", requireAuth, async (req, res) => {
  const userId = req.userId;
  const projectId = parseInt(req.params.projectId, 10);
  const { progress } = req.body;

  try {
    const project = await prisma.project.update({
      where: { id: projectId, userId },
      data: { progress: Math.min(100, Math.max(0, progress || 0)) },
    });
    res.json(project);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error updating project progress" });
  }
});

router.get("/me/projects/overview", requireAuth, async (req, res) => {
  const userId = req.userId;

  try {
    const projects = await prisma.project.findMany({
      where: { userId },
      include: {
        posts: {
          select: {
            id: true,
            type: true,
            createdAt: true,
          },
        },
      },
    });

    const mapped = projects.map((p) => {
      const helpRequests = p.posts.filter((po) => po.type === "HELP_REQUEST");
      const updates = p.posts.filter((po) => po.type === "PROJECT_UPDATE");
      const lastUpdateAt = p.posts.length
        ? p.posts.reduce((max, po) => (po.createdAt > max ? po.createdAt : max), p.posts[0].createdAt)
        : null;

      return {
        ...p,
        postsCount: p.posts.length,
        helpRequestsCount: helpRequests.length,
        updatesCount: updates.length,
        lastUpdateAt,
      };
    });

    res.json(mapped);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error loading projects overview" });
  }
});

router.get("/me/suggested", requireAuth, async (req, res) => {
  const userId = req.userId;
  const limit = parseInt(req.query.limit, 10) || 10;

  try {
    const me = await prisma.user.findUnique({
      where: { id: userId },
      include: { squadMemberships: true },
    });

    const myInterests = me?.interests || [];
    const mySquadIds = me?.squadMemberships?.map((m) => m.squadId) || [];

    const others = await prisma.user.findMany({
      where: {
        id: { not: userId },
        OR: [
          myInterests.length ? { interests: { hasSome: myInterests } } : undefined,
          mySquadIds.length
            ? {
                squadMemberships: {
                  some: { squadId: { in: mySquadIds } },
                },
              }
            : undefined,
        ].filter(Boolean),
      },
      take: limit * 3,
      include: {
        squadMemberships: true,
      },
    });

    const scored = others.map((u) => {
      const sharedInterests = (u.interests || []).filter((i) => myInterests.includes(i));
      const sharedSquads = (u.squadMemberships || []).filter((m) => mySquadIds.includes(m.squadId));
      const score = sharedInterests.length * 2 + sharedSquads.length * 3;

      return {
        id: u.id,
        username: u.username,
        name: u.name,
        avatar: u.avatar,
        sharedInterests,
        sharedSquadsCount: sharedSquads.length,
        score,
      };
    });

    const sorted = scored.sort((a, b) => b.score - a.score).slice(0, limit);

    res.json(sorted);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error loading suggested users" });
  }
});

module.exports = router;
</file>

<file path="frontend/src/components/FriendRequests.jsx">
import { useMutation, useQuery, useQueryClient } from "@tanstack/react-query";
import { AnimatePresence, motion } from "framer-motion";
import { useState } from "react";
import { Link } from "react-router-dom";
import api from "../api/client";
import Avatar from "./Avatar";

export default function FriendRequests({ iconOnly = false }) {
  const [open, setOpen] = useState(false);
  const queryClient = useQueryClient();

  const { data } = useQuery({
    queryKey: ["friends"],
    queryFn: async () => {
      try {
        const { data } = await api.get("/friends");
        const list = Array.isArray(data)
          ? data
          : Array.isArray(data?.requests)
            ? data.requests
            : Array.isArray(data?.friendRequests)
              ? data.friendRequests
              : [];
        if (!Array.isArray(list)) {
          // fallback defensivo para evitar crasheos si la API no responde con array
          console.warn("[FriendRequests] Respuesta inesperada de /friends", data);
        }
        return list;
      } catch (err) {
        console.warn("[FriendRequests] Error cargando solicitudes", err);
        return [];
      }
    },
    refetchInterval: 15000,
  });

  const safeRequests = Array.isArray(data) ? data : [];
  const incoming = safeRequests.filter(
    (f) =>
      (f.status === "PENDING" || f.status === "PENDIENTE") && f.direction === "INCOMING"
  );
  const badge = incoming.length;

  const accept = useMutation({
    mutationFn: async (username) => api.post(`/friends/${username}/accept`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["friends"] });
      setOpen(false);
    },
  });

  const reject = useMutation({
    mutationFn: async (username) => api.delete(`/friends/${username}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ["friends"] });
      setOpen(false);
    },
  });

  const baseClasses =
    "relative border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition";

  return (
    <div className="relative">
      <button
        onClick={() => setOpen((v) => !v)}
        className={
          iconOnly
            ? `${baseClasses} h-10 w-10 rounded-full flex items-center justify-center text-lg`
            : `${baseClasses} px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2`
        }
        aria-label="Solicitudes de amistad"
      >
        <span aria-hidden>{"\u{1F91D}"}</span>
        {!iconOnly && <span>Amigos</span>}
        <AnimatePresence>
          {badge > 0 && (
            <motion.span
              initial={{ scale: 0 }}
              animate={{ scale: 1 }}
              exit={{ scale: 0 }}
              className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-2"
            >
              {badge}
            </motion.span>
          )}
        </AnimatePresence>
      </button>
      <AnimatePresence>
        {open && (
          <motion.div
            initial={{ opacity: 0, y: -6 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -6 }}
            className="absolute right-0 mt-2 w-72 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900 shadow-xl backdrop-blur z-30"
          >
            <div className="px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200">
              Solicitudes de amistad
            </div>
            {incoming.length === 0 && (
              <div className="px-4 py-3 text-sm text-slate-500">No tienes solicitudes pendientes.</div>
            )}
            {incoming.map((f) => (
              <div
                key={f.user.id}
                className="px-4 py-3 border-t border-slate-100 dark:border-slate-800 text-sm text-slate-800 dark:text-slate-100"
              >
                <Link to={`/profile/${f.user.username}`} className="flex items-center gap-3 hover:opacity-90">
                  <Avatar user={f.user} size={42} />
                  <div>
                    <div className="font-semibold">{f.user.name}</div>
                    <div className="text-xs text-slate-500">@{f.user.username}</div>
                  </div>
                </Link>
                <div className="mt-2 flex items-center gap-2">
                  <button
                    onClick={() => accept.mutate(f.user.username)}
                    className="px-3 py-1 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-500"
                  >
                    Aceptar
                  </button>
                  <button
                    onClick={() => {
                      const confirmed = window.confirm("Seguro que quieres eliminar esta solicitud/amigo?");
                      if (confirmed) reject.mutate(f.user.username);
                    }}
                    className="px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs hover:bg-slate-100 dark:hover:bg-slate-800"
                  >
                    Rechazar
                  </button>
                </div>
              </div>
            ))}
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
}
</file>

<file path="backend/src/server.js">
require("dotenv").config();
const fs = require("fs");
const path = require("path");
const express = require("express");
const cors = require("cors");
const morgan = require("morgan");

const authRoutes = require("./routes/auth");
const userRoutes = require("./routes/users");
const postRoutes = require("./routes/posts");
const friendRoutes = require("./routes/friends");
const notificationRoutes = require("./routes/notifications");
const chatRoutes = require("./routes/chat");
const preferenceRoutes = require("./routes/preferences");
const squadRoutes = require("./routes/squads");
const feedbackRoutes = require("./routes/feedback");
const hashtagRoutes = require("./routes/hashtags");

const app = express();
const PORT = process.env.PORT || 4000;

const FRONTEND_ORIGIN = (process.env.FRONTEND_URL || "http://localhost:5173")
  .split(",")
  .map((o) => o.trim())
  .filter(Boolean);

app.use(
  cors({
    origin: FRONTEND_ORIGIN,
    methods: ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"],
    allowedHeaders: ["Content-Type", "Authorization"],
    credentials: true,
  })
);

app.use(express.json());
app.use(morgan("dev"));

app.use("/uploads", express.static(path.join(__dirname, "../uploads")));

app.use("/api/auth", authRoutes);
app.use("/api/users", userRoutes);
app.use("/api/posts", postRoutes);
app.use("/api/friends", friendRoutes);
app.use("/api/notifications", notificationRoutes);
app.use("/api/chat", chatRoutes);
app.use("/api/preferences", preferenceRoutes);
app.use("/api/squads", squadRoutes);
app.use("/api/feedback", feedbackRoutes);
app.use("/api/hashtags", hashtagRoutes);

// -------------------------
// Servir frontend SOLO si existe el build
// -------------------------
const clientDist = path.join(__dirname, "../../frontend/dist");

if (fs.existsSync(clientDist)) {
  app.use(express.static(clientDist));

  // Salud simple para probar API
  app.get("/api", (req, res) => {
    res.json({ message: "Social Network API" });
  });

  // Fallback SPA: cualquier ruta que no sea /api o /uploads devuelve index.html
  app.use((req, res, next) => {
    if (req.path.startsWith("/api") || req.path.startsWith("/uploads")) {
      return next();
    }
    return res.sendFile(path.join(clientDist, "index.html"));
  });
} else {
  // En Render no existe frontend/dist, as evitamos el 500
  app.get("/api", (req, res) => {
    res.json({ message: "Social Network API (sin frontend embebido)" });
  });
}

// -------------------------
// Manejo de errores
// -------------------------
app.use((err, req, res, next) => {
  console.error(err);
  res.status(500).json({ message: "Error interno del servidor" });
});

app.listen(PORT, () => {
  console.log(`API escuchando en http://localhost:${PORT}`);
});
</file>

<file path="backend/src/routes/posts.js">
const express = require("express");
const multer = require("multer");
const path = require("path");
const prisma = require("../prisma");
const { requireAuth } = require("../middleware/auth");
const { notify } = require("../utils/notify");
const { extractHashtagsObjects, normalizeHashtag } = require("../utils/hashtags");
const { detectTopicsFromText } = require("../utils/topicDetection");
const { analyzePostWithAI } = require("../services/aiPostAnalyzer");
const { updateTermStatsFromPost } = require("../utils/termStatsUpdater");
const { registerUserInteraction } = require("../utils/userRelations");
const { createAmbiguousReferenceFromAI } = require("../utils/ambiguousReferencesAI");
const { GROQ_ENABLED } = require("../services/aiClient");

const router = express.Router();

const REACTIONS = {
  MACANUDO: { label: "Macanudo", icon: "\u{1F44D}" },
  MESSIRVE: { label: "Messirve", icon: "\u{1F410}" }, // cabra
  JAJAJA: { label: "Jajaja", icon: "\u{1F923}" },
  DE_UNA: { label: "De una", icon: "\u{1F60D}" },
  QUE_BOLUDO: { label: "Que boludo", icon: "\u{1F644}" },
  QUE_BAJON: { label: "Que bajon", icon: "\u{1F622}" },
};
const REACTION_TYPES = Object.keys(REACTIONS);

const postStorage = multer.diskStorage({
  destination: path.join(__dirname, "../../uploads/posts"),
  filename: (req, file, cb) => {
    const ext = path.extname(file.originalname);
    cb(null, `post-${req.userId}-${Date.now()}${ext}`);
  },
});

const uploadPostImage = multer({ storage: postStorage });

const sanitizeUser = (user) => {
  if (!user) return null;
  const { password, ...rest } = user;
  return rest;
};

const summarizeReactions = (reactions = []) => {
  const base = {};
  REACTION_TYPES.forEach((t) => {
    base[t] = 0;
  });
  reactions.forEach((r) => {
    base[r.type] = (base[r.type] || 0) + 1;
  });
  return base;
};

const findMentions = (text = "") => {
  const matches = text.match(/@([a-zA-Z0-9_]+)/g) || [];
  return [...new Set(matches.map((m) => m.slice(1)))];
};

const mapComment = (comment, userId) => ({
  id: comment.id,
  content: comment.content,
  createdAt: comment.createdAt,
  author: sanitizeUser(comment.author),
  reactions: summarizeReactions(comment.reactions || []),
  userReaction: comment.reactions?.find((r) => r.userId === userId)?.type || null,
});

const serializePost = (post, userId) => ({
  id: post.id,
  content: post.content,
  image: post.image,
  createdAt: post.createdAt,
  author: sanitizeUser(post.author),
  likedBy: post.likes.map((like) => like.userId),
  comments: post.comments.map((comment) => mapComment(comment, userId)),
  _count: post._count,
  reactions: summarizeReactions(post.reactions),
  userReaction: post.reactions.find((r) => r.userId === userId)?.type || null,
  tags: post.tags,
  hashtags: post.hashtags || [],
  type: post.type,
  squad: post.squad ? { id: post.squad.id, name: post.squad.name } : null,
});

router.get("/", requireAuth, async (req, res) => {
  const { take = 20, skip = 0, tag: tagParam } = req.query;

  const where = {};
  if (tagParam) {
    const canonicalTag = normalizeHashtag(tagParam);
    if (canonicalTag) {
      where.tags = { has: canonicalTag };
    }
  }

  try {
    const posts = await prisma.post.findMany({
      take: Number(take),
      skip: Number(skip),
      orderBy: { createdAt: "desc" },
      where,
      include: {
        author: true,
        _count: { select: { likes: true, comments: true } },
        likes: { select: { userId: true } },
        reactions: true,
        comments: {
          orderBy: { createdAt: "asc" },
          include: {
            author: true,
            reactions: true,
          },
        },
        squad: true,
      },
    });

    res.json(posts.map((post) => serializePost(post, req.userId)));
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error cargando posts" });
  }
});

router.get("/feed/personal", requireAuth, async (req, res) => {
  const user = await prisma.user.findUnique({
    where: { id: req.userId },
    include: {
      squadMemberships: { select: { squadId: true } },
    },
  });
  const interests = (user?.interests || []).map((i) => normalizeHashtag(i) || i);
  const interestsCanonical = interests.map((i) => normalizeHashtag(i) || i);
  const squadIds = (user?.squadMemberships || []).map((m) => m.squadId);

  const candidates = await prisma.post.findMany({
    where: {
      OR: [
        squadIds.length > 0 ? { squadId: { in: squadIds } } : undefined,
        interestsCanonical.length > 0 ? { tags: { hasSome: interestsCanonical } } : undefined,
      ].filter(Boolean),
    },
    orderBy: { createdAt: "desc" },
    include: {
      author: true,
      _count: { select: { likes: true, comments: true } },
      likes: { select: { userId: true } },
      reactions: true,
      comments: {
        orderBy: { createdAt: "asc" },
        include: { author: true },
      },
      squad: true,
    },
  });

  const interestSet = new Set(interestsCanonical);
  const squadSet = new Set(squadIds);

  const scored = candidates.map((p) => {
    const inSquad = p.squadId && squadSet.has(p.squadId);
    const hasInterest = (p.tags || []).some((t) => interestSet.has(t));
    let score = 0;
    if (inSquad && hasInterest) score = 3;
    else if (inSquad) score = 2;
    else if (hasInterest) score = 1;
    return { post: p, score };
  });

  scored.sort((a, b) => {
    if (b.score !== a.score) return b.score - a.score;
    return new Date(b.post.createdAt) - new Date(a.post.createdAt);
  });

  res.json(scored.map(({ post }) => serializePost(post, req.userId)));
});

// Feed de pedidos de ayuda personalizados para el usuario
router.get("/feed/help", requireAuth, async (req, res) => {
  const userId = req.userId;
  const take = parseInt(req.query.take, 10) || 20;
  const skip = parseInt(req.query.skip, 10) || 0;

  try {
    const user = await prisma.user.findUnique({
      where: { id: userId },
      include: {
        squadMemberships: true,
      },
    });

    const squadIds = user?.squadMemberships?.map((m) => m.squadId) || [];
    const interests = user?.interests || [];

    const posts = await prisma.post.findMany({
      where: {
        type: "HELP_REQUEST",
        OR: [
          squadIds.length > 0 ? { squadId: { in: squadIds } } : undefined,
          interests.length > 0 ? { tags: { hasSome: interests } } : undefined,
        ].filter(Boolean),
      },
      orderBy: { createdAt: "desc" },
      skip,
      take,
      include: {
        author: true,
        _count: { select: { likes: true, comments: true } },
        likes: { select: { userId: true } },
        reactions: true,
        comments: { orderBy: { createdAt: "asc" }, include: { author: true } },
        squad: true,
      },
    });

    res.json(posts.map((p) => serializePost(p, userId)));
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error loading help feed" });
  }
});

router.get("/project/:projectId", requireAuth, async (req, res) => {
  const projectId = Number(req.params.projectId);
  if (Number.isNaN(projectId)) return res.status(400).json({ message: "ID invlido" });

  const posts = await prisma.post.findMany({
    where: { projectId },
    orderBy: { createdAt: "desc" },
    include: {
      author: true,
      _count: { select: { likes: true, comments: true } },
      likes: { select: { userId: true } },
      reactions: true,
        comments: {
          orderBy: { createdAt: "asc" },
          include: { author: true },
        },
      squad: true,
    },
  });

  res.json(posts.map((post) => serializePost(post, req.userId)));
});

router.post("/", requireAuth, uploadPostImage.single("image"), async (req, res) => {
  try {
    const { content, tags: bodyTags, type, squadId, projectId } = req.body;

    if (!content) {
      return res.status(400).json({ message: "El contenido es obligatorio" });
    }

    const imagePath = req.file
      ? path.join("uploads/posts", req.file.filename).replace(/\\/g, "/")
      : null;

    if (squadId) {
      const squadExists = await prisma.squad.findUnique({ where: { id: Number(squadId) } });
      if (!squadExists) return res.status(400).json({ message: "Squad no encontrado" });
    }

    if (projectId) {
      const projectExists = await prisma.project.findUnique({ where: { id: Number(projectId) } });
      if (!projectExists) return res.status(400).json({ message: "Proyecto no encontrado" });
    }

    // 1) Tags explcitos
    const explicitTags = Array.isArray(bodyTags) ? bodyTags : [];
    // 2) Hashtags escritos
    const hashtagObjects = extractHashtagsObjects(content);
    const canonicalFromHashtags = hashtagObjects.map((h) => h.canonical);
    // 3) Diccionario simple
    const dictTopics = typeof detectTopicsFromText === "function" ? detectTopicsFromText(content) : [];
    // 4) IA (Groq)
    let aiAnalysis = {
      topics: [],
      extra_tags: [],
      implicit_reference: { present: false, kind: "none", target_is_person: false },
    };

    if (GROQ_ENABLED) {
      // Forzamos Groq para afinar el prompt y evaluar su cobertura,
      // sin depender de heursticas locales
      aiAnalysis = await analyzePostWithAI(content);
    } else if (!GROQ_ENABLED && typeof detectTopicsFromText === "function") {
      aiAnalysis.topics = dictTopics;
    }

    const aiTopics = aiAnalysis.topics || [];
    const aiHashtags = aiAnalysis.hashtags || [];

    // 5) Unir tags
    const allCanonicalTags = Array.from(
      new Set([...explicitTags, ...canonicalFromHashtags, ...dictTopics, ...aiTopics])
    );

    // 6) Crear post
    const post = await prisma.post.create({
      data: {
        content,
        tags: allCanonicalTags,
        hashtags: aiHashtags,
        type: type || "NORMAL",
        squadId: squadId ? Number(squadId) : null,
        projectId: projectId ? Number(projectId) : null,
        authorId: req.userId,
        image: imagePath,
      },
      include: {
        author: true,
        _count: { select: { likes: true, comments: true } },
        likes: { select: { userId: true } },
        reactions: true,
        comments: { orderBy: { createdAt: "desc" }, include: { author: true, reactions: true } },
        squad: true,
      },
    });

    // 7) Notifica menciones
    const mentionUsernames = findMentions(content);
    if (mentionUsernames.length > 0) {
      const mentioned = await prisma.user.findMany({
        where: { username: { in: mentionUsernames } },
        select: { id: true },
      });
      await Promise.all(
        mentioned
          .filter((u) => u.id !== req.userId)
          .map((u) =>
            notify({
              userId: u.id,
              type: "MENTION",
              data: { postId: post.id, by: req.userId },
            })
          )
      );
    }

    // 8) Stats de trminos (global, por tag, por usuario)
    await updateTermStatsFromPost(prisma, post);

    // 9) Referencia implcita
    if (aiAnalysis.implicit_reference?.present) {
      await createAmbiguousReferenceFromAI(prisma, post, aiAnalysis.implicit_reference);
    }

    // 10) Stats de hashtags
    if (hashtagObjects.length > 0 && prisma.hashtag?.upsert) {
      await Promise.all(
        hashtagObjects.map((h) =>
          prisma.hashtag.upsert({
            where: { canonical: h.canonical },
            update: {
              useCount: { increment: 1 },
              lastUsedAt: new Date(),
              display: h.raw,
            },
            create: {
              canonical: h.canonical,
              display: h.raw,
              useCount: 1,
              lastUsedAt: new Date(),
            },
          })
        )
      );
    }

    const responsePost = serializePost(post, req.userId);
    res.json(responsePost);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    res.status(500).json({ error: "Error creando post" });
  }
});

// Editar post (slo autor)
router.put("/:id", requireAuth, async (req, res) => {
  const postId = Number(req.params.id);
  if (Number.isNaN(postId)) return res.status(400).json({ message: "ID invlido" });

  const existing = await prisma.post.findUnique({ where: { id: postId } });
  if (!existing) return res.status(404).json({ message: "Post no encontrado" });
  if (existing.authorId !== req.userId) return res.status(403).json({ message: "No autorizado" });

  const { content } = req.body;
  if (!content || !content.trim()) return res.status(400).json({ message: "El contenido es obligatorio" });

  // Recalcular tags/hashtags con la misma lgica que creacin
  const explicitTags = Array.isArray(req.body.tags) ? req.body.tags : [];
  const hashtagObjects = extractHashtagsObjects(content);
  const canonicalFromHashtags = hashtagObjects.map((h) => h.canonical);
  const dictTopics = typeof detectTopicsFromText === "function" ? detectTopicsFromText(content) : [];
  let aiAnalysis = {
    topics: [],
    extra_tags: [],
    implicit_reference: { present: false, kind: "none", target_is_person: false },
  };
  if (GROQ_ENABLED) {
    aiAnalysis = await analyzePostWithAI(content);
  } else if (!GROQ_ENABLED && typeof detectTopicsFromText === "function") {
    aiAnalysis.topics = dictTopics;
  }
  const aiTopics = aiAnalysis.topics || [];
  const aiHashtags = aiAnalysis.hashtags || [];

  const allCanonicalTags = Array.from(
    new Set([...explicitTags, ...canonicalFromHashtags, ...dictTopics, ...aiTopics])
  );

  const post = await prisma.post.update({
    where: { id: postId },
    data: { content, tags: allCanonicalTags, hashtags: aiHashtags },
    include: {
      author: true,
      _count: { select: { likes: true, comments: true } },
      likes: { select: { userId: true } },
      reactions: true,
      comments: { orderBy: { createdAt: "asc" }, include: { author: true, reactions: true } },
      squad: true,
    },
  });

  const responsePost = serializePost(post, req.userId);
  res.json(responsePost);
});

router.get("/:id", requireAuth, async (req, res) => {
  const postId = Number(req.params.id);
  if (Number.isNaN(postId)) {
    return res.status(400).json({ message: "ID invlido" });
  }

  const post = await prisma.post.findUnique({
    where: { id: postId },
    include: {
      author: true,
      _count: { select: { likes: true, comments: true } },
      likes: { select: { userId: true } },
      reactions: true,
      comments: { orderBy: { createdAt: "desc" }, include: { author: true, reactions: true } },
      squad: true,
    },
  });

  if (!post) {
    return res.status(404).json({ message: "Post no encontrado" });
  }

  res.json({
    id: post.id,
    content: post.content,
    image: post.image,
    createdAt: post.createdAt,
    author: sanitizeUser(post.author),
    likedBy: post.likes.map((like) => like.userId),
    comments: post.comments.map((comment) => ({
      id: comment.id,
      content: comment.content,
      createdAt: comment.createdAt,
      author: sanitizeUser(comment.author),
    })),
    _count: post._count,
    reactions: summarizeReactions(post.reactions),
    userReaction: post.reactions.find((r) => r.userId === req.userId)?.type || null,
  });
});

router.post("/:id/like", requireAuth, async (req, res) => {
  const postId = Number(req.params.id);
  if (Number.isNaN(postId)) {
    return res.status(400).json({ message: "ID invlido" });
  }

  const post = await prisma.post.findUnique({
    where: { id: postId },
    select: { id: true, authorId: true },
  });
  if (!post) return res.status(404).json({ error: "Post no encontrado" });

  const existing = await prisma.like.findUnique({
    where: { userId_postId: { userId: req.userId, postId } },
  });

  if (existing) {
    await prisma.like.delete({ where: { id: existing.id } });
  } else {
    await prisma.like.create({
      data: {
        userId: req.userId,
        postId,
      },
    });
    // incrementar cercana
    await registerUserInteraction(prisma, req.userId, post.authorId, "like");
  }

  const likesCount = await prisma.like.count({ where: { postId } });
  res.json({ liked: !existing, likesCount });
});

router.post("/:id/reactions", requireAuth, async (req, res) => {
  const postId = Number(req.params.id);
  if (Number.isNaN(postId)) {
    return res.status(400).json({ message: "ID invlido" });
  }
  const { type } = req.body;
  if (!type || !REACTIONS[type]) {
    return res.status(400).json({ message: "Reaccin invlida" });
  }

  const existing = await prisma.reaction.findUnique({
    where: { userId_postId: { userId: req.userId, postId } },
  });

  if (existing && existing.type === type) {
    await prisma.reaction.delete({ where: { id: existing.id } });
  } else if (existing) {
    await prisma.reaction.update({ where: { id: existing.id }, data: { type } });
  } else {
    await prisma.reaction.create({
      data: {
        userId: req.userId,
        postId,
        type,
      },
    });
  }

  const reactions = await prisma.reaction.findMany({ where: { postId } });
  const post = await prisma.post.findUnique({ where: { id: postId } });
  if (post && post.authorId !== req.userId && type) {
    await notify({
      userId: post.authorId,
      type: "REACTION",
      data: { kind: "POST_REACTION", postId, by: req.userId, reaction: type },
    });
  }
  res.json({
    reactions: summarizeReactions(reactions),
    userReaction: reactions.find((r) => r.userId === req.userId)?.type || null,
  });
});

router.get("/:id/comments", async (req, res) => {
  const postId = Number(req.params.id);
  if (Number.isNaN(postId)) {
    return res.status(400).json({ message: "ID invlido" });
  }

  const comments = await prisma.comment.findMany({
    where: { postId },
    orderBy: { createdAt: "asc" },
    include: { author: true, reactions: true },
  });

  res.json(
    comments.map((comment) => mapComment(comment, req.userId))
  );
});

router.post("/:id/comments", requireAuth, async (req, res) => {
  const postId = Number(req.params.id);
  if (Number.isNaN(postId)) {
    return res.status(400).json({ message: "ID invlido" });
  }
  const { content } = req.body;
  if (!content) {
    return res.status(400).json({ message: "El comentario es obligatorio" });
  }

  const post = await prisma.post.findUnique({
    where: { id: postId },
    select: { id: true, authorId: true },
  });
  if (!post) return res.status(404).json({ error: "Post no encontrado" });

  const comment = await prisma.comment.create({
    data: {
      content,
      postId,
      authorId: req.userId,
    },
    include: { author: true },
  });

  // Notifica al autor del post
  if (post && post.authorId !== req.userId) {
    await notify({
      userId: post.authorId,
      type: "REACTION",
      data: { kind: "COMMENT", postId, by: req.userId },
    });
    // incrementar cercana
    await registerUserInteraction(prisma, req.userId, post.authorId, "comment");
  }

  // Notifica menciones en el comentario
  const mentionUsernames = findMentions(content);
  if (mentionUsernames.length > 0) {
    const mentioned = await prisma.user.findMany({
      where: { username: { in: mentionUsernames } },
      select: { id: true },
    });
    await Promise.all(
      mentioned
        .filter((u) => u.id !== req.userId)
        .map((u) =>
          notify({
            userId: u.id,
            type: "MENTION",
            data: { postId, by: req.userId },
          })
        )
    );
  }

  res.status(201).json({
    id: comment.id,
    content: comment.content,
    createdAt: comment.createdAt,
    author: sanitizeUser(comment.author),
    reactions: summarizeReactions([]),
    userReaction: null,
  });
});

// Editar comentario (slo autor)
router.put("/:postId/comments/:commentId", requireAuth, async (req, res) => {
  const postId = Number(req.params.postId);
  const commentId = Number(req.params.commentId);
  if (Number.isNaN(postId) || Number.isNaN(commentId)) {
    return res.status(400).json({ message: "ID invlido" });
  }
  const { content } = req.body;
  if (!content || !content.trim()) {
    return res.status(400).json({ message: "El contenido es obligatorio" });
  }

  const existing = await prisma.comment.findUnique({ where: { id: commentId } });
  if (!existing || existing.postId !== postId) {
    return res.status(404).json({ message: "Comentario no encontrado" });
  }
  if (existing.authorId !== req.userId) {
    return res.status(403).json({ message: "No autorizado" });
  }

  const updated = await prisma.comment.update({
    where: { id: commentId },
    data: { content },
    include: { author: true, reactions: true },
  });

  res.json(mapComment(updated, req.userId));
});

// Reacciones en comentarios
router.post("/:postId/comments/:commentId/reactions", requireAuth, async (req, res) => {
  const postId = Number(req.params.postId);
  const commentId = Number(req.params.commentId);
  const { type } = req.body;
  if (Number.isNaN(postId) || Number.isNaN(commentId)) {
    return res.status(400).json({ message: "ID invlido" });
  }
  if (!type || !REACTIONS[type]) {
    return res.status(400).json({ message: "Reaccin invlida" });
  }

  const comment = await prisma.comment.findUnique({
    where: { id: commentId },
    select: { id: true, postId: true, authorId: true },
  });
  if (!comment || comment.postId !== postId) {
    return res.status(404).json({ message: "Comentario no encontrado" });
  }

  const existing = await prisma.commentReaction.findUnique({
    where: { userId_commentId: { userId: req.userId, commentId } },
  });

  if (existing && existing.type === type) {
    await prisma.commentReaction.delete({ where: { id: existing.id } });
  } else if (existing) {
    await prisma.commentReaction.update({ where: { id: existing.id }, data: { type } });
  } else {
    await prisma.commentReaction.create({
      data: { userId: req.userId, commentId, type },
    });
  }

  const reactions = await prisma.commentReaction.findMany({ where: { commentId } });
  res.json({
    reactions: summarizeReactions(reactions),
    userReaction: reactions.find((r) => r.userId === req.userId)?.type || null,
  });
});

module.exports = router;
</file>

<file path="frontend/src/components/NavBar.jsx">
import { Link, useLocation } from "react-router-dom";
import { useAuth } from "../context/AuthContext";
import Avatar from "./Avatar";
import MacanudosLogo from "./MacanudosLogo";
import UserSearch from "./UserSearch";
import ThemeToggle from "./ThemeToggle";
import NotificationBell from "./NotificationBell";
import FriendRequests from "./FriendRequests";
import { Link as RouterLink } from "react-router-dom";

export default function NavBar() {
  const { user, logout } = useAuth();
  const location = useLocation();

  if (!user) return null;

  const navLink = (isActive) =>
    `${isActive ? "bg-indigo-600 text-white" : "text-slate-600 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"} px-2.5 py-1 rounded-full transition text-xs sm:text-sm`;

  return (
    <header className="bg-white/80 dark:bg-slate-950/80 backdrop-blur border-b border-slate-200 dark:border-slate-800 sticky top-0 z-40">
      <div className="max-w-7xl mx-auto px-3 py-0.5">
        <div className="flex flex-wrap items-center gap-2 justify-between">
          <div className="flex items-center gap-2 min-w-[180px]">
            <Link to="/feed" className="flex items-center gap-2">
              <MacanudosLogo showText size={90} />
            </Link>
          </div>

          <nav className="flex items-center gap-1 flex-1 justify-center min-w-[200px]">
            <Link to="/feed" className={navLink(location.pathname === "/feed")}>
              Inicio
            </Link>
            <Link to="/chat" className={navLink(location.pathname === "/chat")}>
              Chat
            </Link>
            <Link to="/shop" className={navLink(location.pathname === "/shop")}>
              Tienda
            </Link>
            <Link to="/squads" className={navLink(location.pathname.startsWith("/squads"))}>
              Squads
            </Link>
            <Link to="/feedback" className={navLink(location.pathname === "/feedback")}>
              Ideas
            </Link>
          </nav>

          <div className="flex items-center gap-2 ml-auto">
            <div className="hidden md:block w-[200px]">
              <UserSearch />
            </div>
            <button
              onClick={logout}
              className="hidden sm:inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full border border-slate-200 dark:border-slate-700 text-xs text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"
            >
              Salir
            </button>
            <FriendRequests iconOnly />
            <NotificationBell iconOnly />
            <ThemeToggle iconOnly />
            <RouterLink
              to="/feed#composer"
              className="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-500 shadow-sm"
            >
              
            </RouterLink>
            <div className="hidden sm:flex items-center gap-1 px-2.5 py-1 rounded-full border border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-700 dark:text-slate-200 bg-slate-50 dark:bg-slate-900/60">
              Puntos: <span className="text-indigo-600 dark:text-indigo-300">{user?.points ?? 0}</span>
            </div>
            <Link to={`/profile/${user.username}`} className="flex items-center gap-2">
              <Avatar user={user} size={32} />
              <div className="leading-tight hidden md:block">
                <div className="text-slate-900 dark:text-white font-semibold text-sm">{user.name}</div>
                <div className="text-[11px] text-slate-500 dark:text-slate-400">@{user.username}</div>
              </div>
            </Link>
          </div>
        </div>
      </div>
    </header>
  );
}
</file>

<file path="frontend/src/components/NotificationBell.jsx">
import { useQuery, useQueryClient } from "@tanstack/react-query";
import api from "../api/client";
import { motion, AnimatePresence } from "framer-motion";
import { useState } from "react";
import { Link } from "react-router-dom";

export default function NotificationBell({ label = "Notificaciones", iconOnly = false }) {
  const [open, setOpen] = useState(false);
  const queryClient = useQueryClient();
  const { data } = useQuery({
    queryKey: ["notifications"],
    queryFn: async () => {
      try {
        const { data } = await api.get("/notifications");
        const list = Array.isArray(data)
          ? data
          : Array.isArray(data?.notifications)
            ? data.notifications
            : [];
        if (!Array.isArray(list)) {
          console.warn("[NotificationBell] Respuesta inesperada de /notifications", data);
        }
        return list;
      } catch (err) {
        console.warn("[NotificationBell] Error cargando notificaciones", err);
        return [];
      }
    },
    refetchInterval: 15000,
  });

  const safeNotifications = Array.isArray(data) ? data : [];
  const unread = safeNotifications.filter((n) => !n.readAt).length;

  const markRead = async () => {
    await api.post("/notifications/read");
    queryClient.invalidateQueries({ queryKey: ["notifications"] });
  };

  const baseClasses =
    "relative border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 transition";

  return (
    <div className="relative">
      <button
        onClick={() => {
          setOpen((v) => !v);
          markRead();
        }}
        className={
          iconOnly
            ? `${baseClasses} h-10 w-10 rounded-full flex items-center justify-center text-lg`
            : `${baseClasses} px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2`
        }
        aria-label={label}
      >
        <span aria-hidden>{"\u{1F514}"}</span>
        {!iconOnly && <span>{label}</span>}
        <AnimatePresence>
          {unread > 0 && (
            <motion.span
              initial={{ scale: 0 }}
              animate={{ scale: 1 }}
              exit={{ scale: 0 }}
              className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-2"
            >
              {unread}
            </motion.span>
          )}
        </AnimatePresence>
      </button>

      <AnimatePresence>
        {open && (
          <motion.div
            initial={{ opacity: 0, y: -6 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -6 }}
            className="absolute right-0 mt-2 w-72 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white/95 dark:bg-slate-900 shadow-xl backdrop-blur z-30 md:hidden"
          >
            <div className="px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 flex items-center justify-between">
              <span>Notificaciones</span>
              <button
                onClick={() => setOpen(false)}
                className="text-xs text-indigo-600 hover:text-indigo-400"
              >
                Cerrar
              </button>
            </div>
            {safeNotifications.length === 0 && (
              <div className="px-4 py-3 text-sm text-slate-500">Sin notificaciones.</div>
            )}
            {safeNotifications.map((n) => (
              <div
                key={n.id}
                className="px-4 py-3 border-t border-slate-100 dark:border-slate-800 text-sm text-slate-800 dark:text-slate-100"
              >
                {(() => {
                  const actor = n.user?.name || n.actorName || n.actorUsername || "Alguien";
                  const post = n.postTitle ? ` en "${n.postTitle}"` : n.postId ? ` en tu post #${n.postId}` : "";
                  let desc = n.message || n.type || "Notificacin";
                  if (!n.message) {
                    if (n.type === "REACTION") desc = `${actor} reaccion${post}`;
                    else if (n.type === "COMMENT") desc = `${actor} coment${post}`;
                    else if (n.type === "FOLLOW" || n.type === "FRIEND_REQUEST") desc = `${actor} quiere conectar`;
                  }
                  return n.link ? (
                    <Link to={n.link} onClick={() => setOpen(false)} className="hover:underline">
                      {desc}
                    </Link>
                  ) : (
                    <span>{desc}</span>
                  );
                })()}
              </div>
            ))}
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
}
</file>

<file path="frontend/src/components/PostCard.jsx">
import { useEffect, useRef, useState } from "react";
import { Link } from "react-router-dom";
import { AnimatePresence, motion } from "framer-motion";
import { useMutation, useQueryClient } from "@tanstack/react-query";
import { API_BASE_URL } from "../api/client";
import api from "../api/client";
import Avatar from "./Avatar";
import { formatTextWithHashtags } from "../utils/formatTextWithHashtags";
import { useAuth } from "../context/AuthContext";
import { REACTIONS, REACTION_ORDER } from "../constants/reactions";
import useCardStyle from "../hooks/useCardStyle";
import { useLightbox } from "../context/LightboxContext";

export default function PostCard({ post, showHelpHighlight = false, onCommentAdded, onPostUpdated }) {
  const queryClient = useQueryClient();
  const { user } = useAuth();
  const [comment, setComment] = useState("");
  const [editingPost, setEditingPost] = useState(false);
  const [editContent, setEditContent] = useState(post.content || "");
  const [editingCommentId, setEditingCommentId] = useState(null);
  const [editCommentContent, setEditCommentContent] = useState("");
  const [showComments, setShowComments] = useState(false);
  const [allComments, setAllComments] = useState(post.comments || []);
  const [visibleComments, setVisibleComments] = useState(0);
  const [loadingComments, setLoadingComments] = useState(false);
  const commentsFetchedRef = useRef(false);
  const commentInputRef = useRef(null);
  const [reactionHint, setReactionHint] = useState("");
  const reactionHintTimeout = useRef(null);
  const mediaBase = API_BASE_URL.replace(/\/api$/, "");
  const currentReaction = post.userReaction;
  const { style } = useCardStyle();
  const { open } = useLightbox();
  const safeHashtags = Array.isArray(post.hashtags)
    ? post.hashtags.filter((h) => typeof h === "string" && h.trim())
    : [];
  const safeTags = Array.isArray(post.tags) ? post.tags.filter((t) => typeof t === "string" && t.trim()) : [];
  const commentCount = post._count?.comments ?? allComments.length ?? 0;

  useEffect(() => {
    setEditContent(post.content || "");
  }, [post.content]);

  const fetchComments = async () => {
    if (commentsFetchedRef.current) {
      // Ya se cargaron; solo aseguro visibles = total
      setVisibleComments((v) => (allComments.length ? allComments.length : v));
      return;
    }
    try {
      setLoadingComments(true);
      const { data } = await api.get(`/posts/${post.id}/comments`);
      const list = Array.isArray(data) ? data : [];
      setAllComments(list);
      setVisibleComments(list.length);
      commentsFetchedRef.current = true;
    } catch (err) {
      console.error("Error cargando comentarios", err);
    } finally {
      setLoadingComments(false);
    }
  };

  // Cuando se abre el panel de comentarios, traemos todos y arrancamos con 10 visibles
  useEffect(() => {
    if (showComments) {
      fetchComments();
    }
  }, [showComments, post.id]);

  const { mutateAsync: setReaction, isPending: reacting } = useMutation({
    mutationFn: async (type) => {
      const { data } = await api.post(`/posts/${post.id}/reactions`, { type });
      return data;
    },
    onSuccess: () => {
      if (typeof onPostUpdated === "function") {
        onPostUpdated();
      } else {
        queryClient.invalidateQueries({ queryKey: ["posts"] });
      }
    },
  });

  const { mutateAsync: sendComment, isPending: commenting } = useMutation({
    mutationFn: async (content) => {
      const { data } = await api.post(`/posts/${post.id}/comments`, { content });
      return data;
    },
    onSuccess: (data) => {
      setComment("");
      // Actualiza la lista local para verlo al instante
      if (data && data.id) {
        setAllComments((prev) => {
          const merged = [...prev, data];
          setVisibleComments(merged.length);
          return merged;
        });
        commentsFetchedRef.current = true;
      }
      if (typeof onPostUpdated === "function") {
        onPostUpdated();
      } else if (typeof onCommentAdded === "function") {
        onCommentAdded();
      } else {
        queryClient.invalidateQueries({ queryKey: ["posts"] });
      }
    },
  });

  const { mutateAsync: updatePost, isPending: savingPost } = useMutation({
    mutationFn: async (content) => {
      const { data } = await api.put(`/posts/${post.id}`, { content });
      return data;
    },
    onSuccess: () => {
      setEditingPost(false);
      if (typeof onPostUpdated === "function") {
        onPostUpdated();
      } else {
        queryClient.invalidateQueries({ queryKey: ["posts"] });
      }
    },
  });

  const { mutateAsync: updateComment, isPending: savingComment } = useMutation({
    mutationFn: async ({ commentId, content }) => {
      const { data } = await api.put(`/posts/${post.id}/comments/${commentId}`, { content });
      return data;
    },
    onSuccess: () => {
      setEditingCommentId(null);
      setEditCommentContent("");
      if (typeof onPostUpdated === "function") {
        onPostUpdated();
      } else {
        queryClient.invalidateQueries({ queryKey: ["posts"] });
      }
    },
  });

  const { mutateAsync: reactComment, isPending: reactingComment } = useMutation({
    mutationFn: async ({ commentId, type }) => {
      const { data } = await api.post(`/posts/${post.id}/comments/${commentId}/reactions`, { type });
      return data;
    },
    onSuccess: (data, variables) => {
      // Actualiza estado local para respuesta instantnea
      if (variables?.commentId && data?.reactions) {
        setAllComments((prev) =>
          prev.map((c) =>
            c.id === variables.commentId
              ? { ...c, reactions: data.reactions, userReaction: data.userReaction }
              : c
          )
        );
      }
      if (typeof onPostUpdated === "function") {
        onPostUpdated();
      } else {
        fetchComments();
        queryClient.invalidateQueries({ queryKey: ["posts"] });
      }
    },
  });

  return (
    <article
      className={`overflow-hidden rounded-2xl border border-slate-200/70 dark:border-slate-800/70 bg-white dark:bg-slate-950 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md ${
        showHelpHighlight || post.type === "HELP_REQUEST" ? "ring-2 ring-amber-300/60" : ""
      }`}
      style={style}
    >
      <div className="p-4 space-y-4">
        {/* rea de hover: todo menos el input de comentario */}
        <div
          className="space-y-4"
          onMouseEnter={() => setShowComments(true)}
          onMouseLeave={() => setShowComments(false)}
        >
          <div className="flex items-start gap-3">
            <Avatar user={post.author} size={48} />
            <div className="flex-1 min-w-0">
              <div className="flex flex-wrap items-center gap-2">
                <Link to={`/profile/${post.author?.username || ""}`} className="hover:opacity-90">
                  <div>
                    <div className="font-semibold text-slate-900 dark:text-white leading-tight">
                      {post.author?.name}
                    </div>
                    <div className="text-xs text-slate-500 dark:text-slate-400">@{post.author?.username}</div>
                  </div>
                </Link>
                {post.type === "HELP_REQUEST" && (
                  <span className="ml-auto inline-flex items-center gap-1 rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-100 px-3 py-1 text-[11px] font-semibold">
                     Ayuda
                  </span>
                )}
                {post.squad && (
                  <span className="inline-flex items-center gap-1 rounded-full bg-slate-100 dark:bg-slate-800 px-3 py-1 text-[11px] text-slate-700 dark:text-slate-200">
                     {post.squad.name}
                  </span>
                )}
              </div>
              <div className="text-xs text-slate-500 mt-1">{new Date(post.createdAt).toLocaleString()}</div>
            </div>
          </div>

          <div className="text-slate-800 dark:text-slate-100 text-sm whitespace-pre-line leading-relaxed">
            {editingPost ? (
              <div className="space-y-2">
                <textarea
                  value={editContent}
                  onChange={(e) => setEditContent(e.target.value)}
                  className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm text-slate-800 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
                  rows={3}
                />
                <div className="flex gap-2">
                  <button
                    onClick={() => updatePost(editContent)}
                    disabled={savingPost || !editContent.trim()}
                    className="px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-60"
                  >
                    {savingPost ? "Guardando..." : "Guardar"}
                  </button>
                  <button
                    onClick={() => {
                      setEditingPost(false);
                      setEditContent(post.content || "");
                    }}
                    className="px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700 text-sm hover:bg-slate-100 dark:hover:bg-slate-800"
                  >
                    Cancelar
                  </button>
                </div>
              </div>
            ) : (
              formatTextWithHashtags(post.content)
            )}
          </div>

          {post.image && (
            <div className="overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900">
              <img
                src={`${mediaBase}/${post.image}`}
                alt="Post"
                className="w-full object-cover max-h-96 cursor-pointer"
                onClick={() => open(`${mediaBase}/${post.image}`, "Imagen")}
              />
            </div>
          )}

          {(safeHashtags.length || safeTags.length) && (
            <div className="flex flex-wrap gap-2 text-xs">
              {safeHashtags.map((tag) => (
                <Link
                  key={tag}
                  to={`/tag/${encodeURIComponent(tag)}`}
                  className="px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-200 dark:border-indigo-800 hover:bg-indigo-100 dark:hover:bg-indigo-900/50"
                >
                  #{tag}
                </Link>
              ))}
              {safeTags.map((tag) => (
                <Link
                  key={tag}
                  to={`/tag/${encodeURIComponent(tag)}`}
                  className="px-3 py-1 rounded-full bg-slate-100 text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700/80"
                >
                  #{tag}
                </Link>
              ))}
            </div>
          )}

          {/* Zona que controla el hover para desplegar comentarios (excluye el rea del input) */}
          <div className="flex flex-wrap items-center gap-2">
            {REACTION_ORDER.map((key) => (
              <button
                key={key}
                onClick={() => {
                  setReaction(key);
                  if (reactionHintTimeout.current) clearTimeout(reactionHintTimeout.current);
                  setReactionHint(REACTIONS[key].label);
                  reactionHintTimeout.current = setTimeout(() => setReactionHint(""), 900);
                }}
                disabled={reacting}
                className={`flex items-center gap-1 rounded-full px-3 py-1 text-sm transition border ${
                  currentReaction === key
                    ? "bg-indigo-50 dark:bg-indigo-900/40 border-indigo-200 dark:border-indigo-700 text-indigo-700 dark:text-indigo-200"
                    : "border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"
                }`}
              >
                <span>{REACTIONS[key].icon}</span>
                <span className="hidden sm:inline">{REACTIONS[key].label}</span>
                <span className="font-semibold">{post.reactions?.[key] ?? 0}</span>
              </button>
            ))}
            <div className="ml-auto flex items-center gap-2">
              <span className="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/40 dark:text-indigo-100 dark:border-indigo-700 text-xs font-semibold">
                 {post._count?.comments ?? allComments.length ?? 0}
              </span>
            </div>
            {post.author?.id === user?.id && !editingPost && (
              <button
                onClick={() => setEditingPost(true)}
                className="text-xs px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800"
              >
                Editar post
              </button>
            )}
          </div>

          <div className="space-y-3">
            {reactionHint && (
              <motion.div
                initial={{ opacity: 0, y: -4 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0, y: -4 }}
                className="md:hidden inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-800/80 text-slate-100 text-xs font-semibold shadow"
              >
                <span>{reactionHint}</span>
              </motion.div>
            )}
            {!showComments && (
              <div className="hidden md:block text-xs text-slate-500 dark:text-slate-300">
                Pas el mouse para ver comentarios (#{commentCount})
              </div>
            )}
            <div
              className={`rounded-xl border border-slate-200 dark:border-slate-800 ${
                showComments ? "bg-slate-50 dark:bg-slate-900/60" : "bg-transparent"
              }`}
            >
              <AnimatePresence>
                {showComments && (
                  <motion.div
                    key="comments-panel"
                    initial={{ opacity: 0, height: 0 }}
                    animate={{ opacity: 1, height: "auto" }}
                    exit={{ opacity: 0, height: 0 }}
                    transition={{ duration: 0.25, ease: "easeInOut" }}
                    className="max-h-64 overflow-y-auto px-3 py-2 space-y-3"
                    style={{ willChange: "transform, opacity" }}
                  >
                    {loadingComments && (
                      <div className="text-xs text-slate-500 dark:text-slate-300">Cargando comentarios...</div>
                    )}
                    {!loadingComments &&
                      allComments.slice(0, visibleComments).map((c) => {
                        const isAuthor = c.author?.id === user?.id;
                        const isEditingThis = editingCommentId === c.id;
                        return (
                          <motion.div
                            layout
                            key={c.id}
                            initial={{ opacity: 0, y: 4 }}
                            animate={{ opacity: 1, y: 0 }}
                            exit={{ opacity: 0, y: -4 }}
                            transition={{ duration: 0.15 }}
                            className="flex gap-2 items-start text-sm"
                          >
                            <Avatar user={c.author} size={32} />
                            <div className="flex-1 rounded-xl bg-slate-50 dark:bg-slate-900/60 border border-slate-200 dark:border-slate-800 px-3 py-2 space-y-1">
                                <div className="flex items-center justify-between">
                                <Link to={`/profile/${c.author?.username || ""}`} className="font-semibold text-slate-800 dark:text-slate-100 hover:underline">
                                  {c.author?.name}
                                </Link>
                                {isAuthor && !isEditingThis && (
                                  <button
                                    onClick={() => {
                                      setEditingCommentId(c.id);
                                      setEditCommentContent(c.content);
                                    }}
                                    className="text-[11px] text-slate-500 hover:text-indigo-600"
                                    type="button"
                                  >
                                    Editar
                                  </button>
                                )}
                              </div>
                              {isEditingThis ? (
                                <div className="space-y-1">
                                  <textarea
                                    value={editCommentContent}
                                    onChange={(e) => setEditCommentContent(e.target.value)}
                                    className="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-2 py-1 text-sm text-slate-800 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
                                    rows={2}
                                  />
                                  <div className="flex gap-2">
                                    <button
                                      onClick={() => updateComment({ commentId: c.id, content: editCommentContent })}
                                      disabled={savingComment || !editCommentContent.trim()}
                                      className="px-2 py-1 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-500 disabled:opacity-60"
                                    >
                                      {savingComment ? "Guardando..." : "Guardar"}
                                    </button>
                                    <button
                                      onClick={() => {
                                        setEditingCommentId(null);
                                        setEditCommentContent("");
                                      }}
                                      className="px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs hover:bg-slate-100 dark:hover:bg-slate-800"
                                    >
                                      Cancelar
                                    </button>
                                  </div>
                                </div>
                              ) : (
                                <p className="text-slate-700 dark:text-slate-200 whitespace-pre-line">
                                  {formatTextWithHashtags(c.content)}
                                </p>
                              )}
                              {!isEditingThis && (
                                <div className="flex flex-wrap items-center gap-2 text-[11px] text-slate-500 dark:text-slate-300">
                                  {REACTION_ORDER.map((key) => (
                                    <button
                                      key={key}
                                      onClick={() => reactComment({ commentId: c.id, type: key })}
                                      disabled={reactingComment}
                                      className={`flex items-center gap-1 rounded-full px-2 py-1 border ${
                                        c.userReaction === key
                                          ? "bg-indigo-50 dark:bg-indigo-900/40 border-indigo-200 dark:border-indigo-700 text-indigo-700 dark:text-indigo-200"
                                          : "border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"
                                      }`}
                                    >
                                      <span>{REACTIONS[key].icon}</span>
                                      <span className="font-semibold">{c.reactions?.[key] ?? 0}</span>
                                    </button>
                                  ))}
                                </div>
                              )}
                            </div>
                          </motion.div>
                        );
                      })}
                    {!loadingComments && allComments.length === 0 && (
                      <div className="text-xs text-slate-500 dark:text-slate-300">No hay comentarios an.</div>
                    )}
                  </motion.div>
                )}
              </AnimatePresence>
            </div>
          </div>
        </div>

        {/* Input y acciones adicionales (fuera del hover) */}
          <div className="space-y-3">
          <div className="flex items-center justify-center gap-2 text-sm text-slate-500 dark:text-slate-300 md:hidden">
            <button
              type="button"
              onClick={() => setShowComments((prev) => !prev)}
              className="flex items-center gap-2 px-3 py-2 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 shadow-sm"
            >
              <span className="inline-flex items-center justify-center w-6 h-6 rounded-full bg-indigo-600 text-white">
                <svg xmlns="http://www.w3.org/2000/svg" className="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                  <path strokeLinecap="round" strokeLinejoin="round" d="M7 8h10M7 12h6m-9 8l4-3h8l4 3V4a1 1 0 00-1-1H4a1 1 0 00-1 1v16z" />
                </svg>
              </span>
              <span className="font-semibold text-sm">Comentarios</span>
              <span className="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/80 dark:bg-slate-900/80 border border-slate-200 dark:border-slate-700 text-[12px] font-bold text-indigo-700 dark:text-indigo-200">
                {commentCount}
              </span>
              {commentCount > 0 && (
                <motion.span
                  animate={{ y: [0, 6, 0] }}
                  transition={{ repeat: Infinity, duration: 1.1, ease: "easeInOut" }}
                  className="text-indigo-500"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" className="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
                    <path fillRule="evenodd" d="M10 15a.75.75 0 01-.53-.22l-5-5a.75.75 0 011.06-1.06L10 13.19l4.47-4.47a.75.75 0 111.06 1.06l-5 5A.75.75 0 0110 15z" clipRule="evenodd" />
                  </svg>
                </motion.span>
              )}
            </button>
          </div>
          <div className="flex gap-2 items-start">
            <textarea
              value={comment}
              onChange={(e) => setComment(e.target.value)}
              ref={commentInputRef}
              rows={2}
              className="flex-1 rounded-xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 px-3 py-2 text-sm text-slate-800 dark:text-slate-100 focus:border-indigo-400 focus:outline-none"
              placeholder="Escribe un comentario..."
              onKeyDown={(e) => {
                if (e.key === "Enter" && !e.shiftKey) {
                  e.preventDefault();
                  if (comment.trim() && !commenting) {
                    sendComment(comment);
                  }
                }
              }}
            />
            <button
              onClick={() => sendComment(comment)}
              disabled={!comment.trim() || commenting}
              className="px-3 py-2 rounded-xl bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-500 disabled:opacity-60"
            >
              {commenting ? "Enviando..." : "Comentar"}
            </button>
          </div>

          {showHelpHighlight && (
            <div className="flex justify-end">
              <button
                onClick={() => commentInputRef.current?.focus()}
                className="px-3 py-2 rounded-lg bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200 text-xs font-semibold"
              >
                Comentar y dar una mano
              </button>
            </div>
          )}
        </div>
      </div>
    </article>
  );
}
</file>

<file path="backend/prisma/schema.prisma">
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        Int       @id @default(autoincrement())
  name      String
  username  String    @unique
  email     String    @unique
  bio       String?
  location  String?
  interests String[]  @default([])
  password  String
  avatar    String?
  hasCompletedOnboarding Boolean @default(false)
  themeId   Int?
  customThemeSettings Json?
  points    Int       @default(0)
  totalPointsEarned Int @default(0)
  loginStreak Int     @default(0)
  lastLoginAt DateTime?
  createdAt DateTime  @default(now())
  posts     Post[]
  comments  Comment[]
  likes     Like[]
  reactions Reaction[]
  commentReactions CommentReaction[]
  requestedFriendships Friendship[] @relation("friendRequester")
  receivedFriendships  Friendship[] @relation("friendAddressee")
  notifications        Notification[]
  messages             Message[]
  conversations        ConversationParticipant[]
  preferences          UserPreference?
  projects             Project[]
  squadMemberships     SquadMember[]
  userBadges           UserBadge[]
  feedbackAuthored     Feedback[]
  feedbackVotes        FeedbackVote[]
  theme                Theme?     @relation(fields: [themeId], references: [id])
  userItems            UserItem[]
  interactions         UserInteraction[]
  profileVideoUrl          String?
  profileVideoThumbnailUrl String?
  useVideoAvatar           Boolean @default(false)
  coverImageUrl            String?
  coverVideoUrl            String?
  termStats               UserTermStats[]
  relationsAsUser1        UserRelation[] @relation("UserRelationUser1")
  relationsAsUser2        UserRelation[] @relation("UserRelationUser2")
  ambiguousReferencesAuthored AmbiguousReference[] @relation("AmbiguousReferenceAuthor")
  ambiguousReferenceCandidates AmbiguousReferenceCandidate[] @relation("AmbiguousReferenceTarget")
}

model Post {
  id        Int        @id @default(autoincrement())
  content   String
  image     String?
  createdAt DateTime   @default(now())
  authorId  Int
  author    User       @relation(fields: [authorId], references: [id])
  comments  Comment[]
  likes     Like[]
  reactions Reaction[]
  tags      String[]   @default([])
  hashtags  String[]   @default([])
  type      PostType   @default(NORMAL)
  squadId   Int?
  squad     Squad?     @relation(fields: [squadId], references: [id])
  projectId Int?
  project   Project?   @relation(fields: [projectId], references: [id])
  ambiguousReferences AmbiguousReference[] @relation("PostAmbiguousReferences")
}

model Comment {
  id        Int       @id @default(autoincrement())
  content   String
  createdAt DateTime  @default(now())
  authorId  Int
  postId    Int
  author    User      @relation(fields: [authorId], references: [id])
  post      Post      @relation(fields: [postId], references: [id])
  reactions CommentReaction[]
}

model Like {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  userId    Int
  postId    Int
  user      User     @relation(fields: [userId], references: [id])
  post      Post     @relation(fields: [postId], references: [id])

  @@unique([userId, postId])
}

enum ReactionType {
  MACANUDO
  MESSIRVE
  JAJAJA
  DE_UNA
  QUE_BOLUDO
  QUE_BAJON
}

enum PostType {
  NORMAL
  HELP_REQUEST
  PROJECT_UPDATE
}

model Reaction {
  id        Int          @id @default(autoincrement())
  type      ReactionType
  createdAt DateTime     @default(now())
  userId    Int
  postId    Int
  user      User         @relation(fields: [userId], references: [id])
  post      Post         @relation(fields: [postId], references: [id])

  @@unique([userId, postId])
}

model CommentReaction {
  id        Int          @id @default(autoincrement())
  type      ReactionType
  createdAt DateTime     @default(now())
  userId    Int
  commentId Int
  user      User         @relation(fields: [userId], references: [id])
  comment   Comment      @relation(fields: [commentId], references: [id])

  @@unique([userId, commentId])
}

enum FriendshipStatus {
  PENDING
  ACCEPTED
}

model Friendship {
  id           Int               @id @default(autoincrement())
  requesterId  Int
  addresseeId  Int
  status       FriendshipStatus  @default(PENDING)
  createdAt    DateTime          @default(now())
  updatedAt    DateTime          @updatedAt
  requester    User              @relation("friendRequester", fields: [requesterId], references: [id])
  addressee    User              @relation("friendAddressee", fields: [addresseeId], references: [id])
  relationCategory String?       // amigo, familia, trabajo, deporte, pareja, etc
  relationDetail   String?       // primo, hermana, colega, etc

  @@unique([requesterId, addresseeId])
}

enum NotificationType {
  REACTION
  MENTION
  MESSAGE
  REEL_SHARED
}

model Notification {
  id        Int              @id @default(autoincrement())
  type      NotificationType
  data      Json
  readAt    DateTime?
  createdAt DateTime         @default(now())
  userId    Int
  user      User             @relation(fields: [userId], references: [id])
}

model UserPreference {
  id          Int      @id @default(autoincrement())
  userId      Int      @unique
  cardStyle   Json?
  theme       String?  // "light" | "dark" | custom palette key
  updatedAt   DateTime @updatedAt
  user        User     @relation(fields: [userId], references: [id])
}

enum InteractionType {
  REGISTER
  LOGIN
  POST_CREATED
  COMMENT_CREATED
  LIKE_GIVEN
}

model UserInteraction {
  id        Int             @id @default(autoincrement())
  userId    Int
  type      InteractionType
  weight    Int
  createdAt DateTime        @default(now())

  user      User            @relation(fields: [userId], references: [id])
}

model Theme {
  id                 Int      @id @default(autoincrement())
  key                String   @unique
  name               String
  primaryColor       String?
  secondaryColor     String?
  backgroundGradient String?
  decorations        Json?
  createdAt          DateTime @default(now())

  users              User[]
  shopItems          ShopItem[]
}

enum ShopItemCategory {
  THEME
  DECORATION
}

model ShopItem {
  id          Int               @id @default(autoincrement())
  key         String            @unique
  name        String
  description String?
  category    ShopItemCategory
  pricePoints Int
  assetData   Json?
  themeKey    String?
  theme       Theme?            @relation(fields: [themeKey], references: [key])
  userItems   UserItem[]
}

model UserItem {
  id         Int       @id @default(autoincrement())
  userId     Int
  itemId     Int
  acquiredAt DateTime  @default(now())
  equipped   Boolean   @default(false)

  user       User      @relation(fields: [userId], references: [id])
  item       ShopItem  @relation(fields: [itemId], references: [id])
}

enum SquadType {
  FOTO
  FITNESS
  IDIOMAS
  GENERAL
}

enum SquadRole {
  MEMBER
  ADMIN
}

model Squad {
  id          Int           @id @default(autoincrement())
  name        String
  slug        String        @unique
  description String
  tags        String[]      @default([])
  type        SquadType     @default(GENERAL)
  createdAt   DateTime      @default(now())

  members     SquadMember[]
  posts       Post[]
}

model SquadMember {
  userId   Int
  squadId  Int
  role     SquadRole @default(MEMBER)
  joinedAt DateTime  @default(now())

  user  User  @relation(fields: [userId], references: [id])
  squad Squad @relation(fields: [squadId], references: [id])

  @@id([userId, squadId])
}

enum ProjectCategory {
  PERSONAL
  CREATIVO
  SALUD
  ESTUDIO
  OTRO
}

enum ProjectVisibility {
  PUBLIC
  FRIENDS
  PRIVATE
}

model Project {
  id          Int               @id @default(autoincrement())
  userId      Int
  title       String
  description String?
  category    ProjectCategory   @default(OTRO)
  targetDate  DateTime?
  visibility  ProjectVisibility @default(PUBLIC)
  needsHelp   Boolean           @default(false)
  progress    Int               @default(0)

  user   User  @relation(fields: [userId], references: [id])
  posts  Post[]
}

model Badge {
  id          Int         @id @default(autoincrement())
  code        String      @unique
  name        String
  description String?
  icon        String?
  createdAt   DateTime    @default(now())

  userBadges  UserBadge[]
}

model UserBadge {
  userId   Int
  badgeId  Int
  grantedAt DateTime @default(now())

  user  User  @relation(fields: [userId], references: [id])
  badge Badge @relation(fields: [badgeId], references: [id])

  @@id([userId, badgeId])
}

enum FeedbackStatus {
  NEW
  REVIEWING
  IN_PROGRESS
  DONE
}

model Feedback {
  id          Int            @id @default(autoincrement())
  authorId    Int
  title       String
  description String
  votes       Int            @default(0)
  status      FeedbackStatus @default(NEW)
  createdAt   DateTime       @default(now())

  author        User           @relation(fields: [authorId], references: [id])
  feedbackVotes FeedbackVote[]
}

model FeedbackVote {
  userId     Int
  feedbackId Int
  createdAt  DateTime @default(now())

  user     User     @relation(fields: [userId], references: [id])
  feedback Feedback @relation(fields: [feedbackId], references: [id])

  @@id([userId, feedbackId])
}

model Hashtag {
  id         Int      @id @default(autoincrement())
  canonical  String   @unique
  display    String
  useCount   Int      @default(0)
  lastUsedAt DateTime @default(now())
}

model TermGlobal {
  id          Int      @id @default(autoincrement())
  term        String
  normalized  String   @unique
  totalCount  Int      @default(0)
  firstSeenAt DateTime @default(now())
  lastSeenAt  DateTime @default(now())
}

model TermTopicStats {
  id             Int    @id @default(autoincrement())
  termNormalized String
  tag            String
  count          Int    @default(0)

  @@unique([termNormalized, tag])
}

model UserTermStats {
  id           Int      @id @default(autoincrement())
  userId       Int
  term         String
  normalized   String
  isProperName Boolean  @default(false)
  count        Int      @default(0)
  lastSeenAt   DateTime @default(now())

  user User @relation(fields: [userId], references: [id])

  @@unique([userId, normalized])
  @@index([userId, normalized])
}

model UserRelation {
  id                Int      @id @default(autoincrement())
  user1Id           Int
  user2Id           Int
  score             Float    @default(0)
  lastInteractionAt DateTime @default(now())

  user1 User @relation("UserRelationUser1", fields: [user1Id], references: [id])
  user2 User @relation("UserRelationUser2", fields: [user2Id], references: [id])

  @@unique([user1Id, user2Id])
}

model AmbiguousReference {
  id        Int      @id @default(autoincrement())
  postId    Int
  authorId  Int
  label     String
  sentiment String
  kind      String
  createdAt DateTime @default(now())

  post   Post @relation("PostAmbiguousReferences", fields: [postId], references: [id])
  author User @relation("AmbiguousReferenceAuthor", fields: [authorId], references: [id])

  candidates AmbiguousReferenceCandidate[]
}

model AmbiguousReferenceCandidate {
  id           Int      @id @default(autoincrement())
  referenceId  Int
  targetUserId Int
  confidence   Float    @default(0)

  reference AmbiguousReference @relation(fields: [referenceId], references: [id])
  target    User               @relation("AmbiguousReferenceTarget", fields: [targetUserId], references: [id])
}

model Conversation {
  id           Int                        @id @default(autoincrement())
  isDirect     Boolean                    @default(true)
  createdAt    DateTime                   @default(now())
  participants ConversationParticipant[]
  messages     Message[]
}

model ConversationParticipant {
  id             Int          @id @default(autoincrement())
  conversationId Int
  userId         Int
  conversation   Conversation @relation(fields: [conversationId], references: [id])
  user           User         @relation(fields: [userId], references: [id])

  @@unique([conversationId, userId])
}

model Message {
  id             Int          @id @default(autoincrement())
  content        String
  createdAt      DateTime     @default(now())
  senderId       Int
  conversationId Int
  sender         User         @relation(fields: [senderId], references: [id])
  conversation   Conversation @relation(fields: [conversationId], references: [id])
}
</file>

<file path="frontend/src/pages/Feed.jsx">
import { useState } from "react";
import { useQuery } from "@tanstack/react-query";
import api from "../api/client";
import PostComposer from "../components/PostComposer";
import PostCard from "../components/PostCard";
import { FeedTabs } from "../components/feed/FeedTabs";
import { RightSidebar } from "../components/layout/RightSidebar";
import MobileHighlightsSection from "../features/highlights/MobileHighlightsSection";

export default function Feed() {
  const [mode, setMode] = useState("forYou"); // forYou | squads | help | explore

  const { data, isLoading } = useQuery({
    queryKey: ["posts", mode],
    queryFn: async () => {
      const endpoint =
        mode === "forYou"
          ? "/posts/feed/personal"
          : mode === "help"
            ? "/posts/feed/help"
            : mode === "squads"
              ? "/posts"
              : "/posts";
      const { data } = await api.get(endpoint);
      const list = Array.isArray(data)
        ? data
        : Array.isArray(data?.posts)
          ? data.posts
          : [];
      if (!Array.isArray(list)) {
        console.warn("[Feed] Respuesta inesperada en", endpoint, data);
      }
      return list;
    },
  });
  const posts = Array.isArray(data) ? data : [];

  return (
    <div className="max-w-6xl mx-auto px-4 space-y-4">
      {import.meta.env.VITE_ENABLE_HIGHLIGHTS === "1" && <MobileHighlightsSection />}

      <div id="composer" className="pt-2">
        <PostComposer />
      </div>

      <div className="grid md:grid-cols-[minmax(0,1.6fr)_minmax(0,1fr)] gap-6 pb-16">
        <section className="space-y-4">
          <FeedTabs active={mode} onChange={setMode} />

          {isLoading && (
            <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
              Cargando publicaciones...
            </div>
          )}
          {!isLoading && posts.length === 0 && (
            <div className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 text-center text-slate-500">
              An no hay publicaciones. Crea la primera!
            </div>
          )}
          {!isLoading &&
            posts.map((post) => (
              <PostCard key={post.id} post={post} showHelpHighlight={mode === "help"} />
            ))}
        </section>

        <aside className="hidden md:block">
          <RightSidebar />
        </aside>
      </div>
    </div>
  );
}
</file>

<file path="frontend/src/App.jsx">
import { Navigate, Route, Routes } from "react-router-dom";
import NavBar from "./components/NavBar";
import ProtectedRoute from "./components/ProtectedRoute";
import { useAuth } from "./context/AuthContext";
import EditProfile from "./pages/EditProfile";
import Feed from "./pages/Feed";
import Login from "./pages/Login";
import Profile from "./pages/Profile";
import Register from "./pages/Register";
import Chat from "./pages/Chat";
import Settings from "./pages/Settings";
import Lightbox from "./components/Lightbox";
import Squads from "./pages/Squads";
import SquadDetail from "./pages/SquadDetail";
import FeedbackPage from "./pages/Feedback";
import OnboardingWizard from "./components/OnboardingWizard";
import TagFeed from "./pages/TagFeed";
import MobileBottomNav from "./components/MobileBottomNav";
import MobileHeader from "./components/MobileHeader";
import { useLocation, useNavigate } from "react-router-dom";
import { useState } from "react";
import UserSearch from "./components/UserSearch";

function App() {
  const { user, loading } = useAuth();
  const location = useLocation();
  const navigate = useNavigate();
  const [mobileSearchOpen, setMobileSearchOpen] = useState(false);

  const resolveTab = () => {
    if (location.pathname.startsWith("/chat")) return "chat";
    if (location.pathname.startsWith("/shop")) return "shop";
    if (location.pathname.startsWith("/squads")) return "squads";
    if (location.pathname.startsWith("/feedback")) return "ideas";
    if (location.pathname.startsWith("/profile")) return "profile";
    if (location.pathname.includes("search")) return "search";
    return "home";
  };

  const handleTabChange = (tab) => {
    switch (tab) {
      case "home":
        navigate("/feed");
        setMobileSearchOpen(false);
        break;
      case "chat":
        navigate("/chat");
        setMobileSearchOpen(false);
        break;
      case "shop":
        navigate("/shop");
        setMobileSearchOpen(false);
        break;
      case "squads":
        navigate("/squads");
        setMobileSearchOpen(false);
        break;
      case "ideas":
        navigate("/feedback");
        setMobileSearchOpen(false);
        break;
      case "search":
        setMobileSearchOpen(true);
        break;
      case "profile":
        if (user?.username) navigate(`/profile/${user.username}`);
        setMobileSearchOpen(false);
        break;
      default:
        navigate("/feed");
        setMobileSearchOpen(false);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center text-slate-600">
        Cargando...
      </div>
    );
  }

  return (
    <div className="min-h-screen pb-16 md:pb-0 bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50">
      {user && (
        <>
          <div className="hidden md:block">
            <NavBar />
          </div>
          <MobileHeader />
        </>
      )}
      <div className="max-w-5xl mx-auto px-4 py-6">
        {user && !user.hasCompletedOnboarding ? (
          <OnboardingWizard />
        ) : (
          <Routes>
            <Route path="/login" element={user ? <Navigate to="/feed" /> : <Login />} />
            <Route path="/register" element={user ? <Navigate to="/feed" /> : <Register />} />
            <Route
              path="/feed"
              element={
                <ProtectedRoute>
                  <Feed />
                </ProtectedRoute>
              }
            />
            <Route
              path="/profile/edit"
              element={
                <ProtectedRoute>
                  <EditProfile />
                </ProtectedRoute>
              }
            />
            <Route
              path="/profile/:username"
              element={
                <ProtectedRoute>
                  <Profile />
                </ProtectedRoute>
              }
            />
            <Route
              path="/chat"
              element={
                <ProtectedRoute>
                  <Chat />
                </ProtectedRoute>
              }
            />
            <Route
              path="/settings"
              element={
                <ProtectedRoute>
                  <Settings />
                </ProtectedRoute>
              }
            />
            <Route
              path="/squads"
              element={
                <ProtectedRoute>
                  <Squads />
                </ProtectedRoute>
              }
            />
            <Route
              path="/squads/:id"
              element={
                <ProtectedRoute>
                  <SquadDetail />
                </ProtectedRoute>
              }
            />
            <Route
              path="/feedback"
              element={
                <ProtectedRoute>
                  <FeedbackPage />
                </ProtectedRoute>
              }
            />
            <Route
              path="/tag/:tagName"
              element={
                <ProtectedRoute>
                  <TagFeed />
                </ProtectedRoute>
              }
            />
            <Route path="/" element={<Navigate to="/feed" />} />
            <Route path="*" element={<Navigate to="/feed" />} />
          </Routes>
        )}
      </div>
      <Lightbox />
      {user && (
        <MobileBottomNav activeTab={resolveTab()} onChange={handleTabChange} />
      )}
      {user && mobileSearchOpen && (
        <div className="fixed inset-0 z-50 bg-slate-900/85 backdrop-blur-sm md:hidden">
          <div className="p-4">
            <div className="flex justify-between items-center mb-3 text-slate-100">
              <span className="font-semibold">Buscar personas</span>
              <button
                onClick={() => setMobileSearchOpen(false)}
                className="px-3 py-1 rounded-full bg-slate-800 text-sm"
              >
                Cerrar
              </button>
            </div>
            <div className="bg-slate-950/70 border border-slate-800 rounded-xl p-3 shadow-lg animate-[fadeIn_0.2s_ease]">
              <UserSearch />
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

export default App;
</file>

<file path="frontend/src/features/highlights/HighlightViewer.jsx">
import { useEffect, useRef, useState } from "react";
import { createPortal } from "react-dom";
import { MODES } from "./ModeConfig";

export default function HighlightViewer({ open, items = [], index = 0, onClose, mode }) {
  const [activeIndex, setActiveIndex] = useState(index);
  const [videoReady, setVideoReady] = useState(false);
  const [isPaused, setIsPaused] = useState(false);
  const [showStatus, setShowStatus] = useState(false);
  const [progress, setProgress] = useState(0);
  const videoRef = useRef(null);
  const statusTimeoutRef = useRef(null);

  useEffect(() => {
    if (open) {
      setActiveIndex(index);
      setVideoReady(false);
      setIsPaused(false);
      setProgress(0);
    }
  }, [open, index]);

  useEffect(() => {
    setVideoReady(false);
    setIsPaused(false);
    setProgress(0);
  }, [activeIndex]);

  useEffect(() => {
    const v = videoRef.current;
    if (!v) return;
    // This effect handles the play/pause logic based on isPaused and videoReady states.
    if (videoReady) {
      if (isPaused) {
        v.pause();
      } else {
        v.play().catch(error => {
          console.error("Autoplay was prevented:", error);
          // If autoplay fails, we update the state to reflect that the video is paused.
          setIsPaused(true);
        });
      }
    }
  }, [isPaused, videoReady]);

  const item = items[activeIndex];
  if (!open || !item) return null;

  const thumb = item.thumbUrl || item.thumbnail || item.imageUrl;
  const accent = MODES[mode]?.accent || "#3B82F6";

  const isPlayableVideo =
    item?.type === "video" &&
    typeof item?.url === "string" &&
    /\.(mp4|webm|ogg)(\?.*)?$/i.test(item.url);

  const handlePrev = () => {
    setActiveIndex((prev) => (prev - 1 + items.length) % items.length);
  };

  const handleNext = () => {
    setActiveIndex((prev) => (prev + 1) % items.length);
  };

  const showStatusIndicator = () => {
    if (statusTimeoutRef.current) clearTimeout(statusTimeoutRef.current);
    setShowStatus(true);
    statusTimeoutRef.current = setTimeout(() => setShowStatus(false), 800);
  };

  const togglePlayPause = () => {
    setIsPaused(!isPaused);
    showStatusIndicator();
  };

  const handleTimeUpdate = (e) => {
    const video = e.target;
    if (video.duration) {
      const percentage = (video.currentTime / video.duration) * 100;
      setProgress(percentage);
    }
  };

  return createPortal(
    <div className="fixed inset-0 z-50 md:hidden bg-slate-950 text-slate-50 flex flex-col">
      <div className="relative flex-1 overflow-hidden bg-slate-900" onClick={togglePlayPause}>
        {isPlayableVideo ? (
          <video
            key={item.id ?? activeIndex}
            ref={videoRef}
            src={item.url}
            autoPlay
            playsInline
            poster={thumb}
            className="absolute inset-0 w-full h-full object-contain"
            style={{ opacity: videoReady ? 1 : 0 }}
            onCanPlay={() => setVideoReady(true)}
            onError={() => setVideoReady(false)}
            onEnded={handleNext}
            onTimeUpdate={handleTimeUpdate}
          />
        ) : (
          thumb ? (
            <img src={thumb} alt={item.title || "Highlight"} className="w-full h-full object-cover" draggable={false} />
          ) : (
            <div className="w-full h-full flex items-center justify-center text-slate-400">Highlight</div>
          )
        )}
        
        {showStatus && (
          <div className="absolute inset-0 flex items-center justify-center bg-black/30 pointer-events-none">
            <span className="text-white text-6xl drop-shadow-lg">{isPaused ? '' : ''}</span>
          </div>
        )}

        <div className="absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none" />
        
        <div className="absolute bottom-0 left-0 right-0 h-1 bg-white/20">
          <div className="h-full bg-white" style={{ width: `${progress}%` }} />
        </div>

        <button onClick={(e) => { e.stopPropagation(); onClose(); }} aria-label="Cerrar" className="absolute top-4 right-4 h-10 w-10 rounded-full bg-black/60 border border-white/20 flex items-center justify-center text-lg"></button>
        <button onClick={(e) => { e.stopPropagation(); handlePrev(); }} aria-label="Anterior" className="absolute left-3 top-1/2 -translate-y-1/2 h-12 w-12 rounded-full bg-black/60 border border-white/15 flex items-center justify-center text-xl"></button>
        <button onClick={(e) => { e.stopPropagation(); handleNext(); }} aria-label="Siguiente" className="absolute right-3 top-1/2 -translate-y-1/2 h-12 w-12 rounded-full bg-black/60 border border-white/15 flex items-center justify-center text-xl"></button>

        <div className="absolute bottom-4 left-4 right-4 z-10 flex items-end justify-between gap-3">
          <div className="text-left space-y-1 drop-shadow">
            <div className="text-sm font-semibold">{item.title || "Highlight"}</div>
            <div className="text-xs text-slate-200">{item.authorName || ""}</div>
          </div>
          <div className="text-xs text-slate-200 flex items-center gap-2">
            <span className="inline-block h-2 w-2 rounded-full" style={{ backgroundColor: accent }} />
            <span>{activeIndex + 1}/{items.length}</span>
          </div>
        </div>
      </div>

      <div className="px-4 py-3 flex items-center justify-between text-xs text-slate-200">
        <div className="px-3 py-1 rounded-full border border-white/20" style={{ color: accent }}>Reels: {MODES[mode]?.label || "Modo"}</div>
        <div className="text-slate-400">{item.contentType || item.type || ""}</div>
      </div>
    </div>,
    document.body
  );
}
</file>

</files>
