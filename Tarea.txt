Tengo el componente `frontend/src/features/highlights/HighlightViewer.jsx` funcionando bien con Swipe y Reacciones flotantes.

Ahora necesito implementar la **Lógica de Conteo y Persistencia de Reacciones**.

Por favor, modifica el componente siguiendo estas instrucciones precisas:

1. **FUNCIÓN HELPER (Formato de números):**
   - Crea una función `formatCount(number)` fuera del componente o dentro.
   - Si el número es > 9999, debe mostrarse como miles con el sufijo "mil" (ej: 10500 -> "10.5mil", 100000 -> "100mil").
   - Si es menor, muestra el número normal.

2. **ESTADO LOCAL INTELIGENTE:**
   - Actualmente tengo `const [userReaction, setUserReaction] = useState(null)`.
   - Agrega un nuevo estado para los contadores: `const [reactionCounts, setReactionCounts] = useState({})`.
   - **IMPORTANTE:** Al cargar un nuevo video (`useEffect` que depende de `item` o `activeIndex`), inicializa estos estados usando los datos que vienen en `item` (ej: `item.userReaction` y `item.reactions`). Si no existen datos, usa `null` y `{}` por defecto.

3. **ACTUALIZACIÓN OPTIMISTA (En `handleReaction`):**
   - Modifica `handleReaction` para calcular los nuevos contadores al instante antes de llamar a la API:
     - **Caso 1 (Quitar):** Si el usuario toca la misma reacción que ya tiene, pon `userReaction` en null y resta 1 a ese contador.
     - **Caso 2 (Cambiar):** Si el usuario cambia de reacción (ej: de Like a Love), resta 1 al anterior y suma 1 al nuevo.
     - **Caso 3 (Nuevo):** Si no tenía reacción, suma 1 al nuevo.
   - Actualiza `setReactionCounts` y `setUserReaction` inmediatamente.
   - Luego haz la llamada a la API (`api.post(...)`) en segundo plano.

4. **UI DEL CONTADOR:**
   - En el mapeo de `REACTION_ORDER`, agrega un elemento `<span>` o `<div>` debajo de cada botón de reacción.
   - Debe mostrar el número formateado usando `reactionCounts[key] || 0`.
   - Estilo: Texto pequeño (`text-xs`), color blanco, sombreado (`drop-shadow-md`) para que se lea sobre el video, centrado con el botón.

5. **PRECAUCIÓN:**
   - No rompas el layout `absolute` de la columna de reacciones. El contador debe ser parte del "bloque" de cada reacción (quizás envolver botón y contador en un `div` flex vertical).

Genera el código actualizado manteniendo la funcionalidad de Swipe y Video intacta.