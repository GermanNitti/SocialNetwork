Tengo un bug visual en `HighlightViewer.jsx`: al tocar una reacción, el estado se actualiza y el componente se re-renderiza. Esto provoca que el elemento `<video>` reciba nuevas referencias de funciones (como `onEnded`), lo que causa que el video parpadee, se ponga negro o se reinicie visualmente, aunque el audio sigue.

Por favor, optimiza el componente para **aislar el renderizado del video**. Sigue estos pasos:

1. **ESTABILIZAR HANDLERS (useCallback):**
   - Envuelve las funciones `handleNext`, `handlePrev`, `togglePlayPause`, y `handleTimeUpdate` dentro de `useCallback`.
   - Asegúrate de que sus dependencias sean correctas (ej: `[items.length]` para next/prev).

2. **MEMOIZAR EL VIDEO (useMemo):**
   - Extrae el bloque JSX del `<video>` (y su contenedor inmediato si es necesario, o la lógica de renderizado condicional video/imagen) dentro de un `useMemo`.
   - Llámalo `renderMedia`.
   - **Dependencias del useMemo:** Solo debe depender de variables que REQUIERAN que el video cambie, es decir: `[activeIndex, item.url, videoReady, isPaused, handleNext, handleTimeUpdate]`.
   - **IMPORTANTE:** NO incluyas `userReaction`, `reactionCounts` o `reactionCache` en las dependencias de este `useMemo`. Esto es la clave para que el video no se entere de que diste like.

3. **INTEGRACIÓN:**
   - En el `return` del componente, reemplaza el bloque del video/imagen original por `{renderMedia}`.
   - Mantén la capa de reacciones (el overlay absoluto) FUERA de este `useMemo`, para que las reacciones sí puedan actualizarse libremente sin afectar al video.

**Objetivo:** Que al dar click en una reacción, los contadores se actualicen instantáneamente, pero el video de fondo siga reproduciéndose sin ningún parpadeo ni glitch visual.